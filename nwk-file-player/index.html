<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="./../xmlrpc.php">
<!-- <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
<link rel="shortcut icon" href="./../wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="./../wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/61cc3c87f2aa625d55d3026ecc452e96/1511014149index.css" media="all"/>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />
<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Node-Webkit File Player - A File player for your desktop | The Jackal of Javascript</title>
<meta name="description" content="A few days ago, Ignacio Tartavull reached out to me mentioning that he had built a file viewer based on Node Webkit powered Dashboard application and assoc"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="./index.html" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Node-Webkit File Player - A File player for your desktop | The Jackal of Javascript" />
<meta property="og:description" content="A few days ago, Ignacio Tartavull reached out to me mentioning that he had built a file viewer based on Node Webkit powered Dashboard application and assoc" />
<meta property="og:url" content="./nwk-file-player/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Angularjs" />
<meta property="article:published_time" content="2014-10-16T18:33:41+05:30" />
<meta property="article:modified_time" content="2014-10-29T11:05:03+05:30" />
<meta property="og:updated_time" content="2014-10-29T11:05:03+05:30" />
<meta property="og:image" content="./wp-content/uploads/2015/04/AAEAAQAAAAAAAAIvAAAAJDdhMmNhODJhLWFhODMtNGMwYy1iZmUyLTNkMTU3ZDY5MWE1MA.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="A few days ago, Ignacio Tartavull reached out to me mentioning that he had built a file viewer based on Node Webkit powered Dashboard application and assoc" />
<meta name="twitter:title" content="Node-Webkit File Player - A File player for your desktop | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="./wp-content/uploads/2015/04/AAEAAQAAAAAAAAIvAAAAJDdhMmNhODJhLWFhODMtNGMwYy1iZmUyLTNkMTU3ZDY5MWE1MA.jpg" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":".\/wp-includes\/js\/wp-emoji-release.min.js"}};
!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='savrix-style.css-css'  href='./wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='validate-engine-css-css'  href='./wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-css'  href='./wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='./wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='./wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='orgseries-default-css-css'  href='./wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/9f9f3b5f286a1b327e6bb0fdb1185c24/1511014149index.css" media="all"/>
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<!-- <link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wpfront-notification-bar-css'  href='./wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-style-css'  href='./wp-content/themes/sorbet/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-genericons-css'  href='./wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='easy_table_style-css'  href='./wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='upprev-css-css'  href='./wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='jetpack_css-css'  href='./wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/3af13bcd925b3eaa358c8ad5070bb07b/1511014148index.css" media="all"/>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');
__gaTracker('create', 'UA-47881846-1', 'auto');
__gaTracker('set', 'forceSSL', true);
__gaTracker('require', 'displayfeatures');
__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Node-Webkit File Player &#8211; A File player for your desktop' };
</script>
<script src='./../wp-content/cache/wpfc-minified/1f21a7a8ca343ebb57ffeb4ab24afbd9/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery.js'></script> -->
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery-migrate.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='./../wp-content/cache/wpfc-minified/052c748258385b6c23fc6642e73a4285/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script src='./../wp-content/cache/wpfc-minified/d57c91500961bea5aea0e849cf08f7e7/1511014151index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/js/front.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/upprev/scripts/upprev.js'></script> -->
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />
<style>
.scroll-back-to-top-wrapper {
position: fixed;
opacity: 0;
visibility: hidden;
overflow: hidden;
text-align: center;
z-index: 99999999;
background-color: #777777;
color: #eeeeee;
width: 50px;
height: 48px;
line-height: 48px;
right: 30px;
bottom: 30px;
padding-top: 2px;
border-top-left-radius: 10px;
border-top-right-radius: 10px;
border-bottom-right-radius: 10px;
border-bottom-left-radius: 10px;
-webkit-transition: all 0.5s ease-in-out;
-moz-transition: all 0.5s ease-in-out;
-ms-transition: all 0.5s ease-in-out;
-o-transition: all 0.5s ease-in-out;
transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
background-color: #888888;
color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
visibility:visible;
cursor:pointer;
opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
vertical-align: 0;
}
</style><style type="text/css">	.ssba {
}
.ssba img
{
width: 35px !important;
padding: 6px;
border:  0;
box-shadow: none !important;
display: inline !important;
vertical-align: middle;
}
.ssba, .ssba a
{
text-decoration:none;
border:0;
background: none;
font-family: Indie Flower;
font-size: 	20px;
}.ssba_sharecount:after, .ssba_sharecount:before {
right: 100%;
border: solid transparent;
content: " ";
height: 0;
width: 0;
position: absolute;
pointer-events: none;
}
.ssba_sharecount:after {
border-color: rgba(224, 221, 221, 0);
border-right-color: #f5f5f5;
border-width: 5px;
top: 50%;
margin-top: -5px;
}
.ssba_sharecount:before {
border-color: rgba(85, 94, 88, 0);
border-right-color: #e0dddd;
border-width: 6px;
top: 50%;
margin-top: -6px;
}
.ssba_sharecount {
font: 11px Arial, Helvetica, sans-serif;
padding: 5px;
-khtml-border-radius: 6px;
-o-border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;
position: relative;
border: 1px solid #e0dddd;color: #555e58;
background: #ffffff;
}
.ssba_sharecount:after {
border-right-color: #ffffff;
}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
</style>
</head>
<body class="single single-post postid-2280 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<div class="site-header-wrapper">
<div class="site-branding">
<h1 class="site-title"><a href="./../index.html" rel="home">The Jackal of Javascript</a></h1>
<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
</div>
<div class="toggles">
<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
</div>
</div>
</header><!-- #masthead -->
<div id="menu-toggle-nav" class="panel">
<nav id="site-navigation" class="main-navigation" role="navigation">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="./../index.html">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="./../portfolio/index.html">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="./../history-of-the-web/index.html">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="./../javascript-101/index.html">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="./../contact-request/index.html">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
</div>
<div id="search-toggle-nav" class="panel">
<div class="search-wrapper">
<form role="search" method="get" class="search-form" action="./../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</div>
</div>
<div id="content" class="site-content">
<div id="primary" class="content-area">
<main id="main" class="site-main" role="main">
<article id="post-2280" class="post-2280 post type-post status-publish format-standard hentry category-angularjs category-desktop-apps category-expressjs category-node category-node-webkit category-quick-and-dirty category-tutorial series-node-webkit-apps">
<header class="entry-header">
<h1 class="entry-title">Node-Webkit File Player &#8211; A File player for your desktop</h1>	</header><!-- .entry-header -->
<div class="entry-content">
<div class="seriesmeta" style="background:#4F5256; padding:5px;margin-bottom:5px;font-size:15px;color:white;padding-left: 20px;border-radius:3px;">This post is part 5 of 7 in the series <a href="./../series/node-webkit-apps/index.html" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></div><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./nwk-file-player/&amp;text=Node-Webkit+File+Player+%E2%80%93+A+File+player+for+your+desktop+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./nwk-file-player/&amp;text=Node-Webkit+File+Player+%E2%80%93+A+File+player+for+your+desktop+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./nwk-file-player/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./nwk-file-player/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://plus.google.com/share?url=./nwk-file-player/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./nwk-file-player/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./nwk-file-player/&amp;title=Node-Webkit File Player &#8211; A File player for your desktop" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./nwk-file-player/&amp;title=Node-Webkit File Player &#8211; A File player for your desktop', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./nwk-file-player/&amp;text=From The Jackal of Javascript Node-Webkit File Player &#8211; A File player for your desktop" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./nwk-file-player/&amp;text=From The Jackal of Javascript Node-Webkit File Player &#8211; A File player for your desktop', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node-Webkit File Player &#8211; A File player for your desktop&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node-Webkit File Player &#8211; A File player for your desktop&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="./../cdn-cgi/l/email-protection/index.html#3e014d4b5c545b5d4a0370515a5b13695b5c55574a1e7857525b1e6e525f475b4c1e1b0c081d060c0f0f051e7f1e7857525b1e4e525f475b4c1e58514c1e47514b4c1e5a5b4d554a514e185f534e055c515a4703784c51531e6a565b1e745f5d555f521e51581e745f485f4d5d4c574e4a1b0c0e564a4a4e0411114a565b545f5d555f525158545f485f4d5d4c574e4a105d515311504955135857525b134e525f475b4c11"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><p>A few days ago, <a title="Ignacio Tartavull" href="./www.linkedin.com/in/tartavull/index.html" target="_blank">Ignacio Tartavull</a> reached out to me mentioning that he had built a file viewer based on <a title="Node Webkit powered Dashboard application" href="./../node-webkit-powered-dashboard-app/index.html" target="_blank">Node Webkit powered Dashboard application</a> and associated the node webkit app as the default opener for<em>.ipynb</em> files. Which I thought was a pretty genius idea. You can check out the INotebook app <a href="https://github.com/tartavull/INotebook" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/tartavull/INotebook', 'here');" title="INotebook"  target="_blank">here</a>.</p>
<p>Inspired by that idea, I have written a file browser/player app with node webkit that can &#8220;play&#8221; basic files like txt, log, json, md, mp3, mp4, png and jpeg.</p>
<p>Also, mustapha has reached out to me requesting another tutorial on Node webkit. And Mitesh Agarwal reached out to me requesting a post on a node webkit file viewer. So here it goes.</p>
<p>The final product we are going to build will look like</p>
<p style="text-align: center;">
<!-- iframe plugin v.4.2 wordpress.org/plugins/iframe/ -->
<iframe width="853" height="480" src="//www.youtube.com/embed/b2VQ7f0sIZg?rel=0" frameborder="0" 0="allowfullscreen" scrolling="yes" class="iframe-class"></iframe>
</p>
<p>You can find the completed code <a href="https://github.com/arvindr21/nwkFilePlayer" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/nwkFilePlayer', 'here');" title="Code"  target="_blank">here</a>.</p>
<p>So, let us get started.</p>
<p><span id="more-2280"></span></p>
<h2>Prerequisites</h2>
<p>In this post, we will be building a nwk file player. This app will be built using node-webkit, Express.js and Angular.js.</p>
<p>If you are new to node-webkit refer</p>
<ul>
<li><a title="Node Webkit – Build Desktop Apps with Node and Web Technologies" href="./../getting-started-with-node-webkit-apps/index.html" target="_blank">Node Webkit – Build Desktop Apps with Node and Web Technologies</a></li>
<li><a title="Node Webkit powered Dashboard application" href="./../node-webkit-powered-dashboard-app/index.html" target="_blank">Node Webkit powered Dashboard application</a></li>
<li><a title="Node webkit and Angularjs – A MovieStub App" href="./../node-webkit-and-angularjs-a-moviestub-app/index.html" target="_blank">Node webkit and Angularjs – A MovieStub App</a></li>
<li><a title="node-webkit and Firebase – Simple and Social Authentication" href="./../node-webkit-firebase-simple-social-authentication/index.html" target="_blank">node-webkit and Firebase – Simple and Social Authentication</a></li>
</ul>
<p>If you are new to Express.js refer</p>
<ul>
<li><a title="Getting Started with Expressjs" href="./../getting-started-with-expressjs/index.html" target="_blank">Getting Started with Expressjs</a></li>
</ul>
<p>If you are new to Angular.js refer</p>
<ul>
<li><a title="Angularjs – A Hands On tutorial" href="./../angularjs-hands-on-tutorial/index.html" target="_blank">Angularjs – A Hands On tutorial</a></li>
</ul>
<p>We are also going to use a jQuery plugin named <a href="http://www.jstree.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.jstree.com/', 'jstree');" title="jstree"  target="_blank">jstree</a>. We will be leveraging this plugin in our app using an <a href="http://jstree-directive.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://jstree-directive.herokuapp.com/', 'Angular directive');" title="jstree-directive"  target="_blank">Angular directive</a>. Also refer to the below post on how to build a file browser with this plugin</p>
<ul>
<li><a title="Building a Web Based File Browser with jsTree, Angularjs and Expressjs" href="./../file-browser-with-jstree-angularjs-and-expressjs/index.html" target="_blank">Building a Web Based File Browser with jsTree, Angularjs and Expressjs</a></li>
</ul>
<h2>Setup project</h2>
<p>We will be using a slush generator named <a href="https://github.com/arvindr21/slush-wean" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/slush-wean', 'slush-wean');" title="slush-wean"  target="_blank">slush-wean</a> to scaffold a basic node webkit, Express.js and Angular.js app. And then we will build our application on top of it.</p>
<p>First, create a new folder named <em>nwkFilePlayer</em>. Open new terminal/prompt here. We will install gulp, slush and slush-wean modules globally. Run</p>
<p style="text-align: center;">
<span id="crayon-5a10413f5b872311064538" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">g</span><span class="crayon-h"> </span><span class="crayon-e">gulp </span><span class="crayon-e">slush </span><span class="crayon-v">slush</span><span class="crayon-o">-</span><span class="crayon-v">wean</span></span></span></p>
<p>Once this is done, we will scaffold a new wean app. Run</p>
<p style="text-align: center;">
<span id="crayon-5a10413f5b886683121700" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">slush </span><span class="crayon-v">wean</span></span></span></p>
<p>and fill the project name as <em>nwkFilePlayer.</em> It will take a couple of mins to download all dependencies. Your final project structure would be like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b88d034396017" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">project structure</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
.
|-- public
|   |-- css
|   |-- fonts
|   |-- js
|   |-- lib
|   `-- partials
|-- node_modules
|-- routes
`-- views</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b88d034396017-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b88d034396017-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b88d034396017-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b88d034396017-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b88d034396017-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b88d034396017-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b88d034396017-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b88d034396017-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b88d034396017-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b88d034396017-10">10</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b88d034396017-1"><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b88d034396017-2"><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">public</span></div><div class="crayon-line" id="crayon-5a10413f5b88d034396017-3"><span class="crayon-o">|</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">css</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b88d034396017-4"><span class="crayon-o">|</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">fonts</span></div><div class="crayon-line" id="crayon-5a10413f5b88d034396017-5"><span class="crayon-o">|</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b88d034396017-6"><span class="crayon-o">|</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">lib</span></div><div class="crayon-line" id="crayon-5a10413f5b88d034396017-7"><span class="crayon-o">|</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">`</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">partials</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b88d034396017-8"><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">node_modules</span></div><div class="crayon-line" id="crayon-5a10413f5b88d034396017-9"><span class="crayon-o">|</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-i">routes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b88d034396017-10"><span class="crayon-sy">`</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">views</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>To get an overview of the project structure, please refer the file browser app in the prerequisites above.</p>
<p>Now, to the run the app, we will execute</p>
<p style="text-align: center;">
<span id="crayon-5a10413f5b895731223065" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">gulp </span><span class="crayon-v">run</span></span></span></p>
<p>For the first time, nwbuilder will run and download the required libs to run the nwk app for your OS. This may take upto 5 minutes. Once that is downloaded, nwbuild will launch the app. You will see a splash screen and then the boilerplate home page appears. Sweet scaffolder right!</p>
<h2>Continue Development</h2>
<p>Now that we have the boilerplate working, we will begin working on the app.</p>
<p>Our application logic is very simple. When the app loads, we will show all the folders right from the root on the left hand side of the app in a tree view. And when a user clicks on the resource, we play that file. Play here refers to viewing an image, displaying a md/log/json/txt file and playing media. A simple app that is more than a &#8220;media center&#8221;.</p>
<p>Open <em>app.js</em> and we will add 2 new routes.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b89e489586941" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var express = require('express'),
path = require('path'),
cookieParser = require('cookie-parser'),
bodyParser = require('body-parser');
var routes = require('./routes');
var app = express();
// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');
app.use(bodyParser.json());
app.use(bodyParser.urlencoded());
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
app.use(app.router);
app.get('/', routes.index);
app.get('/api/tree', routes.tree);
app.get('/api/resource', routes.resource);
app.set('port', process.env.PORT || 3000);
var server = app.listen(app.get('port'), function() {
// log a message to console!
});
module.exports = app;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b89e489586941-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b89e489586941-30">30</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b89e489586941-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'express'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'path'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">cookieParser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'cookie-parser'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">bodyParser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'body-parser'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-6"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./routes'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-8"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">express</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-10"><span class="crayon-c">// view engine setup</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-11"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'views'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'views'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-12"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'view engine'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ejs'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-14"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">bodyParser</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-15"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">bodyParser</span><span class="crayon-sy">.</span><span class="crayon-e">urlencoded</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-16"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-e">cookieParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-17"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">express</span><span class="crayon-sy">.</span><span class="crayon-m">static</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'public'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-18"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">router</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-20"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">routes</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-21"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/tree'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">routes</span><span class="crayon-sy">.</span><span class="crayon-v">tree</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-22"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/resource'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">routes</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-24"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'port'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">process</span><span class="crayon-sy">.</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-v">PORT</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-26"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'port'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// log a message to console!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-28"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b89e489586941-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b89e489586941-30"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0081 seconds] -->
<p><strong>Line 21</strong> and <strong>line 22</strong> point to the new routes which we are going to create. Next open <em>routes/index.js</em> and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8a6153547879" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">routes/index.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var fs = require('fs');
var path = require('path');
exports.index = function(req, res) {
res.render('index');
};
exports.tree = function(req, res) {
var _p;
if (req.query.id == 1) {
_p = path.resolve('/Users/arvindravulavaru');
processReq(_p, res);
} else {
if (req.query.id) {
_p = req.query.id;
processReq(_p, res);
} else {
res.json(['No valid data found']);
}
}
}
exports.resource = function(req, res) {
var s = fs.statSync(req.query.resource);
/** http://stackoverflow.com/a/12900504/1015046  **/
var ext = req.query.resource.substr((Math.max(0, req.query.resource.lastIndexOf(".")) || Infinity) + 1);
if (ext == 'mp3') {
res.set({
'Content-Type': 'audio/mpeg',
'Content-Length': s.size
});
var readStream = fs.createReadStream(req.query.resource);
readStream.pipe(res);
} else if (ext == 'mp4') {
res.set({
'Content-Type': 'video/mp4',
'Content-Length': s.size
});
var readStream = fs.createReadStream(req.query.resource);
readStream.pipe(res);
} else if (ext == 'txt' || ext == 'log' || ext == 'json' || ext == 'md') {
res.send(fs.readFileSync(req.query.resource, 'UTF-8'));
} else if (ext == 'png' || ext == 'jpeg' || ext == 'jpg') {
res.end(fs.readFileSync(req.query.resource), 'binary');
} else {
res.send('Hmmm.. Looks like this file cannot be played.');
}
}
function processReq(_p, res) {
var resp = [];
fs.readdir(_p, function(err, list) {
for (var i = list.length - 1; i &gt;= 0; i--) {
resp.push(processNode(_p, list[i]));
}
res.json(resp);
});
}
function processNode(_p, f) {
var s = fs.statSync(path.join(_p, f));
return {
"id": path.join(_p, f),
"text": f,
"icon": s.isDirectory() ? 'jstree-custom-folder' : 'jstree-custom-file',
"state": {
"opened": false,
"disabled": false,
"selected": false
},
"li_attr": {
"base": path.join(_p, f),
"isLeaf": !s.isDirectory()
},
"children": s.isDirectory()
};
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-30">30</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-32">32</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-34">34</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-36">36</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-38">38</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-40">40</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-42">42</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-44">44</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-46">46</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-48">48</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-50">50</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-52">52</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-54">54</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-56">56</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-58">58</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-60">60</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-62">62</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-64">64</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-66">66</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-68">68</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-70">70</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-72">72</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-74">74</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-76">76</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-78">78</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8a6153547879-80">80</div><div class="crayon-num" data-line="crayon-5a10413f5b8a6153547879-81">81</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'fs'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'path'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-4"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'index'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-6"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-8"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">tree</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">_p</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">resolve</span><span class="crayon-sy">(</span><span class="crayon-s">'/Users/arvindravulavaru'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">processReq</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">processReq</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'No valid data found'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-22"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-24"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">statSync</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">/** http://stackoverflow.com/a/12900504/1015046&nbsp;&nbsp;**/</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">max</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">.</span><span class="crayon-e">lastIndexOf</span><span class="crayon-sy">(</span><span class="crayon-s">"."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-r">Infinity</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-28">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'mp3'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'audio/mpeg'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Length'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-i">size</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">readStream</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">createReadStream</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">readStream</span><span class="crayon-sy">.</span><span class="crayon-e">pipe</span><span class="crayon-sy">(</span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'mp4'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'video/mp4'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Length'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-i">size</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">readStream</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">createReadStream</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">readStream</span><span class="crayon-sy">.</span><span class="crayon-e">pipe</span><span class="crayon-sy">(</span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-45"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'txt'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'log'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'json'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'md'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">send</span><span class="crayon-sy">(</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">readFileSync</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'UTF-8'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'png'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'jpeg'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'jpg'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">readFileSync</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">resource</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'binary'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">send</span><span class="crayon-sy">(</span><span class="crayon-s">'Hmmm.. Looks like this file cannot be played.'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-51"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-52"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-54"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">processReq</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-55"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">resp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">readdir</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">--</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-e">processNode</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-v">resp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-62"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-64"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">processNode</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-65"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">statSync</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-66"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"id"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"text"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"icon"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">isDirectory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-s">'jstree-custom-folder'</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'jstree-custom-file'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"state"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"opened"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"disabled"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"selected"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"li_attr"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"base"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">_p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"isLeaf"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">isDirectory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"children"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">isDirectory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8a6153547879-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8a6153547879-81"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0317 seconds] -->
<p>Things to notice</p>
<p><strong>Line 4</strong> : Dispatches the main <em>index.html</em></p>
<p><strong>Line 8</strong> : The logic for serving the tree. If the 
<span id="crayon-5a10413f5b8b3684191416" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></span></span>  this means that the tree is loading for the first time. So, we dispatch the root files and folders. If not, we dispatch the files and folders from the requested path.</p>
<p><strong>Line 24</strong> : If a resource is selected, we dispatch the resource. If the resource is text based, we dispatch it completely. If the resource is media, we stream it for live playback.</p>
<h3>&#8220;Client Side&#8221;</h3>
<p>To manage &#8220;client side&#8221; dependencies, we will use bower. Before shipping the app, it is highly recommend to remove the unwanted files and ship the ones which are only required. Back to terminal/prompt, run</p>
<p style="text-align: center;">
<span id="crayon-5a10413f5b8bb226428920" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">bower </span><span class="crayon-v">init</span></span></span></p>
<p>This will create a <em>bower.json</em> file. Next, create a file at the root of the project named <em>.bowerrc</em>. This file will consist of the bower config. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8c1335738686" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">.bowerrc</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"directory": "public/libs",
"interactive" : false
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8c1335738686-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8c1335738686-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8c1335738686-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8c1335738686-4">4</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8c1335738686-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8c1335738686-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"directory"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"public/libs"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8c1335738686-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"interactive"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8c1335738686-4"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>To keep the code organized, we will delete the existing <em>public/lib</em> folder. So, all our dependencies are inside the <em>libs</em> folder. To add the required dependencies, run</p>
<p class="p1" style="text-align: center;">
<span id="crayon-5a10413f5b8c8031548903" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-i">bower</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">save </span><span class="crayon-e">angular </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-e">route </span><span class="crayon-e">bootstrap </span><span class="crayon-v">jstree</span><span class="crayon-o">-</span><span class="crayon-e">directive </span><span class="crayon-v">jstree</span></span></span></p>
<p>It will take a couple of minutes for all the dependencies to be downloaded.</p>
<p>Now, we will work on the User Interface. Open <em>views/index.ejs</em> and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8d2729044827" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">views/index.ejs</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html ng-app="nwkfileplayer"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Node-Webkit File Player&lt;/title&gt;
&lt;link rel="stylesheet" type="text/css" href="/libs/bootstrap/dist/css/bootstrap.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/libs/jstree/dist/themes/default/style.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/css/app.css"&gt;
&lt;script src="/libs/angular/angular.min.js"&gt;&lt;/script&gt;
&lt;script src="/libs/angular-route/angular-route.min.js"&gt;&lt;/script&gt;
&lt;script src="/libs/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="/libs/jstree/dist/jstree.min.js"&gt;&lt;/script&gt;
&lt;script src="/libs/jstree-directive/jsTree.directive.js"&gt;&lt;/script&gt;
&lt;script src="/js/app.js"&gt;&lt;/script&gt;
&lt;script src="/js/factory.js"&gt;&lt;/script&gt;
&lt;script src="/js/controllers.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body class="container"&gt;
&lt;div ng-include src="'partials/head.html'"&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;ng-view&gt;&lt;/ng-view&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-30">30</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8d2729044827-32">32</div><div class="crayon-num" data-line="crayon-5a10413f5b8d2729044827-33">33</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-2"><span class="crayon-o">&lt;</span><span class="crayon-e">html </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">app</span><span class="crayon-o">=</span><span class="crayon-s">"nwkfileplayer"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-v">Node</span><span class="crayon-o">-</span><span class="crayon-e">Webkit </span><span class="crayon-e">File </span><span class="crayon-v">Player</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/bootstrap/dist/css/bootstrap.min.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/jstree/dist/themes/default/style.min.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/css/app.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/angular/angular.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/angular-route/angular-route.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-14">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/jquery/dist/jquery.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/jstree/dist/jstree.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/libs/jstree-directive/jsTree.directive.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/js/app.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/js/factory.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/js/controllers.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-24"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-26"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"container"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-e">include </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"'partials/head.html'"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-30">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-31"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8d2729044827-32">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b8d2729044827-33"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0060 seconds] -->
<p>Here we refer the downloaded libraries. We will update the existing <em>public</em>/<em>partials/head.html</em> to reflect the App name. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8df289778187" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/head.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;div class="header" ng-controller="Toolbar"&gt;
&lt;div class="btn-group pull-right"&gt;
&lt;button ng-click="minimize()" type="button" class="btn btn-default btn-xs"&gt;
&lt;span class="glyphicon glyphicon-minus"&gt;&lt;/span&gt;
&lt;/button&gt;
&lt;button ng-click="toggleFullscreen()" type="button" class="btn btn-default btn-xs"&gt;
&lt;span class="glyphicon glyphicon-fullscreen"&gt;&lt;/span&gt;
&lt;/button&gt;
&lt;button ng-click="close()" type="button" class="btn btn-default btn-xs"&gt;
&lt;span class="glyphicon glyphicon-remove"&gt;&lt;/span&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;h1&gt;Node-Webkit File Player&lt;/h1&gt;
&lt;/div&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b8df289778187-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8df289778187-14">14</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8df289778187-1"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"header"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"Toolbar"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn-group pull-right"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"minimize()"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-default btn-xs"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"glyphicon glyphicon-minus"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"toggleFullscreen()"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-default btn-xs"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"glyphicon glyphicon-fullscreen"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"close()"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-default btn-xs"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"glyphicon glyphicon-remove"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8df289778187-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-v">Node</span><span class="crayon-o">-</span><span class="crayon-e">Webkit </span><span class="crayon-e">File </span><span class="crayon-v">Player</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8df289778187-14"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0042 seconds] -->
<p>Finally the main view of the app. The Tree and the players. Create a new file named <em>home.html</em> inside <em>public/partials </em>folder and update it is as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8eb740071957" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/home.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;div ng-controller="HomeCtrl"&gt;
&lt;div class="row"&gt;
&lt;div class="col-md-4 tree-browser"&gt;
&lt;js-tree tree-events="select_node:nodeSelected" tree-ajax="/api/tree"&gt;&lt;/js-tree&gt;
&lt;/div&gt;
&lt;div class="col-md-8 file-viewer" ng-hide="audioPlayer || videoPlayer || imagePlayer"&gt;
&lt;pre&gt;&lt;code&gt;{{fileViewer}}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="col-md-8 audio-player" ng-show="audioPlayer"&gt;
&lt;h3&gt;Now Playing : {{fileName}}&lt;/h3&gt;
&lt;hr/&gt;
&lt;audio id="audio" controls&gt;&lt;/audio&gt;
&lt;/div&gt;
&lt;div class="col-md-8 video-player" ng-show="videoPlayer"&gt;
&lt;h3&gt;Now Playing : {{fileName}}&lt;/h3&gt;
&lt;hr/&gt;
&lt;video id="video" controls&gt;&lt;/video&gt;
&lt;/div&gt;
&lt;div class="col-md-8 image-player" ng-show="imagePlayer"&gt;
&lt;h3&gt;Now Playing : {{fileName}}&lt;/h3&gt;
&lt;hr/&gt;
&lt;img ng-src="{{imgSrc}}"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8eb740071957-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b8eb740071957-25">25</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-1"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"HomeCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-4 tree-browser"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">js</span><span class="crayon-o">-</span><span class="crayon-e">tree </span><span class="crayon-v">tree</span><span class="crayon-o">-</span><span class="crayon-v">events</span><span class="crayon-o">=</span><span class="crayon-s">"select_node:nodeSelected"</span><span class="crayon-h"> </span><span class="crayon-v">tree</span><span class="crayon-o">-</span><span class="crayon-v">ajax</span><span class="crayon-o">=</span><span class="crayon-s">"/api/tree"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">js</span><span class="crayon-o">-</span><span class="crayon-v">tree</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-8 file-viewer"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">hide</span><span class="crayon-o">=</span><span class="crayon-s">"audioPlayer || videoPlayer || imagePlayer"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">pre</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">code</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">fileViewer</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">code</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">pre</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-8 audio-player"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"audioPlayer"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span><span class="crayon-e">Now </span><span class="crayon-v">Playing</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">fileName</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">audio </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"audio"</span><span class="crayon-h"> </span><span class="crayon-v">controls</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">audio</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-8 video-player"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"videoPlayer"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span><span class="crayon-e">Now </span><span class="crayon-v">Playing</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">fileName</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">video </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"video"</span><span class="crayon-h"> </span><span class="crayon-v">controls</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">video</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"col-md-8 image-player"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"imagePlayer"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span><span class="crayon-e">Now </span><span class="crayon-v">Playing</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">fileName</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h3</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"{{imgSrc}}"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8eb740071957-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10413f5b8eb740071957-25"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0076 seconds] -->
<p>Next, we will setup the Angular.js code. Open <em>public/js/app.js </em>and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b8f8153079216" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/app.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
window.app = angular.module('nwkfileplayer', ['ngRoute', 'jsTree.directive'])
.config(['$routeProvider',
function($routeProvider) {
$routeProvider.
when('/', {
templateUrl: '../partials/home.html',
controller: 'HomeCtrl'
}).
otherwise({
redirectTo: '/home'
});
}
])
.factory('GUI', function() {
return require('nw.gui');
})
.factory('Window', ['GUI', function(gui) {
return gui.Window.get();
}])
.controller('Toolbar', ['$scope', 'Window',
function($scope, Window) {
$scope.minimize = function() {
Window.minimize();
};
$scope.toggleFullscreen = function() {
Window.toggleKioskMode();
};
$scope.close = function() {
Window.close();
};
}
]);</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-30">30</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-32">32</div><div class="crayon-num" data-line="crayon-5a10413f5b8f8153079216-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b8f8153079216-34">34</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-1"><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'nwkfileplayer'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ngRoute'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'jsTree.directive'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'$routeProvider'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">routeProvider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">routeProvider</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">when</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'../partials/home.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'HomeCtrl'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">otherwise</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">redirectTo</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/home'</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'GUI'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'nw.gui'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'Window'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'GUI'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">gui</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">gui</span><span class="crayon-sy">.</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'Toolbar'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Window'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">minimize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">minimize</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">toggleFullscreen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">toggleKioskMode</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">close</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b8f8153079216-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b8f8153079216-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0083 seconds] -->
<p>We have added a HomeCtrl &#8211; The main controller for the app and a default route.  Next, we will create a Factory to interact with the Express.js server.</p>
<p>Create a new file named <em>factory.js</em> inside the <em>public/js </em>folder and update it as below.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b903927186082" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/factory.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
app.factory('FetchFileFactory', ['$http',
function($http) {
var _factory = {};
_factory.fetchFile = function(file) {
return $http.get('/api/resource?resource=' + encodeURIComponent(file));
};
return _factory;
}
]);
/*** http://stackoverflow.com/a/16721746/1015046 **/
/** Simplified Singleton approach for playing the audio/video **/
app.factory('audio', function($document) {
var audioElement = $document[0].getElementById('audio');
audioElement.autoPlay = true;
return {
audioElement: audioElement,
play: function(filename) {
audioElement.src = filename;
audioElement.play();
},
resume: function() {
audioElement.play();
},
pause: function() {
audioElement.pause();
},
stop: function() {
audioElement.pause();
audioElement.src = audioElement.currentSrc; /** http://stackoverflow.com/a/16978083/1015046 **/
},
incVol: function() {
if (audioElement.volume &lt; 1) {
audioElement.volume = (audioElement.volume + 0.1).toFixed(2);
}
return audioElement.volume;
},
decVol: function() {
if (audioElement.volume &gt; 0) {
audioElement.volume = (audioElement.volume - 0.1).toFixed(2);
}
return audioElement.volume;
},
timer: function(callback) {
audioElement.ontimeupdate = function() {
callback(audioElement.duration, audioElement.currentTime)
};
},
}
});
app.factory('video', function($document) {
var videoElement = $document[0].getElementById('video');
videoElement.autoPlay = true;
return {
videoElement: videoElement,
play: function(filename) {
videoElement.src = filename;
videoElement.play();
},
resume: function() {
videoElement.play();
},
pause: function() {
videoElement.pause();
},
stop: function() {
videoElement.pause();
videoElement.src = videoElement.currentSrc; /** http://stackoverflow.com/a/16978083/1015046 **/
},
incVol: function() {
if (videoElement.volume &lt; 1) {
videoElement.volume = (videoElement.volume + 0.1).toFixed(2);
}
return videoElement.volume;
},
decVol: function() {
if (videoElement.volume &gt; 0) {
videoElement.volume = (videoElement.volume - 0.1).toFixed(2);
}
return videoElement.volume;
},
timer: function(callback) {
videoElement.ontimeupdate = function() {
callback(videoElement.duration, videoElement.currentTime)
};
},
}
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-30">30</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-32">32</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-34">34</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-36">36</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-38">38</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-40">40</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-42">42</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-44">44</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-46">46</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-48">48</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-50">50</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-52">52</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-54">54</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-56">56</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-58">58</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-60">60</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-62">62</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-64">64</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-66">66</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-68">68</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-70">70</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-72">72</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-74">74</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-76">76</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-78">78</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-80">80</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-82">82</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-84">84</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-86">86</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-88">88</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-90">90</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-92">92</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b903927186082-94">94</div><div class="crayon-num" data-line="crayon-5a10413f5b903927186082-95">95</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b903927186082-1"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'FetchFileFactory'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$http'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">_factory</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-4">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b903927186082-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_factory</span><span class="crayon-sy">.</span><span class="crayon-v">fetchFile</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">file</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/resource?resource='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">encodeURIComponent</span><span class="crayon-sy">(</span><span class="crayon-v">file</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-8">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b903927186082-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">_factory</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-11"><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-12">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b903927186082-13"><span class="crayon-c">/*** http://stackoverflow.com/a/16721746/1015046 **/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-14"><span class="crayon-c">/** Simplified Singleton approach for playing the audio/video **/</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-15"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'audio'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-r">document</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">document</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'audio'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">autoPlay</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-18">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b903927186082-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">play</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resume</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pause</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-e">pause</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">stop</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-e">pause</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">currentSrc</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">/** http://stackoverflow.com/a/16978083/1015046 **/</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">incVol</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toFixed</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">decVol</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toFixed</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">timer</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">ontimeupdate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">audioElement</span><span class="crayon-sy">.</span><span class="crayon-v">currentTime</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-53"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-54"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-56"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'video'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-r">document</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">document</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'video'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-58"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">autoPlay</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-60"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-62">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b903927186082-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">play</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resume</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pause</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-e">pause</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">stop</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-e">pause</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">currentSrc</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">/** http://stackoverflow.com/a/16978083/1015046 **/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">incVol</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toFixed</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">decVol</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">0.1</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toFixed</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">volume</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">timer</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">ontimeupdate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">videoElement</span><span class="crayon-sy">.</span><span class="crayon-v">currentTime</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b903927186082-94"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b903927186082-95"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0239 seconds] -->
<p>Things to notice</p>
<p><strong>Line 1</strong> : Our resource factory. This factory is responsible for fetching the resource when we click on a file in the browser.</p>
<p><strong>Line 15</strong> : A Factory that is responsible for maintaining a single instance of the Audio tag. So, that only one file plays at once. We are not going to use any of the API methods written here except 
<span id="crayon-5a10413f5b914607570404" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-v">fileName</span><span class="crayon-sy">)</span></span></span> and 
<span id="crayon-5a10413f5b91e839225899" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">stop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> .  But you can use this code to customize or rebuild a custom player with your own controls.</p>
<p><strong>Line 56</strong> : A factory for Video tag. Same purpose as above.</p>
<p>This way we can have more control on the Audio and Video elements.</p>
<p>Finally the controller. Create a new file named <em>controller.js</em> inside <em>public/js</em> folder. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b928786253975" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/controllers.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
app.controller('HomeCtrl', ['$scope', 'FetchFileFactory', 'audio', 'video',
function($scope, FetchFileFactory, audio, video) {
$scope.fileViewer = 'Please select a file to view its contents';
$scope.nodeSelected = function(e, data) {
var _l = data.node.li_attr;
// TODO : RESET states - Need to find a better way to handle this
{
$scope.audioPlayer = false;
$scope.videoPlayer = false;
$scope.imagePlayer = false;
if ($scope.isAudioPlaying) {
audio.stop();
$scope.isAudioPlaying = false;
}
if ($scope.isVideoPlaying) {
video.stop();
$scope.isVideoPlaying = false;
}
}
if (_l.isLeaf) {
var uri = _l.base;
/** http://stackoverflow.com/a/12900504/1015046  **/
var ext = uri.substr((Math.max(0, uri.lastIndexOf(".")) || Infinity) + 1);
if (ext.trim().length == 0) {
$scope.$apply(function() {
$scope.fileViewer = 'Hmmm.. Looks like this file cannot be played.';
});
} else if (ext == 'png' || ext == 'jpeg' || ext == 'jpg') {
$scope.$apply(function() {
$scope.imagePlayer = true;
$scope.fileName = uri;
$scope.imgSrc = '/api/resource?resource=' + uri;
});
} else if (ext == 'mp3') {
$scope.$apply(function() {
$scope.audioPlayer = true;
$scope.fileName = uri;
audio.play('/api/resource?resource=' + uri);
$scope.isAudioPlaying = true;
});
} else if (ext == 'mp4') {
$scope.$apply(function() {
$scope.videoPlayer = true;
$scope.fileName = uri;
video.play('/api/resource?resource=' + uri);
$scope.isVideoPlaying = true;
});
} else if (ext == 'txt' || ext == 'log' || ext == 'json' || ext == 'md') {
FetchFileFactory.fetchFile(uri).then(function(data) {
var _d = data.data;
if (typeof _d == 'object') {
/** http://stackoverflow.com/a/7220510/1015046 **/
_d = JSON.stringify(_d, undefined, 2);
}
$scope.fileViewer = _d;
});
}
} else {
$scope.$apply(function() {
$scope.fileViewer = 'Please select a file to view its contents';
});
}
};
}
]);</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-24">24</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-26">26</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-28">28</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-30">30</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-32">32</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-34">34</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-36">36</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-38">38</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-40">40</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-42">42</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-44">44</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-46">46</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-48">48</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-50">50</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-52">52</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-54">54</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-56">56</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-58">58</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-60">60</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-62">62</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-64">64</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-66">66</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-68">68</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-70">70</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-72">72</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-74">74</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-76">76</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-78">78</div><div class="crayon-num" data-line="crayon-5a10413f5b928786253975-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b928786253975-80">80</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b928786253975-1"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'HomeCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'FetchFileFactory'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'audio'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'video'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">FetchFileFactory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">audio</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">video</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">fileViewer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Please select a file to view its contents'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-4">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">nodeSelected</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">_l</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">node</span><span class="crayon-sy">.</span><span class="crayon-v">li_attr</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// TODO : RESET states - Need to find a better way to handle this</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">audioPlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">videoPlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">imagePlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isAudioPlaying</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audio</span><span class="crayon-sy">.</span><span class="crayon-e">stop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isAudioPlaying</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isVideoPlaying</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video</span><span class="crayon-sy">.</span><span class="crayon-e">stop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isVideoPlaying</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">_l</span><span class="crayon-sy">.</span><span class="crayon-v">isLeaf</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">_l</span><span class="crayon-sy">.</span><span class="crayon-v">base</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/** http://stackoverflow.com/a/12900504/1015046&nbsp;&nbsp;**/</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">max</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">.</span><span class="crayon-e">lastIndexOf</span><span class="crayon-sy">(</span><span class="crayon-s">"."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-r">Infinity</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-30">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">fileViewer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Hmmm.. Looks like this file cannot be played.'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-32">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'png'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'jpeg'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'jpg'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-36">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">imagePlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">imgSrc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/api/resource?resource='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-40">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'mp3'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-44">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">audioPlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">audio</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/resource?resource='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isAudioPlaying</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'mp4'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">videoPlayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/resource?resource='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">isVideoPlaying</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-58">&nbsp;</div><div class="crayon-line" id="crayon-5a10413f5b928786253975-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'txt'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'log'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'json'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">ext</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'md'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">FetchFileFactory</span><span class="crayon-sy">.</span><span class="crayon-e">fetchFile</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">_d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">_d</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'object'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/** http://stackoverflow.com/a/7220510/1015046 **/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">_d</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">undefined</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">fileViewer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">_d</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">fileViewer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Please select a file to view its contents'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b928786253975-79"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b928786253975-80"><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0220 seconds] -->
<p>Things to notice</p>
<p><strong>Line 5</strong> : This function will get triggered when a user clicks on a tree node/leaf. We check if the clicked node/leaf is a leaf and then start processing it on line 24.</p>
<p><strong>Line 27</strong> : We determine the extension of the file and depending on it, we trigger the respective media players. If it is a text/image file we simply fetch the resource and display it.</p>
<p>As of now, we are supporting only a mp3/mp4 and log, txt, json and md file types. You can add your own file types and dispatch an appropriate response from <em>routes/index.js</em> when the file is requested.</p>
<h3>Using the video &amp; audio tags inside Node Webkit</h3>
<p>This is one of the most important steps. By default node webkit ships with only open source libraries. But if you want to play mp3 or mp4 files you need to modify the node webkit binaries.</p>
<blockquote><p>Due to licensing issues, the pre-built binary doesn&#8217;t ship with the necessary codecs for patented media formats. If you require support for these formats, see the instructions below.</p>
<p><em><strong>Consult a lawyer if you do not understand the licensing constraints and require patented media formats in your application.</strong></em></p></blockquote>
<p>So once we update the binaries with the new <em>ffmpegsumo</em> file for your OS, your project will automatically become a GPL licensed.</p>
<p>Below is how we enable Mp3 and Mp4 support for our app.</p>
<h4>Windows</h4>
<ol class="task-list">
<li>Locate the Chrome\Application folder (e.g. C:\Program Files\Google)</li>
<li>Copy <code>ffmpegsumo.dll</code> to your node-webkit distribution directory</li>
</ol>
<h4>OSX</h4>
<ol>
<li>Head to your Applications folder and right-click on Google Chrome. Select Show Package Contents and navigate to Versions &gt; Most recent # &gt; Framework &gt; Libraries.</li>
<li>Copy <code>ffmpegsumo.so</code> to 
<span id="crayon-5a10413f5b93b938282819" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">/</span><span class="crayon-v">nwkFilePlayer</span><span class="crayon-o">/</span><span class="crayon-v">node_modules</span><span class="crayon-o">/</span><span class="crayon-v">node</span><span class="crayon-o">-</span><span class="crayon-v">webkit</span><span class="crayon-o">-</span><span class="crayon-v">builder</span><span class="crayon-o">/</span><span class="crayon-v">cache</span><span class="crayon-o">/</span><span class="crayon-cn">0.10.5</span><span class="crayon-o">/</span><span class="crayon-v">osx</span><span class="crayon-o">/</span><span class="crayon-v">node</span><span class="crayon-o">-</span><span class="crayon-v">webkit</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">Contents</span><span class="crayon-o">/</span><span class="crayon-v">Frameworks</span><span class="crayon-o">/</span><span class="crayon-v">node</span><span class="crayon-o">-</span><span class="crayon-e">webkit </span><span class="crayon-v">Framework</span><span class="crayon-sy">.</span><span class="crayon-v">framework</span><span class="crayon-o">/</span><span class="crayon-v">Libraries</span></span></span></li>
</ol>
<p>You can find more info on how to set up for your OS <a href="https://github.com/rogerwang/node-webkit/wiki/Using-MP3-&amp;-MP4-(H.264)-using-the--video--&amp;--audio--tags." onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/rogerwang/node-webkit/wiki/Using-MP3-&amp;-MP4-(H.264)-using-the--video--&amp;--audio--tags.', 'here');" title="Using MP3 &amp; MP4 (H.264) using the video &amp; audio tags"  target="_blank">here</a>.</p>
<p><em>Note : Every time you download a new instance of node-webkit, be sure to update this.</em></p>
<p>Finally to cleanup the UI, we will apply styles. Delete <em>public/css/bootstrap.css</em>. Open <em>public/css/</em><em>app.css</em> and update it as</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10413f5b944324120172" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/css/app.css</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">CSS</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
.tree-browser {
overflow: auto;
width: 315px;
border: 3px solid #999;
background: #eee;
padding-top: 20px;
margin-bottom: 20px;
}
.file-viewer {
padding-left: 50px;
overflow: auto;
}
.jstree-custom-folder {
background-image: url('../imgs/folder.png') !important;
background-position: 0 !important;
}
.jstree-custom-file {
background-image: url('../imgs/file.png') !important;
background-position: 0 !important;
}
audio, video, img {
width: 100%;
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-2">2</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-4">4</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-6">6</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-8">8</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-10">10</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-12">12</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-14">14</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-16">16</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-18">18</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-20">20</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10413f5b944324120172-22">22</div><div class="crayon-num" data-line="crayon-5a10413f5b944324120172-23">23</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10413f5b944324120172-1"><span class="crayon-k">.tree-browser </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">overflow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">315px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">border</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">3px</span><span class="crayon-h"> </span><span class="crayon-i">solid</span><span class="crayon-h"> </span><span class="crayon-i">#999</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">#eee</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">padding-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">margin-bottom</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-8"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-9"><span class="crayon-k">.file-viewer </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">padding-left</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">50px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">overflow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-12"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-13"><span class="crayon-k">.jstree-custom-folder </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">background-image</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">url</span><span class="crayon-sy">(</span><span class="crayon-s">'../imgs/folder.png'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-cn">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0</span><span class="crayon-h"> </span><span class="crayon-cn">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-16"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-17"><span class="crayon-k">.jstree-custom-file </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">background-image</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">url</span><span class="crayon-sy">(</span><span class="crayon-s">'../imgs/file.png'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-cn">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">background-position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0</span><span class="crayon-h"> </span><span class="crayon-cn">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-20"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-21"><span class="crayon-k">audio, video, img </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10413f5b944324120172-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">100%</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10413f5b944324120172-23"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0034 seconds] -->
<p>Create another folder named <em>imgs</em> inside the <em>public</em> folder and download the images from <em><a href="https://github.com/arvindr21/nwkFilePlayer/tree/master/public/imgs" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/nwkFilePlayer/tree/master/public/imgs', 'here');" title="Images"  target="_blank">here</a>. </em>This will be the icons for the tree.</p>
<p>That is it. Now save all the files and execute</p>
<p style="text-align: center;">
<span id="crayon-5a10413f5b94d713560733" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">gulp </span><span class="crayon-v">run</span></span></span></p>
<p>And you should see your file browser/player!</p>
<p>If you want to distribute the app, you can use the gulp build task for the required Operating System.</p>
<p>Hope this post gave you a decent idea on how to work with file system, node modules and HTML5 media elements.</p>
<hr />
<p>Thanks for reading! Do comment.<br />
@arvindr21</p>
<fieldset><legend>Series Navigation</legend><span class="series-nav-left"><a href="./../node-webkit-firebase-simple-social-authentication/index.html" title="&lt;&lt; node-webkit and Firebase &#8211; Simple and Social Authentication">&lt;&lt; node-webkit and Firebase &#8211; Simple and Social Authentication</a></span><span class="series-nav-right"><a href="./../one-to-one-chat-client/index.html" title="Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client &gt;&gt;">Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client &gt;&gt;</a></span></fieldset><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./nwk-file-player/&amp;text=Node-Webkit+File+Player+%E2%80%93+A+File+player+for+your+desktop+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./nwk-file-player/&amp;text=Node-Webkit+File+Player+%E2%80%93+A+File+player+for+your+desktop+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./nwk-file-player/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./nwk-file-player/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://plus.google.com/share?url=./nwk-file-player/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./nwk-file-player/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./nwk-file-player/&amp;title=Node-Webkit File Player &#8211; A File player for your desktop" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./nwk-file-player/&amp;title=Node-Webkit File Player &#8211; A File player for your desktop', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./nwk-file-player/&amp;text=From The Jackal of Javascript Node-Webkit File Player &#8211; A File player for your desktop" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./nwk-file-player/&amp;text=From The Jackal of Javascript Node-Webkit File Player &#8211; A File player for your desktop', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node-Webkit File Player &#8211; A File player for your desktop&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node-Webkit File Player &#8211; A File player for your desktop&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="./../cdn-cgi/l/email-protection/index.html#d2eda1a7b0b8b7b1a6ef9cbdb6b7ff85b7b0b9bba6f294bbbeb7f282beb3abb7a0f2f7e0e4f1eae0e3e3e9f293f294bbbeb7f2a2beb3abb7a0f2b4bda0f2abbda7a0f2b6b7a1b9a6bda2f4b3bfa2e9b0bdb6abef94a0bdbff286bab7f298b3b1b9b3bef2bdb4f298b3a4b3a1b1a0bba2a6f7e0e2baa6a6a2e8fdfda6bab7b8b3b1b9b3bebdb4b8b3a4b3a1b1a0bba2a6fcb1bdbffdbca5b9ffb4bbbeb7ffa2beb3abb7a0fd"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-2280-5a1041401b8ab' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=2280&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-2280-5a1041401b8ab' data-name='like-post-frame-70838519-2280-5a1041401b8ab'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
<div class="entry-content">
</div><!-- .entry-content -->
<footer class="entry-meta">
<span class="post-date"><a href="./index.html" title="6:33 pm" rel="bookmark"><time class="entry-date" datetime="2014-10-16T18:33:41+00:00">October 16, 2014</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="./../author/arvind-ravulavaru/index.html" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
<nav class="navigation post-navigation" role="navigation">
<h1 class="screen-reader-text">Post navigation</h1>
<div class="nav-links">
<div class="nav-previous"><a href="./../rpi-buzzer-node-iot-doorbell/index.html" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="./../rpi-pir-sensor-node-iot-intruder-alert/index.html" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
</nav><!-- .navigation -->
<div id="disqus_thread">
<div id="dsq-content">
<ul id="dsq-comments">
<li class="comment even thread-even depth-1" id="dsq-comment-3035">
<div id="dsq-comment-header-3035" class="dsq-comment-header">
<cite id="dsq-cite-3035">
<span id="dsq-author-user-3035">Ethan Arrowood</span>
</cite>
</div>
<div id="dsq-comment-body-3035" class="dsq-comment-body">
<div id="dsq-comment-message-3035" class="dsq-comment-message"><p>Arvind, I know it&#8217;s been awhile since you made this but hopefully you can help me out. I&#8217;m on a windows machine, but I am trying to make my app single file executable for OSX. I got it to work as an .exe (single file executable). Can you give me some pointers as to how to make it single file executable for OSX? Currently I got up to the step where I download gulp. I enter the gulp nw command and it returns an error saying it doesn&#8217;t recognize the command &#8216;gulp&#8217;.<br />
Thanks in advanced</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2796">
<div id="dsq-comment-header-2796" class="dsq-comment-header">
<cite id="dsq-cite-2796">
<span id="dsq-author-user-2796">Paramanantham</span>
</cite>
</div>
<div id="dsq-comment-body-2796" class="dsq-comment-body">
<div id="dsq-comment-message-2796" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Is it possible to create .exe file which will install the node webkit app in some location (C:/program files) and create a shortcut for the application?</p>
<p>Like real desktop apps?</p>
<p>Since currently due to file size (almost 90mb), the exe file is taking some 20 sec to load. User wont see any notification while loading in node webkit&#8230; How to solve this problem?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2714">
<div id="dsq-comment-header-2714" class="dsq-comment-header">
<cite id="dsq-cite-2714">
<span id="dsq-author-user-2714">Paramanantham</span>
</cite>
</div>
<div id="dsq-comment-body-2714" class="dsq-comment-body">
<div id="dsq-comment-message-2714" class="dsq-comment-message"><p>Hey Arvind,</p>
<p>I am developing a offline desktop application for ufaber.com. It contains encrypted (using node js crypto algorithms) video files. The assets are nearly 7GB&#8230;. Now, I am facing difficulty to package it. </p>
<p>Is there any poosible way to package node webkit app excluding some large data folder outside of build and accessable from the application. Is it possible?</p>
<p>Thanks in advance. Right now my executable file is too heavy like 7GB because of the data&#8230;</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2724">
<div id="dsq-comment-header-2724" class="dsq-comment-header">
<cite id="dsq-cite-2724">
./                <span id="dsq-author-user-2724">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2724" class="dsq-comment-body">
<div id="dsq-comment-message-2724" class="dsq-comment-message"><p>Hey Paramanantham,</p>
<p>AFAIK, there is nothing out-of-box to manage data. The question I have here is do you want to reduce the size of download or do you want to reduce the size of the app on-disk?</p>
<p>If it is the size of download, I would recommend implementing a download manager, that downloads assets after the user has downloaded the app.</p>
<p>If it is the size on disk, I recommend streaming the video instead of downloading the assets,</p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2486">
<div id="dsq-comment-header-2486" class="dsq-comment-header">
<cite id="dsq-cite-2486">
<span id="dsq-author-user-2486">Rohan</span>
</cite>
</div>
<div id="dsq-comment-body-2486" class="dsq-comment-body">
<div id="dsq-comment-message-2486" class="dsq-comment-message"><p>Great resources could you help at <a href="https://github.com/mllrsohn/node-webkit-builder/issues/217" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/mllrsohn/node-webkit-builder/issues/217', 'https://github.com/mllrsohn/node-webkit-builder/issues/217');" rel="nofollow">https://github.com/mllrsohn/node-webkit-builder/issues/217</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2312">
<div id="dsq-comment-header-2312" class="dsq-comment-header">
<cite id="dsq-cite-2312">
<span id="dsq-author-user-2312">unagieel</span>
</cite>
</div>
<div id="dsq-comment-body-2312" class="dsq-comment-body">
<div id="dsq-comment-message-2312" class="dsq-comment-message"><p>Doesn&#8217;t work on Windows: Error: EPERM, operation not permitted &#8216;c:System Volume Information&#8217;</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2313">
<div id="dsq-comment-header-2313" class="dsq-comment-header">
<cite id="dsq-cite-2313">
./                <span id="dsq-author-user-2313">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2313" class="dsq-comment-body">
<div id="dsq-comment-message-2313" class="dsq-comment-message"><p>Can you tell me when you are getting this error? </p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2329">
<div id="dsq-comment-header-2329" class="dsq-comment-header">
<cite id="dsq-cite-2329">
<span id="dsq-author-user-2329">unagieel</span>
</cite>
</div>
<div id="dsq-comment-body-2329" class="dsq-comment-body">
<div id="dsq-comment-message-2329" class="dsq-comment-message"><p>When I launch it, it will display the progress wheel, and then that error will display.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2335">
<div id="dsq-comment-header-2335" class="dsq-comment-header">
<cite id="dsq-cite-2335">
./                <span id="dsq-author-user-2335">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2335" class="dsq-comment-body">
<div id="dsq-comment-message-2335" class="dsq-comment-message"><p>Is this after scaffolding a new slush-wean app?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2074">
<div id="dsq-comment-header-2074" class="dsq-comment-header">
<cite id="dsq-cite-2074">
<span id="dsq-author-user-2074">Trevor</span>
</cite>
</div>
<div id="dsq-comment-body-2074" class="dsq-comment-body">
<div id="dsq-comment-message-2074" class="dsq-comment-message"><p>Thanks for these tutorials. I have been enjoying building my desktop app with node-webkit and your slush generator. However, when I run the app with &#8216;gulp-run&#8217;, I am unable to see any output from my server console.log statements. How can I see this? Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2076">
<div id="dsq-comment-header-2076" class="dsq-comment-header">
<cite id="dsq-cite-2076">
./                <span id="dsq-author-user-2076">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2076" class="dsq-comment-body">
<div id="dsq-comment-message-2076" class="dsq-comment-message"><p>Hello Trevor,  Thanks.  If my understanding is correct you want to see the console logs from the javascript code. For that, you need to check in the dev tools console of node webkit app. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-1971">
<div id="dsq-comment-header-1971" class="dsq-comment-header">
<cite id="dsq-cite-1971">
<span id="dsq-author-user-1971">gabrin</span>
</cite>
</div>
<div id="dsq-comment-body-1971" class="dsq-comment-body">
<div id="dsq-comment-message-1971" class="dsq-comment-message"><p>Hi! Are can I open webdav connection?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1972">
<div id="dsq-comment-header-1972" class="dsq-comment-header">
<cite id="dsq-cite-1972">
./                <span id="dsq-author-user-1972">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1972" class="dsq-comment-body">
<div id="dsq-comment-message-1972" class="dsq-comment-message"><p>You can try <a href="https://github.com/mikedeboer/jsdav" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/mikedeboer/jsdav', 'https://github.com/mikedeboer/jsdav');" rel="nofollow">https://github.com/mikedeboer/jsdav</a></p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-1897">
<div id="dsq-comment-header-1897" class="dsq-comment-header">
<cite id="dsq-cite-1897">
<span id="dsq-author-user-1897">Manisha</span>
</cite>
</div>
<div id="dsq-comment-body-1897" class="dsq-comment-body">
<div id="dsq-comment-message-1897" class="dsq-comment-message"><p>Could you make simple node-ebkit  file and folder browser using  JavaScript or jquery (same structure)</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1898">
<div id="dsq-comment-header-1898" class="dsq-comment-header">
<cite id="dsq-cite-1898">
./                <span id="dsq-author-user-1898">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1898" class="dsq-comment-body">
<div id="dsq-comment-message-1898" class="dsq-comment-message"><p>Hello Manisha, Yes, you can do that. Instead of the <code></code> angular directive, you can use the jQuery version of the jstree and bind it to the server code and it should work fine. And also you can use the node selected event <a href="http://www.jstree.com/api/#/?q=.jstree%20Event&#038;f=select_node.jstree" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://www.jstree.com/api/#/?q=.jstree%20Event&amp;f=select_node.jstree', 'http://www.jstree.com/api/#/?q=.jstree%20Event&amp;f=select_node.jstree');" rel="nofollow">http://www.jstree.com/api/#/?q=.jstree%20Event&#038;f=select_node.jstree</a> and get the requested resource on selecting a node on the tree. Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-1692">
<div id="dsq-comment-header-1692" class="dsq-comment-header">
<cite id="dsq-cite-1692">
<span id="dsq-author-user-1692">Ignacio Tartavull</span>
</cite>
</div>
<div id="dsq-comment-body-1692" class="dsq-comment-body">
<div id="dsq-comment-message-1692" class="dsq-comment-message"><p>Hey! thanks for that mention!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1696">
<div id="dsq-comment-header-1696" class="dsq-comment-header">
<cite id="dsq-cite-1696">
./                <span id="dsq-author-user-1696">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1696" class="dsq-comment-body">
<div id="dsq-comment-message-1696" class="dsq-comment-message"><p>Thanks! </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-1690">
<div id="dsq-comment-header-1690" class="dsq-comment-header">
<cite id="dsq-cite-1690">
<span id="dsq-author-user-1690">Mustapha</span>
</cite>
</div>
<div id="dsq-comment-body-1690" class="dsq-comment-body">
<div id="dsq-comment-message-1690" class="dsq-comment-message"><p>thank you for this tutorial ! <img src="./../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1691">
<div id="dsq-comment-header-1691" class="dsq-comment-header">
<cite id="dsq-cite-1691">
./                <span id="dsq-author-user-1691">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1691" class="dsq-comment-body">
<div id="dsq-comment-message-1691" class="dsq-comment-message"><p>Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul>
</div>
</div>
<script src="./../cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = './nwk-file-player/';
var disqus_identifier = '2280 ./?p=2280';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Node-Webkit File Player &#8211; A File player for your desktop";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
/*
All currently supported events:
onReady: fires when everything is ready,
onNewComment: fires when a new comment is posted,
onIdentify: fires when user is authenticated
*/
this.language = '';
this.callbacks.onReady.push(function () {
// sync comments in the background so we don't block the page
var script = document.createElement('script');
script.async = true;
script.src = '?cf_action=sync_comments&post_id=2280';
var firstScript = document.getElementsByTagName('script')[0];
firstScript.parentNode.insertBefore(script, firstScript);
});
if (disqus_config_custom) {
disqus_config_custom.call(this);
}
};
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</main><!-- #main -->
</div><!-- #primary -->
<div id="secondary" class="widget-area" role="complementary">
<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="./../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}
.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(./../wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(./../wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(./../wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(./../wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="./../wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="./../portfolio/index.html">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
<a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="./../rotten-tomatoes-jquery-rest-client/index.html" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="./../uploading-files-made-fun/index.html" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
<div class="latest-series"><ul><li><a href="./../series/a-reminder-app/index.html" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="./../series/node-webkit-apps/index.html" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="./../series/rpi/index.html" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>
<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>
<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>
<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>
</ul></div>
</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="./../architecting-a-restful-node-js-app/index.html"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,319 views</li><li><a href="./../getting-started-with-angular-2-0/index.html"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,582 views</li><li><a href="./../developing-a-mean-app-with-angular-2-0/index.html"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,713 views</li><li><a href="./../getting-started-with-node-webkit-apps/index.html"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,571 views</li><li><a href="./../rpi-live-streaming/index.html"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 91,974 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
<li>
<a href="./../learning-ionic/index.html">Learning Ionic</a>
</li>
<li>
<a href="./../electron-wordpress-angular-material-an-offline-viewer/index.html">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
</li>
<li>
<a href="./../developing-a-mean-app-with-angular-2-0/index.html">Developing a MEAN app with Angular 2.0</a>
</li>
<li>
<a href="./../pushbots-and-cordova/index.html">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
</li>
<li>
<a href="./../getting-started-with-client-side-storage/index.html">Getting Started with Client Side Storage</a>
</li>
</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
<li class="cat-item cat-item-141"><a href="./../architecture/index.html" >Architecture</a> (8)
</li>
<li class="cat-item cat-item-3"><a href="./../css/index.html" >CSS</a> (9)
<ul class='children'>
<li class="cat-item cat-item-5"><a href="./../css/css3/index.html" >CSS3</a> (6)
</li>
<li class="cat-item cat-item-26"><a href="./../css/less/index.html" >LESS</a> (3)
</li>
<li class="cat-item cat-item-55"><a href="./../css/sass/index.html" >SASS</a> (1)
</li>
</ul>
</li>
<li class="cat-item cat-item-117"><a href="./../database/index.html" >Database</a> (17)
<ul class='children'>
<li class="cat-item cat-item-136"><a href="./../database/disk-db/index.html" >Disk DB</a> (6)
</li>
<li class="cat-item cat-item-131"><a href="./../database/firebase/index.html" >Firebase</a> (4)
</li>
<li class="cat-item cat-item-118"><a href="./../database/mongodb/index.html" >MongoDB</a> (8)
<ul class='children'>
<li class="cat-item cat-item-119"><a href="./../database/mongodb/mongolab/index.html" >MongoLab</a> (3)
</li>
<li class="cat-item cat-item-123"><a href="./../database/mongodb/monk/index.html" >Monk</a> (1)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-125"><a href="./../deployments/index.html" >Deployments</a> (4)
<ul class='children'>
<li class="cat-item cat-item-126"><a href="./../deployments/heroku/index.html" >Heroku</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-135"><a href="./../desktop-apps/index.html" >Desktop Apps</a> (8)
</li>
<li class="cat-item cat-item-155"><a href="./../dna-analysis/index.html" >DNA Analysis</a> (1)
</li>
<li class="cat-item cat-item-112"><a href="./../es6/index.html" >ECMAScript 6</a> (3)
</li>
<li class="cat-item cat-item-162"><a href="./../electron-atom-shell/index.html" >Electron (atom shell)</a> (1)
</li>
<li class="cat-item cat-item-25"><a href="./../frameworks/index.html" >Frameworks</a> (42)
<ul class='children'>
<li class="cat-item cat-item-160"><a href="./../frameworks/angular-2-0/index.html" >Angular 2.0</a> (2)
</li>
<li class="cat-item cat-item-108"><a href="./../frameworks/angularjs/index.html" >Angularjs</a> (21)
</li>
<li class="cat-item cat-item-132"><a href="./../frameworks/backbonejs/index.html" >Backbonejs</a> (1)
</li>
<li class="cat-item cat-item-105"><a href="./../frameworks/bootstrap/index.html" >Bootstrap</a> (9)
</li>
<li class="cat-item cat-item-159"><a href="./../frameworks/emberjs/index.html" >Emberjs</a> (1)
</li>
<li class="cat-item cat-item-56"><a href="./../frameworks/foundation/index.html" >Foundation</a> (3)
</li>
<li class="cat-item cat-item-110"><a href="./../frameworks/framework7/index.html" >Framework7</a> (1)
</li>
<li class="cat-item cat-item-107"><a href="./../frameworks/ionic/index.html" >Ionic</a> (11)
</li>
<li class="cat-item cat-item-157"><a href="./../frameworks/lumx/index.html" >Lumx</a> (1)
</li>
<li class="cat-item cat-item-138"><a href="./../frameworks/mean/index.html" >MEAN</a> (4)
</li>
<li class="cat-item cat-item-116"><a href="./../frameworks/meteorjs/index.html" >Meteorjs</a> (1)
</li>
<li class="cat-item cat-item-122"><a href="./../frameworks/onsen-ui/index.html" >Onsen UI</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-101"><a href="./../git/index.html" >Git</a> (12)
<ul class='children'>
<li class="cat-item cat-item-102"><a href="./../git/github/index.html" >GitHub</a> (10)
</li>
</ul>
</li>
<li class="cat-item cat-item-2"><a href="./../html/index.html" >HTML</a> (22)
<ul class='children'>
<li class="cat-item cat-item-4"><a href="./../html/html5/index.html" >HTML5</a> (21)
<ul class='children'>
<li class="cat-item cat-item-158"><a href="./../html/html5/webrtc/index.html" >WebRTC</a> (1)
</li>
<li class="cat-item cat-item-106"><a href="./../html/html5/websockets/index.html" >WebSockets</a> (6)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-137"><a href="./../intels-app-ui/index.html" >Intel&#039;s App UI</a> (1)
</li>
<li class="cat-item cat-item-143"><a href="./../iot/index.html" >IoT</a> (6)
</li>
<li class="cat-item cat-item-1"><a href="./../javascript/index.html" >Javascript</a> (75)
<ul class='children'>
<li class="cat-item cat-item-6"><a href="./../javascript/jquery/index.html" >jQuery</a> (14)
</li>
</ul>
</li>
<li class="cat-item cat-item-151"><a href="./../material-design/index.html" >Material Design</a> (3)
</li>
<li class="cat-item cat-item-99"><a href="./../mobile/index.html" >Mobile</a> (21)
<ul class='children'>
<li class="cat-item cat-item-103"><a href="./../mobile/android/index.html" >Android</a> (15)
</li>
<li class="cat-item cat-item-113"><a href="./../mobile/firefox-os/index.html" >Firefox OS</a> (2)
</li>
<li class="cat-item cat-item-104"><a href="./../mobile/ios/index.html" >iOS</a> (11)
</li>
<li class="cat-item cat-item-100"><a href="./../mobile/phonegap/index.html" >PhoneGap</a> (16)
</li>
</ul>
</li>
<li class="cat-item cat-item-149"><a href="./../mqtt/index.html" >MQTT</a> (1)
</li>
<li class="cat-item cat-item-163"><a href="./../my-books/index.html" >My Books</a> (1)
</li>
<li class="cat-item cat-item-45"><a href="./../node/index.html" >Node</a> (60)
<ul class='children'>
<li class="cat-item cat-item-152"><a href="./../node/cli/index.html" >CLI</a> (3)
</li>
<li class="cat-item cat-item-121"><a href="./../node/expressjs/index.html" >Expressjs</a> (18)
</li>
<li class="cat-item cat-item-156"><a href="./../node/genome/index.html" >Genome</a> (1)
</li>
<li class="cat-item cat-item-62"><a href="./../node/grunt/index.html" >Grunt</a> (8)
</li>
<li class="cat-item cat-item-124"><a href="./../node/koa/index.html" >Koa</a> (1)
</li>
<li class="cat-item cat-item-134"><a href="./../node/node-webkit/index.html" >Node Webkit</a> (7)
</li>
<li class="cat-item cat-item-54"><a href="./../node/npm/index.html" >NPM</a> (15)
</li>
<li class="cat-item cat-item-120"><a href="./../node/restify/index.html" >Restify</a> (3)
</li>
</ul>
</li>
<li class="cat-item cat-item-161"><a href="./../push-notifications/index.html" >Push Notifications</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="./../quick-and-dirty/index.html" >Quick and Dirty</a> (42)
</li>
<li class="cat-item cat-item-142"><a href="./../raspberry-pi/index.html" >Raspberry Pi</a> (9)
</li>
<li class="cat-item cat-item-60"><a href="./../setup/index.html" >Setup</a> (60)
</li>
<li class="cat-item cat-item-61"><a href="./../testing/index.html" >Testing</a> (5)
<ul class='children'>
<li class="cat-item cat-item-129"><a href="./../testing/jasmine/index.html" >Jasmine</a> (1)
</li>
<li class="cat-item cat-item-128"><a href="./../testing/protractor/index.html" >Protractor</a> (1)
</li>
<li class="cat-item cat-item-98"><a href="./../testing/test-automation/index.html" >Test Automation</a> (1)
</li>
<li class="cat-item cat-item-41"><a href="./../testing/tdd/index.html" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-139"><a href="./../third-party-products/index.html" >Third Party Products</a> (4)
<ul class='children'>
<li class="cat-item cat-item-140"><a href="./../third-party-products/twilio/index.html" >Twilio</a> (4)
</li>
</ul>
</li>
<li class="cat-item cat-item-58"><a href="./../tutorial/index.html" >Tutorial</a> (79)
</li>
<li class="cat-item cat-item-130"><a href="./../performance-analysis/index.html" >UI Performance</a> (1)
</li>
<li class="cat-item cat-item-109"><a href="./../web-components/index.html" >Web Components</a> (3)
</li>
<li class="cat-item cat-item-133"><a href="./../google-web-starter-kit/index.html" >Web Starter Kit</a> (1)
</li>
</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
<li><a href='./../2015/07/index.html'>July 2015</a></li>
<li><a href='./../2015/05/index.html'>May 2015</a></li>
<li><a href='./../2015/04/index.html'>April 2015</a></li>
<li><a href='./../2015/03/index.html'>March 2015</a></li>
<li><a href='./../2015/02/index.html'>February 2015</a></li>
<li><a href='./../2015/01/index.html'>January 2015</a></li>
<li><a href='./../2014/12/index.html'>December 2014</a></li>
<li><a href='./../2014/11/index.html'>November 2014</a></li>
<li><a href='./../2014/10/index.html'>October 2014</a></li>
<li><a href='./../2014/09/index.html'>September 2014</a></li>
<li><a href='./../2014/08/index.html'>August 2014</a></li>
<li><a href='./../2014/07/index.html'>July 2014</a></li>
<li><a href='./../2014/06/index.html'>June 2014</a></li>
<li><a href='./../2014/05/index.html'>May 2014</a></li>
<li><a href='./../2014/04/index.html'>April 2014</a></li>
<li><a href='./../2014/03/index.html'>March 2014</a></li>
<li><a href='./../2014/02/index.html'>February 2014</a></li>
</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
<label>Email <span class="wysija-required">*</span></label>
<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
<span class="abs-req">
<input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
</span>
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />
<input type="hidden" name="form_id" value="1" />
<input type="hidden" name="action" value="save" />
<input type="hidden" name="controller" value="subscribers" />
<input type="hidden" value="1" name="wysija-page" />
<input type="hidden" name="wysija[user_list][list_ids]" value="3" />
</form></div></aside>	</div><!-- #secondary -->
	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
var s = document.getElementsByTagName('script')[0]
, p = document.createElement('script');
p.async = 'async';
p.src = '//rum-static.pingdom.net/prum.min.js';
s.parentNode.insertBefore(p, s);
})();
</script>
</div><!-- #content -->
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="site-info">
All Rights Reserved
<span class="sep"> | </span>
The Jackal of Javascript
</div><!-- .site-info -->
<div class="rnd-circle" style="background: black;width: 10px;height: 10px;border-radius: 50%;"></div>
</footer><!-- #colophon -->
</div><!-- #page -->
<script type='text/javascript'><!--
var seriesdropdown = document.getElementById("orgseries_dropdown");
if (seriesdropdown) {
function onSeriesChange() {
if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
location.href = "./series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
}
}
seriesdropdown.onchange = onSeriesChange;
}
--></script>
<script type="text/javascript">
// <![CDATA[
var disqus_shortname = 'thejackalofjavascriptcom';
(function () {
var nodes = document.getElementsByTagName('span');
for (var i = 0, url; i < nodes.length; i++) {
if (nodes[i].className.indexOf('dsq-postid') != -1) {
nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
url = nodes[i].parentNode.href.split('#', 1);
if (url.length == 1) { url = url[0]; }
else { url = url[1]; }
nodes[i].parentNode.href = url + '#disqus_thread';
}
}
var s = document.createElement('script'); 
s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
// ]]>
</script>
<div class="scroll-back-to-top-wrapper">
<span class="scroll-back-to-top-inner">
<i class="fa fa-2x fa-arrow-circle-up"></i>
</span>
</div>
<style type="text/css">
#wpfront-notification-bar 
{
background: #242d36;
background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
}
#wpfront-notification-bar div.wpfront-message
{
color: #ffffff;
}
#wpfront-notification-bar a.wpfront-button
{
background: #f45145;
background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );
color: #ffffff;
}
#wpfront-notification-bar-open-button
{
background-color: #00b7ea;
}
#wpfront-notification-bar  div.wpfront-close 
{
border: 1px solid #555555;
background-color: #555555;
color: #000000;
}
#wpfront-notification-bar  div.wpfront-close:hover 
{
border: 1px solid #aaaaaa;
background-color: #aaaaaa;
}
</style>
<div id="wpfront-notification-bar-spacer"  style="display: none;">
<div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
<div id="wpfront-notification-bar" class="wpfront-fixed">
<div class="wpfront-close">X</div>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<div class="wpfront-message">
Learn your way around Ionic framework. Check out Learning Ionic!                     </div>
<div>
<a class="wpfront-button" href="https://www.packtpub.com/application-development/learning-ionic/?utm_source=Jkthejackalofjavascript&utm_medium=referral&utm_campaign=1783552603"  target="_blank" >Buy</a>
</div>
</td>
</tr>
</table>
</div>
</div>
<style type="text/css">
.wpfront-message{line-height:27px; vertical-align:baseline !important;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><script type='text/javascript' src='./../wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":".\/wp-admin\/admin-ajax.php","post_id":"2280"};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='./../wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='./../wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='./../wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script type="text/javascript">
jQuery.noConflict();
(function( $ ) {
$(function() {
// More code using $ as alias to jQuery
$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top - 20  
},900 ,'easeOutQuint');
return false;
}
}
});
});
})(jQuery);	
</script>				
<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
_stq = window._stq || [];
_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'2280',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
_stq.push([ 'clickTrackerInit', '70838519', '2280' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="./../rpi-buzzer-node-iot-doorbell/index.html" rel="Node-Webkit File Player &#8211; A File player for your desktop">Raspberry pi, a Buzzer and Node.js &#8211; An IoT Doorbell</a></h5><p>In this post, we will build an embedded system - A Doorbell, with Raspberry pi B+, A Buzzer and Node.js....</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47881846-1', 'auto');
ga('send', 'pageview');
</script>
<a style="display:none;" href="http://www.alexa.com/siteinfo/./"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=./"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- WP Fastest Cache file was created in 3.97256493568 seconds, on 18-11-17 14:18:43 -->