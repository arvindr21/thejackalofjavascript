<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="/wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="/wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />

<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Twilio, Ionic Framework and Node.js - A Message &amp; Call App | The Jackal of Javascript</title>
<meta name="description" content="Twilio, Ionic Framework and Node.js - A Message &amp; Call App Also checkout Ionic Restify MongoDB – An End to End Hybrid App, Ionic Framework, Angularjs"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/twilio-ionic-framework-and-node-js-a-message-call-app/" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Twilio, Ionic Framework and Node.js - A Message &amp; Call App | The Jackal of Javascript" />
<meta property="og:description" content="Twilio, Ionic Framework and Node.js - A Message &amp; Call App Also checkout Ionic Restify MongoDB – An End to End Hybrid App, Ionic Framework, Angularjs" />
<meta property="og:url" content="/twilio-ionic-framework-and-node-js-a-message-call-app/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Android" />
<meta property="article:published_time" content="2014-09-14T22:23:33+05:30" />
<meta property="article:modified_time" content="2014-12-07T07:12:05+05:30" />
<meta property="og:updated_time" content="2014-12-07T07:12:05+05:30" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-34-16-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-33-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-21-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-03-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.24.08-pm-451x196.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.26.15-pm-451x180.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.29.20-pm-451x29.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-8.55.27-pm-451x118.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.34-pm-451x151.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.44-pm-451x76.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-18-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-24-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-08-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-211-168x300.png" />
<meta property="og:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-031-168x300.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Twilio, Ionic Framework and Node.js - A Message &amp; Call App Also checkout Ionic Restify MongoDB – An End to End Hybrid App, Ionic Framework, Angularjs" />
<meta name="twitter:title" content="Twilio, Ionic Framework and Node.js - A Message &amp; Call App | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-34-16-168x300.png" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->

		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='savrix-style.css-css'  href='/wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' />
<link rel='stylesheet' id='validate-engine-css-css'  href='/wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' />
<link rel='stylesheet' id='orgseries-default-css-css'  href='/wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='/wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' />
<link rel='stylesheet' id='wpfront-notification-bar-css'  href='/wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' />
<link rel='stylesheet' id='sorbet-style-css'  href='/wp-content/themes/sorbet/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' />
<link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' />
<link rel='stylesheet' id='sorbet-genericons-css'  href='/wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' />
<link rel='stylesheet' id='easy_table_style-css'  href='/wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='upprev-css-css'  href='/wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='/wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' />
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-47881846-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('require', 'displayfeatures');
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App' };
</script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/responsive-lightbox/js/front.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script>
<script type='text/javascript' src='/wp-content/plugins/upprev/scripts/upprev.js'></script>
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />

<style>
.scroll-back-to-top-wrapper {
    position: fixed;
	opacity: 0;
	visibility: hidden;
	overflow: hidden;
	text-align: center;
	z-index: 99999999;
    background-color: #777777;
	color: #eeeeee;
	width: 50px;
	height: 48px;
	line-height: 48px;
	right: 30px;
	bottom: 30px;
	padding-top: 2px;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
	border-bottom-left-radius: 10px;
	-webkit-transition: all 0.5s ease-in-out;
	-moz-transition: all 0.5s ease-in-out;
	-ms-transition: all 0.5s ease-in-out;
	-o-transition: all 0.5s ease-in-out;
	transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
	background-color: #888888;
  color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
    visibility:visible;
    cursor:pointer;
	opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
	line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
	vertical-align: 0;
}
</style><style type="text/css">	.ssba {
									
									
									
									
								}
								.ssba img
								{
									width: 35px !important;
									padding: 6px;
									border:  0;
									box-shadow: none !important;
									display: inline !important;
									vertical-align: middle;
								}
								.ssba, .ssba a
								{
									text-decoration:none;
									border:0;
									background: none;
									font-family: Indie Flower;
									font-size: 	20px;
									
									
								}.ssba_sharecount:after, .ssba_sharecount:before {
									right: 100%;
									border: solid transparent;
									content: " ";
									height: 0;
									width: 0;
									position: absolute;
									pointer-events: none;
								}
								.ssba_sharecount:after {
									border-color: rgba(224, 221, 221, 0);
									border-right-color: #f5f5f5;
									border-width: 5px;
									top: 50%;
									margin-top: -5px;
								}
								.ssba_sharecount:before {
									border-color: rgba(85, 94, 88, 0);
									border-right-color: #e0dddd;
									border-width: 6px;
									top: 50%;
									margin-top: -6px;
								}
								.ssba_sharecount {
									font: 11px Arial, Helvetica, sans-serif;

									padding: 5px;
									-khtml-border-radius: 6px;
									-o-border-radius: 6px;
									-webkit-border-radius: 6px;
									-moz-border-radius: 6px;
									border-radius: 6px;
									position: relative;
									border: 1px solid #e0dddd;color: #555e58;
										background: #ffffff;
									}
									.ssba_sharecount:after {
										border-right-color: #ffffff;
									}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
 </style>
</head>

<body class="single single-post postid-2007 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
				<div class="site-header-wrapper">
			<div class="site-branding">
				<h1 class="site-title"><a href="/" rel="home">The Jackal of Javascript</a></h1>
				<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
			</div>

			<div class="toggles">
				<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
												<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
			</div>
		</div>
	</header><!-- #masthead -->
	<div id="menu-toggle-nav" class="panel">
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

			<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="/">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="/portfolio/">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="/history-of-the-web/">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="/javascript-101/">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="/contact-request/">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
	</div>
			<div id="search-toggle-nav" class="panel">
		<div class="search-wrapper">
			<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
	</label>
	<input type="submit" class="search-submit" value="Search">
</form>
		</div>
	</div>
	<div id="content" class="site-content">
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

											
			
<article id="post-2007" class="post-2007 post type-post status-publish format-standard hentry category-android category-angularjs category-disk-db category-expressjs category-ionic category-mobile category-node category-quick-and-dirty category-setup category-third-party-products category-tutorial category-twilio">
	<header class="entry-header">
				<h1 class="entry-title">Twilio, Ionic Framework and Node.js &#8211; A Message &#038; Call App</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=Twilio%2C+Ionic+Framework+and+Node.js+%E2%80%93+A+Message+%26+Call+App+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=Twilio%2C+Ionic+Framework+and+Node.js+%E2%80%93+A+Message+%26+Call+App+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=/twilio-ionic-framework-and-node-js-a-message-call-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=/twilio-ionic-framework-and-node-js-a-message-call-app/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">2</span><a href="https://plus.google.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=From The Jackal of Javascript Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=From The Jackal of Javascript Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#e4db9791868e818790d9b0938d888d8bc8c4ad8b8a8d87c4a296858981938b968fc4858a80c4aa8b8081ca8e97c4c1d6d2c7dcd6d5d5dfc4a5c4a9819797858381c4c1d6d2858994dfc4a7858888c4a59494c2858994df868b809dd9a2968b89c4b08c81c4ae85878f8588c48b82c4ae8592859787968d9490c1d6d48c909094decbcb908c818e85878f85888b828e8592859787968d9490ca878b89cb90938d888d8bc98d8b8a8d87c98296858981938b968fc9858a80c98a8b8081c98e97c985c989819797858381c987858888c9859494cb"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><h1 class="disp-none">Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App</h1>
<blockquote><p>Also checkout <a title="Ionic Restify MongoDB – An End to End Hybrid App" href="/an-end-to-end-hybrid-app/" target="_blank">Ionic Restify MongoDB – An End to End Hybrid App</a>, <a title="Ionic Framework, Angularjs &amp; PhoneGap Build- The Awesome Threesome!" href="/ionic-angularjs-and-phonegap-build/" target="_blank">Ionic Framework, Angularjs &amp; PhoneGap Build- The Awesome Threesome!</a> and <a title="Architecting a Secure RESTful Node.js app" href="/architecting-a-restful-node-js-app/" target="_blank">Architecting a Secure RESTful Node.js app</a></p></blockquote>
<p>In this post, we will take a look at integrating <a href="https://www.twilio.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/', 'Twilio');" title="Twilio"  target="_blank">Twilio</a>, <a href="http://ionicframework.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ionicframework.com/', 'Ionic Framework');" title="Ionic Framework"  target="_blank">Ionic Framework</a> and <a href="http://nodejs.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://nodejs.org/', 'Node.js');" title="Node.js"  target="_blank">Node.js</a> to build a Mobile Hybrid app named &#8220;<em>The Twilio App</em>&#8220;.  This app can send SMS or trigger calls using the Twilio cloud based API&#8217;s. We will be using Ionic Framework as our Mobile Hybrid app framework and Node.js/Express.js as our REST Server to customize the responses. We will also use <a href="http://arvindr21.github.io/diskDB" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://arvindr21.github.io/diskDB', 'DiskDB');" title="DiskDB"  target="_blank">DiskDB</a> to keep a track of our API calls.</p>
<p>The final app would look like <a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-34-16.png" data-rel="lightbox-0" title=""><img class="wp-image-2016 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-34-16.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-34-16" data-recalc-dims="1" /><noscript><img class="wp-image-2016 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-34-16.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-34-16" data-recalc-dims="1" /></noscript></a></p>
<p><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-33.png" data-rel="lightbox-1" title=""><img class="size-medium wp-image-2019 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-33.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-37-33" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2019 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-33.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-37-33" data-recalc-dims="1" /></noscript></a><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-21.png" data-rel="lightbox-2" title=""><img class="size-medium wp-image-2017 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-21.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-38-21" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2017 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-21.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-38-21" data-recalc-dims="1" /></noscript></a> <a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-03.png" data-rel="lightbox-3" title=""><img class="size-medium wp-image-2018 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-03.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-39-03" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2018 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-03.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-39-03" data-recalc-dims="1" /></noscript></a></p>
<p>And the call you get would sound like</p>
<!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
<audio class="wp-audio-shortcode" id="audio-2007-1" preload="none" style="width: 100%; visibility: hidden;" controls="controls"><source type="audio/mpeg" src="/wp-content/uploads/2014/09/call_18-41-17_IN_-16165225251.mp3?_=1" /><a href="/wp-content/uploads/2014/09/call_18-41-17_IN_-16165225251.mp3">/wp-content/uploads/2014/09/call_18-41-17_IN_-16165225251.mp3</a></audio>
<p>&nbsp;</p>
<p>You can find the complete code <a href="https://github.com/arvindr21/myTwilioApp" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/myTwilioApp', 'here');" title="myTwilioApp code"  target="_blank">here</a>.</p>
<p>So let us get started.</p>
<p><span id="more-2007"></span></p>
<h2>Set up a Twilio Account</h2>
<p>If you do not have a Twilio account, you can follow the below steps to create an account and get a phone number for your account.</p>
<p><strong>Step 1</strong> :  Navigate to <a href="https://www.twilio.com/try-twilio" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/try-twilio', 'Try Twilio');" title="Signup"  target="_blank">Try Twilio</a> and Create an Account.</p>
<p><strong>Step 2</strong> : Validate your personal phone number by verifying either by text or a call</p>
<p><strong>Step 3</strong> : By Default you would be given a Twilio Phone Number like</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.24.08-pm.png" data-rel="lightbox-4" title=""><img class="size-medium wp-image-2021 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.24.08-pm.png?resize=451%2C196" alt="Screen Shot 2014-09-14 at 7.24.08 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2021 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.24.08-pm.png?resize=451%2C196" alt="Screen Shot 2014-09-14 at 7.24.08 pm" data-recalc-dims="1" /></noscript></a></p>
<p>You can either use it as is or you can choose your own. Post that you can test drive Twilio and navigate to your account.</p>
<p><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.26.15-pm.png" data-rel="lightbox-5" title=""><img class="size-medium wp-image-2022 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.26.15-pm.png?resize=451%2C180" alt="Screen Shot 2014-09-14 at 7.26.15 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2022 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.26.15-pm.png?resize=451%2C180" alt="Screen Shot 2014-09-14 at 7.26.15 pm" data-recalc-dims="1" /></noscript></a></p>
<p>That is all you need to set up your twilio account.</p>
<p>Now, on your <a href="https://www.twilio.com/user/account" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/user/account', 'Dashboard');" title="Account"  target="_blank">Dashboard</a>, you will find the Account SID and Auth Token.</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.29.20-pm.png" data-rel="lightbox-6" title=""><img class="size-medium wp-image-2023 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.29.20-pm.png?resize=451%2C29" alt="Screen Shot 2014-09-14 at 7.29.20 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2023 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-7.29.20-pm.png?resize=451%2C29" alt="Screen Shot 2014-09-14 at 7.29.20 pm" data-recalc-dims="1" /></noscript></a></p>
<p><em>Keep them very close to your heart. </em></p>
<p>We will use these two values to authenticate our Node.js app with Twilio.</p>
<h2>Build the REST API</h2>
<p>Our Twilio app will have an interface to send a message to a user and to trigger a call to a number (<em>Note : Trial accounts can only make calls/send messages to verified numbers</em>). We will also have another endpoint that will be used by Twilio to respond to the call (<em>more about this in a moment</em>).</p>
<p>Let us get started by creating a new folder named <em>myTwilioApp</em>. To keep the code organized, we will create 2 folders named <em>server</em> and <em>client </em>inside the <em>myTwilioApp </em>folder.  The server will contain the Express app and the client will contain the Ionic app.</p>
<p>Let us initialize a new node project. Open a new terminal/prompt inside the <em>server </em>folder and run</p>
<p style="text-align: center;">
			<span id="crayon-5a10feabeefcf273620932" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">init</span></span></span></p>
<p>and fill it up as required.</p>
<p>We will now install the required dependencies to run the project. Execute</p>
<p style="text-align: center;">
			<span id="crayon-5a10feabeeff7295456482" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">save</span> <span class="crayon-v">body</span><span class="crayon-o">-</span><span class="crayon-i">parser</span> <span class="crayon-v">cookie</span><span class="crayon-o">-</span><span class="crayon-i">parser</span> <span class="crayon-i">debug</span> <span class="crayon-i">diskdb</span> <span class="crayon-i">express</span> <span class="crayon-i">morgan</span> <span class="crayon-v">twilio</span></span></span></p>
<p>This will take a few moments while all the dependencies are downloaded. The final <em>package.json</em> would look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef002990350218" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">package.json</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
  "name": "myTwilioApp",
  "version": "0.1.0",
  "description": "Twilio, Ionic Framework and Node.js – A Message  Call App",
  "main": "app.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "Arvind Ravulavaru",
  "license": "MIT",
  "dependencies": {
    "body-parser": "^1.8.1",
    "cookie-parser": "^1.3.3",
    "debug": "^2.0.0",
    "diskdb": "^0.1.14",
    "express": "^4.9.0",
    "morgan": "^1.3.0",
    "twilio": "^1.7.0"
  }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef002990350218-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef002990350218-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef002990350218-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef002990350218-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"myTwilioApp"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"version"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.1.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"description"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Twilio, Ionic Framework and Node.js – A Message&nbsp;&nbsp;Call App"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"main"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"app.js"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"scripts"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"test"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"author"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Arvind Ravulavaru"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"license"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"MIT"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"dependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"body-parser"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.8.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"cookie-parser"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.3.3"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"debug"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^2.0.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"diskdb"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.1.14"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"express"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^4.9.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"morgan"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.3.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"twilio"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.7.0"</span></div><div class="crayon-line" id="crayon-5a10feabef002990350218-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef002990350218-20"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p>Once this is done, create a new file at the root of the <em>server </em>folder and name it <em>app.js.</em> This file will contain the express configuration and initiation code. Open <em>app.js</em> in your favorite editor and update it like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef00a053942992" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/app.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var express = require('express');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');

var app = express();

app.use(express.static(__dirname + '/mp3'));

app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({
  extended: true
}));
app.use(cookieParser());

var allowCrossDomain = function(req, res, next) {
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');
  res.header('Access-Control-Allow-Headers', 'Content-Type');

  next();
};

app.use(allowCrossDomain);
app.use('/', require('./routes/index'));

app.set('port', process.env.PORT || 3000);

var server = app.listen(app.get('port'), function() {
  console.log('Express server listening on port ' + server.address().port);
});

module.exports = app;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-28">28</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-30">30</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-32">32</div><div class="crayon-num" data-line="crayon-5a10feabef00a053942992-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef00a053942992-34">34</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef00a053942992-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'express'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logger</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'morgan'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cookieParser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'cookie-parser'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bodyParser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'body-parser'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-6"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">express</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-8"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">express</span><span class="crayon-sy">.</span><span class="crayon-m">static</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/mp3'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-10"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-e">logger</span><span class="crayon-sy">(</span><span class="crayon-s">'dev'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-11"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">bodyParser</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-12"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">bodyParser</span><span class="crayon-sy">.</span><span class="crayon-e">urlencoded</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">extended</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-14"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-15"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-e">cookieParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-16">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef00a053942992-17"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">allowCrossDomain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Origin'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'*'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Methods'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'GET,PUT,POST,DELETE'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Headers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-23"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-24">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef00a053942992-25"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">allowCrossDomain</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-26"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./routes/index'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-28"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'port'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">process</span><span class="crayon-sy">.</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-v">PORT</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-30"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'port'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'Express server listening on port '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">address</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-32"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef00a053942992-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef00a053942992-34"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0081 seconds] -->
<p>Things to notice.</p>
<p><strong>Line 8</strong> : We have made a folder named <em>mp3 </em>as a static folder. We will see why soon.</p>
<p><strong>Line 17</strong> : We are dispatching CORS headers so that our clients can access the data we are exposing.</p>
<p>Next, create a new folder inside <em>server </em>and name it <em>routes</em>. Create a new file named <em>index.js </em>inside the <em>routes</em> folder. This file will contain the 3 routes.</p>
<p>First, we are going to create a route for 
			<span id="crayon-5a10feabef014650654245" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">/</span><span class="crayon-v">sendmsg</span></span></span> endpoint. This end point would be of type POST. When a clients triggers this endpoint, it is expected to send a number to which a message needs to be sent and the actual message.</p>
<p>We take this info and call the Twilio service using the Twilio node client. Then we will return the response back to the client, if the process was a success or a failure.</p>
<p>The same gets applied to the 
			<span id="crayon-5a10feabef01b051180684" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">/</span><span class="crayon-v">triggercall</span></span></span> endpoint. Except here we take the number to which we need to place a call to and then call the Twilio service.</p>
<p>The final end point will be 
			<span id="crayon-5a10feabef021459049891" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">/</span><span class="crayon-v">call</span><span class="crayon-o">/</span><span class="crayon-o">:</span><span class="crayon-v">id</span></span></span>. This endpoint will be hit by Twilio to read out the response for the call. This endpoint is responsible for dispatching a XML or rather a <a href="https://www.twilio.com/docs/api/twiml" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.twilio.com/docs/api/twiml', 'TwiML.');" title="TwiML"  target="_blank">TwiML.</a> A TwiML is a set of instruction that the Twilio service would execute once the call is answered by the user. This is pretty much the voice message you heard above.</p>
<p>Our final <i>routes/index.js</i> would look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef028748619758" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/routes/index.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var express = require('express');
var router = express.Router();

router.post('/sendmsg', function(req, res) {
  var resp = {};
  var msg = req.body;

  if (!msg || !msg.to || !msg.text) {
    resp.status = "error";
    resp.message = "invalid data";
    res.json(resp);
  }

  var twClient = require('../twilio/message').sendMsg(msg.to, msg.text, function(error, message) {
    if (error) {
      resp.status = "error";
      resp.message = error;
    } else {
      resp.status = "success";
      resp.message = message.sid;
    }

    res.json(resp);
  });

});

router.post('/triggercall', function(req, res) {
  var resp = {};
  var call = req.body;

  if (!call || !call.to) {
    resp.status = "error";
    resp.message = "invalid data";
    res.json(resp);
  }

  var twClient = require('../twilio/call').triggerCall(call.to, function(error, response) {
    if (error) {
      resp.status = "error";
      resp.response = error;
    } else {
      resp.status = "success";
      resp.response = response.sid;
    }

    res.json(resp);
  })

});

router.post('/call/:id', function(req, res) {
  var twilio = require('twilio');
  var twiml = new twilio.TwimlResponse();

  var options = {
    voice: 'woman',
    language: 'en-gb'
  };

  twiml.say('Hello! And welcome to the Twilio App..', options);

  // The id will help you customize the response per user. This was set in 
  // Trigger call &gt; call.js while trigerring the call 

  if (req.params.id == '1') {
    twiml
      .say('Hello World!!')
      .say('Now you will hear a sound', options)
      .play('http://5935c388.ngrok.com/magic-chime-01.mp3') /** http://www.soundjay.com **/
      .say('Yaaaayyyy!!');
  } else {
    twiml
      .say('Waaaasssupppp!!')
      .say('Now you will hear a sound', options)
      .play('http://5935c388.ngrok.com/magic-chime-02.mp3') /** http://www.soundjay.com **/
      .say('Yaaaayyyy!!', options);
  }

  res.writeHead(200, {
    'Content-Type': 'text/xml'
  });
  res.end(twiml.toString());
});

module.exports = router;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef028748619758-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-28">28</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-30">30</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-32">32</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-34">34</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-36">36</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-38">38</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-40">40</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-42">42</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-44">44</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-46">46</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-48">48</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-50">50</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-52">52</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-54">54</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-56">56</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-58">58</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-60">60</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-62">62</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-64">64</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-66">66</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-68">68</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-70">70</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-72">72</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-74">74</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-76">76</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-78">78</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-80">80</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-82">82</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-84">84</div><div class="crayon-num" data-line="crayon-5a10feabef028748619758-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef028748619758-86">86</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef028748619758-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'express'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">router</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-sy">.</span><span class="crayon-e">Router</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-4"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/sendmsg'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">resp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">body</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">msg</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"invalid data"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-v">resp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">twClient</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../twilio/message'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">sendMsg</span><span class="crayon-sy">(</span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-v">text</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">error</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"success"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">sid</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-22">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef028748619758-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-v">resp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-26"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-28"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/triggercall'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">resp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">call</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">body</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">call</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">call</span><span class="crayon-sy">.</span><span class="crayon-st">to</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"invalid data"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-v">resp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">twClient</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../twilio/call'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">triggerCall</span><span class="crayon-sy">(</span><span class="crayon-v">call</span><span class="crayon-sy">.</span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">error</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-e">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"success"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resp</span><span class="crayon-sy">.</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">sid</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-46">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef028748619758-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">json</span><span class="crayon-sy">(</span><span class="crayon-v">resp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-50"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-52"><span class="crayon-v">router</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/call/:id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-53"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">twilio</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'twilio'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-54"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">twiml</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">twilio</span><span class="crayon-sy">.</span><span class="crayon-e">TwimlResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">options</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">voice</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'woman'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">language</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'en-gb'</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-60">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef028748619758-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Hello! And welcome to the Twilio App..'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">options</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-62">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef028748619758-63"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// The id will help you customize the response per user. This was set in </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-64"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Trigger call &gt; call.js while trigerring the call </span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-66"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">twiml</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Hello World!!'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Now you will hear a sound'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">options</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-s">'http://5935c388.ngrok.com/magic-chime-01.mp3'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">/** http://www.soundjay.com **/</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Yaaaayyyy!!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-72"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">twiml</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Waaaasssupppp!!'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Now you will hear a sound'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">options</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">play</span><span class="crayon-sy">(</span><span class="crayon-s">'http://5935c388.ngrok.com/magic-chime-02.mp3'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">/** http://www.soundjay.com **/</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">say</span><span class="crayon-sy">(</span><span class="crayon-s">'Yaaaayyyy!!'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">options</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-78"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/xml'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-82"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-83"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">twiml</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-84"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef028748619758-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef028748619758-86"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">router</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0179 seconds] -->
<p>Things to notice</p>
<p><strong>Line 14</strong> : We call the 
			<span id="crayon-5a10feabef035100185445" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sendMsg</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> to trigger sending a new message to the provided number.</p>
<p><strong>Line 23</strong> : We respond with a success or error depending on the response from Twilio.</p>
<p><strong>Line 38</strong> : We call the 
			<span id="crayon-5a10feabef03c049675850" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">triggerCall</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> to trigger a new call to the given number</p>
<p><strong>Line 47</strong> : We respond with a success or error depending on the response from Twilio.</p>
<p><strong>Line 54</strong> : We init a new 
			<span id="crayon-5a10feabef042759817700" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">TwimlResponse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>  and build the response object.</p>
<p><strong>Line 66</strong> : Here we customize the output depending on the URL, which we will configure when we trigger the call. This way we can have a user specific response built.</p>
<p><strong>Line 70,76</strong> : As part of the app, we will play a simple music to the user. You can get the sound files from <a href="https://github.com/arvindr21/myTwilioApp/tree/master/server/mp3" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/myTwilioApp/tree/master/server/mp3', 'here');" title="mp3"  target="_blank">here</a>. (create a new folder named <em>mp3</em> inside the <em>server</em> folder and save the mp3 files)</p>
<p><strong>Line 70,76</strong> : Do notice the URL : 
			<span id="crayon-5a10feabef049933378721" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//5935c388.ngrok.com</span></span></span>. We are going to use <a href="https://ngrok.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://ngrok.com/', 'ngrok');" title="ngrok"  target="_blank">ngrok</a> to expose our local server to public. You can download and setup ngrok from <a href="https://ngrok.com/download" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://ngrok.com/download', 'here');" title="Download ngrok"  target="_blank">here</a>. This way we can expose our locally hosted app, so that Twilio can access the response.</p>
<p>Alternatively, you can host the app on any of the public facing servers and then provide the complete path of the resource.</p>
<p><strong>Line 80</strong> : We set the content-type to be 
			<span id="crayon-5a10feabef050661926153" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">text</span><span class="crayon-o">/</span><span class="crayon-v">xml</span></span></span>.</p>
<p>Now, we will build the Twilio layer. This layer will expose the 2 methods, one to send a message and two to place a call.</p>
<p>Create a new folder inside the <em>server</em> folder and name it <em>twilio.</em> Inside the folder create a new file named <em>client.js</em>.</p>
<p>This file will contain the Account SID and Auth Token that we will be updating from the Twilio dashboard. The updated <i>client.js</i> would look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef05a657578182" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/twilio/client.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
module.exports = require('twilio')('ACCOUNT_SID', 'AUTH_TOKEN');</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef05a657578182-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef05a657578182-1"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'twilio'</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-s">'ACCOUNT_SID'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'AUTH_TOKEN'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p><em>Update the above placeholders.</em></p>
<p>Next, we will create the 
			<span id="crayon-5a10feabef060701645006" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sendMsg</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> . Create a new file named <em>message.js inside the twilio</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef066869423856" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/twilio/message.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var client = require('./client');
var logger = require('../logger/log');
var msg = {};

msg.sendMsg = function(to, message, callback) {
  client.sendMessage({
    to: to,
    from: '+16165225251', // your Twilio number
    body: message // The body of the text message
  }, function(error, message) {
    // Log the response to DiskDB for auditing purposes
    if (error) {
      logger.logMsg({
        "status": "error",
        "error": error
      });
    } else {
      logger.logMsg({
        "status": "success",
        "message": message
      });
    }
    callback(error, message);
  });
};

module.exports = msg;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef066869423856-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef066869423856-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef066869423856-27">27</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef066869423856-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./client'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logger</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../logger/log'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-4">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef066869423856-5"><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-v">sendMsg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">sendMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">to</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">from</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'+16165225251'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-c">// your Twilio number</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-c">// The body of the text message</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Log the response to DiskDB for auditing purposes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-e">logMsg</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"status"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"error"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">error</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-e">logMsg</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"status"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"success"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"message"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">message</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef066869423856-25"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef066869423856-26">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef066869423856-27"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0053 seconds] -->
<p>Things to notice</p>
<p><strong>Line 1</strong> : We refer the client we have configured earlier.</p>
<p><strong>Line 2</strong> : We are referring to a logger, which we will create in a moment. Logger is responsible for logging the requests we are making to Twilio and then capture the response (<em>for tracking purposes only</em>).</p>
<p><strong>Line 6</strong> : We fire a new request to Twilio&#8217;s 
			<span id="crayon-5a10feabef06e967322081" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sendMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span> </span></span>.</p>
<p><strong>Line 12</strong> : We capture the response, log it and then trigger the callback</p>
<p>The above logic is for sending a Message, now we are going to build the logic to trigger a call. Create a new file named <em>call.js</em> inside the <em>twilio</em> folder. Update it as</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef074239234794" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/twilio/call.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var client = require('./client');
var logger = require('../logger/log');

var call = {};

call.triggerCall = function(to, callback) {
  //Place a phone call, and respond with TwiML instructions from the given URL
  client.makeCall({

    to: to, // Any number Twilio can call
    from: '+16165225251',
    url: 'http://5935c388.ngrok.com/call/' + (Math.ceil((Math.random() * 10) % 2)) // the endpoint is made dynamic
    // Math.ceil((Math.random()*10) % 2) -&gt; generates either 1 or 2 
    // The endpoints are made dynamic so that we can handle each response uniquely
  }, function(error, response) {

    // Log the response to DiskDB to auditing purposes
    if (error) {
      logger.logCall({
        "status": "error",
        "error": error
      });
    } else {
      logger.logCall({
        "status": "success",
        "response": response
      });
    }
    callback(error, response);

  });

};

module.exports = call;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef074239234794-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-28">28</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-30">30</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-32">32</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef074239234794-34">34</div><div class="crayon-num" data-line="crayon-5a10feabef074239234794-35">35</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef074239234794-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./client'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logger</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../logger/log'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">call</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-6"><span class="crayon-v">call</span><span class="crayon-sy">.</span><span class="crayon-v">triggerCall</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Place a phone call, and respond with TwiML instructions from the given URL</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">makeCall</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">to</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-c">// Any number Twilio can call</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">from</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'+16165225251'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'http://5935c388.ngrok.com/call/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">ceil</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// the endpoint is made dynamic</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Math.ceil((Math.random()*10) % 2) -&gt; generates either 1 or 2 </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// The endpoints are made dynamic so that we can handle each response uniquely</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-16">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef074239234794-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Log the response to DiskDB to auditing purposes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-e">logCall</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"status"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"error"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"error"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">error</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-e">logCall</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"status"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"success"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"response"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">response</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef074239234794-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-30">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef074239234794-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-32">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef074239234794-33"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef074239234794-34">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef074239234794-35"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">call</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0062 seconds] -->
<p>Things to notice</p>
<p><strong>Line 1,2</strong> : We include the client and the logger</p>
<p><strong>Line 8</strong> : We trigger a new call to the number provided.</p>
<p><strong>Line 12</strong> : We point to the 
			<span id="crayon-5a10feabef07c324812091" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">URL</span></span></span>  to a dynamic URL, which would respond with a TwiML. This endpoint is the 3rd route we have created in the <em>routes/index.js</em>.</p>
<p><strong>Line 18</strong> : We capture the response, log it and then trigger the callback</p>
<p>Simple right!</p>
<p><em>Note : DO NOT forget to update the ngrok URL with the one from your local machine. More on that in a moment.</em></p>
<p>Finally, we will configure our logger. Our Logger is powered by DiskDB. Now, create a new folder named <em>logger </em>inside the <em>server</em> folder. Create a new file named <em>log.js </em>inside the <em>logger</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef084394082543" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server/logger/log.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var db = require('diskdb');
db = db.connect('data', ['msg_log', 'call_log']);

var logger = {};

logger.logMsg = function(msgObj) {
  db.msg_log.save({
    "logged_at": (new Date()),
    msg: msgObj
  });
};

logger.logCall = function(msgObj) {
  db.call_log.save({
    "logged_at": (new Date()),
    msg: msgObj
  });
};

module.exports = logger;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef084394082543-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef084394082543-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef084394082543-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef084394082543-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'diskdb'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-2"><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">connect</span><span class="crayon-sy">(</span><span class="crayon-s">'data'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'msg_log'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'call_log'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logger</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-6"><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-v">logMsg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">msgObj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">msg_log</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"logged_at"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">msg</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">msgObj</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-11"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-12">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef084394082543-13"><span class="crayon-v">logger</span><span class="crayon-sy">.</span><span class="crayon-v">logCall</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">msgObj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">call_log</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"logged_at"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">msg</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">msgObj</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-18"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef084394082543-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef084394082543-20"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">logger</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0041 seconds] -->
<p>Here, we log the message received into <em>data</em> folder.</p>
<p>Finally to complete the server, create a new folder named <em>data </em>at the root of the <em>server</em>. This folder will hold the log files we create.</p>
<p>To test the server, you can use any REST client. Before we start testing, we need to start the server. From inside the <em>server</em> folder run</p>
<p style="text-align: center;">
			<span id="crayon-5a10feabef08e333184902" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">node </span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></span></span></p>
<p>Next, we will start the ngrok server. This will help in making our app public. From the ngrok downloaded folder, run</p>
<p class="p1" style="text-align: center;">
			<span id="crayon-5a10feabef094845339374" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-i">ngrok</span><span class="crayon-h"> </span><span class="crayon-cn">3000</span></span></span></p>
<p>And you should see</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-8.55.27-pm.png" data-rel="lightbox-7" title=""><img class="size-medium wp-image-2025 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-8.55.27-pm.png?resize=451%2C118" alt="Screen Shot 2014-09-14 at 8.55.27 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2025 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-8.55.27-pm.png?resize=451%2C118" alt="Screen Shot 2014-09-14 at 8.55.27 pm" data-recalc-dims="1" /></noscript></a></p>
<p>The URL on the right hand side is the public URL for the app. As long as the node app is running, the public URL will be active. This is only for testing our app, make sure you deploy your app to a proper production environment, with updated URLs in <em>routes/index.js </em>and <em>server/twilio/call.js </em>before sharing it to the public.</p>
<p><em>Thanks to <a href="http://blog.nodeknockout.com/post/66323669071/send-text-messages-and-make-phone-calls-with-node" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://blog.nodeknockout.com/post/66323669071/send-text-messages-and-make-phone-calls-with-node', 'this');" title="Send Text Messages and Make Phone Calls with Node"  target="_blank">this</a> awesome post, which helped me get started with Twilio for Node as well as ngrok. </em></p>
<p>When you test the App using Advanced REST client (a chrome app), it would look like</p>
<p><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.34-pm.png" data-rel="lightbox-8" title=""><img class="size-medium wp-image-2026 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.34-pm.png?resize=451%2C151" alt="Screen Shot 2014-09-14 at 9.13.34 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2026 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.34-pm.png?resize=451%2C151" alt="Screen Shot 2014-09-14 at 9.13.34 pm" data-recalc-dims="1" /></noscript></a> <a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.44-pm.png" data-rel="lightbox-9" title=""><img class="size-medium wp-image-2027 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.44-pm.png?resize=451%2C76" alt="Screen Shot 2014-09-14 at 9.13.44 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2027 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screen-Shot-2014-09-14-at-9.13.44-pm.png?resize=451%2C76" alt="Screen Shot 2014-09-14 at 9.13.44 pm" data-recalc-dims="1" /></noscript></a></p>
<p>This shows that our server is working fine. No, we will go ahead and build the Mobile Hybrid app.</p>
<h2>Build the Mobile Hybrid App</h2>
<p>For the client side Hybrid app, we are going to use Ionic framework. We will scaffold a blank template and build the app on top of it.</p>
<p>Open terminal/prompt inside the <em>client </em>folder. Execute</p>
<p style="text-align: center;">
			<span id="crayon-5a10feabef09e046076410" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">ionic </span><span class="crayon-e">start </span><span class="crayon-e">myTwilioApp </span><span class="crayon-v">blank</span></span></span></p>
<p><em>Make sure you have Ionic and cordova installed</em> (
			<span id="crayon-5a10feabef0a5613857454" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">g</span><span class="crayon-h"> </span><span class="crayon-e">cordova </span><span class="crayon-v">ionic</span></span></span>).</p>
<p>Once the app is scaffolded, CD into the <em>myTwilioApp</em> folder and run</p>
<p style="text-align: center;">
			<span id="crayon-5a10feabef0b7046415379" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">ionic </span><span class="crayon-v">serve</span></span></span></p>
<p>And you should see the starter template. Now, we will update the <em>client/myTwilioApp/www/js/app.js </em>as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef0be010999136" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">client/myTwilioApp/www/js/app.js</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('mytwilioapp', ['ionic'])

.run(function($ionicPlatform) {
  $ionicPlatform.ready(function() {
    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
    // for form inputs)
    if (window.cordova &amp;&amp; window.cordova.plugins.Keyboard) {
      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
    }
    if (window.StatusBar) {
      StatusBar.styleDefault();
    }
  });
})

.factory('API', function($http) {
  var api = {};
  var baseURL = 'http://5935c388.ngrok.com';

  api.sendMsg = function(to, text) {
    return $http.post(baseURL + '/sendmsg', {
      "to": to,
      "text": text
    });
  };

  api.triggerCall = function(to) {
    return $http.post(baseURL + '/triggercall', {
      "to": to
    });
  };

  return api;
})

.controller('AppCtrl', function($scope, $ionicLoading, $ionicPopup, API) {

  $scope.processing = false;

  $scope.show = function(message) {
    $ionicLoading.show({
      template: message
    });
  };

  $scope.hide = function() {
    $ionicLoading.hide();
  };

  $scope.showAlert = function(msg) {
    $ionicPopup.alert({
      title: msg.title,
      template: msg.message,
      okText: 'Cool',
      okType: 'button-assertive'
    });
  };

  $scope.sendMessage = function() {
    $scope.processing = true;
    $scope.show('Sending Message...');
    API.sendMsg($scope.msgTo, $scope.msgText).then(function(data) {

      if (data.data.status == 'success') {
        $scope.msgTo = '';
        $scope.msgText = '';
        $scope.showAlert({
          title: "Success",
          message: "Message sent successfully"
        });
      } else {
        $scope.showAlert({
          title: "Oops!!",
          message: "Oops something went wrong! Please try again later."
        });
      }
      $scope.hide();
      $scope.processing = false;

    });

  };

  $scope.triggerCall = function() {
    $scope.processing = true;
    $scope.show('Triggering a call...');
    API.triggerCall($scope.callTo).then(function(data) {

      if (data.data.status == 'success') {
        $scope.callTo = '';
        $scope.showAlert({
          title: "Success",
          message: "Call trigerred successfully"
        });
      } else {
        $scope.showAlert({
          title: "Oops!!",
          message: "Oops something went wrong! Please try again later."
        });
      }
      $scope.hide();
      $scope.processing = false;

    });

  };

});</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-28">28</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-30">30</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-32">32</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-34">34</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-36">36</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-38">38</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-40">40</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-42">42</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-44">44</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-46">46</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-48">48</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-50">50</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-52">52</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-54">54</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-56">56</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-58">58</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-60">60</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-62">62</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-64">64</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-66">66</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-68">68</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-70">70</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-72">72</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-74">74</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-76">76</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-78">78</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-80">80</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-82">82</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-84">84</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-86">86</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-88">88</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-90">90</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-92">92</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-94">94</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-96">96</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-98">98</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-100">100</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-102">102</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-104">104</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-106">106</div><div class="crayon-num" data-line="crayon-5a10feabef0be010999136-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0be010999136-108">108</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef0be010999136-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'mytwilioapp'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ionic'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-2">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0be010999136-3"><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">ionicPlatform</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicPlatform</span><span class="crayon-sy">.</span><span class="crayon-e">ready</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Hide the accessory bar by default (remove this to show the accessory bar above the keyboard</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// for form inputs)</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">cordova</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">cordova</span><span class="crayon-sy">.</span><span class="crayon-v">plugins</span><span class="crayon-sy">.</span><span class="crayon-v">Keyboard</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cordova</span><span class="crayon-sy">.</span><span class="crayon-v">plugins</span><span class="crayon-sy">.</span><span class="crayon-v">Keyboard</span><span class="crayon-sy">.</span><span class="crayon-e">hideKeyboardAccessoryBar</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">StatusBar</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">StatusBar</span><span class="crayon-sy">.</span><span class="crayon-e">styleDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-14"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-16"><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'API'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">baseURL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://5935c388.ngrok.com'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-v">sendMsg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-st">to</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">baseURL</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/sendmsg'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"to"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"text"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">text</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-26">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0be010999136-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-v">triggerCall</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-st">to</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">baseURL</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/triggercall'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"to"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">to</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-32">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0be010999136-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-34"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-36"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'AppCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicPopup</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">processing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">show</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">template</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">message</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">hide</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">showAlert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">msg</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicPopup</span><span class="crayon-sy">.</span><span class="crayon-e">alert</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">template</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">msg</span><span class="crayon-sy">.</span><span class="crayon-v">message</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">okText</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Cool'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">okType</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'button-assertive'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-58">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0be010999136-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">sendMessage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">processing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Sending Message...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">sendMsg</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">msgTo</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">msgText</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'success'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">msgTo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">msgText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">showAlert</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Success"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Message sent successfully"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">showAlert</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Oops!!"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Oops something went wrong! Please try again later."</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">processing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-81">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-82"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-84"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">triggerCall</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">processing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Triggering a call...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">triggerCall</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">callTo</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-88">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0be010999136-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'success'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">callTo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">showAlert</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Success"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Call trigerred successfully"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">showAlert</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Oops!!"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Oops something went wrong! Please try again later."</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">processing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-105">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-106"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10feabef0be010999136-107">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0be010999136-108"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0205 seconds] -->
<p>Things to notice</p>
<p><strong>Line 16</strong> : We have our factory layer, that is responsible for interacting with our REST server.</p>
<p><strong>Line 36</strong> : Our AppCtrl, which controls our only view</p>
<p>Standard Angular stuff.</p>
<p>Now, we will update the <em>index.html</em>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a10feabef0ca393549623" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">client/myTwilioApp/www/index.html</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"&gt;
  &lt;title&gt;My App&lt;/title&gt;

  &lt;link href="lib/ionic/css/ionic.css" rel="stylesheet"&gt;
  &lt;link href="css/style.css" rel="stylesheet"&gt;

  &lt;!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    &lt;link href="css/ionic.app.css" rel="stylesheet"&gt;
    --&gt;

  &lt;!-- ionic/angularjs js --&gt;
  &lt;script src="lib/ionic/js/ionic.bundle.js"&gt;&lt;/script&gt;

  &lt;!-- cordova script (this will be a 404 during development) --&gt;
  &lt;script src="cordova.js"&gt;&lt;/script&gt;

  &lt;!-- your app's js --&gt;
  &lt;script src="js/app.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body ng-app="mytwilioapp"&gt;

  &lt;ion-pane&gt;
    &lt;ion-header-bar class="bar-stable"&gt;
      &lt;h1 class="title"&gt;My Twilio App&lt;/h1&gt;
    &lt;/ion-header-bar&gt;
    &lt;ion-content ng-controller="AppCtrl"&gt;
      &lt;div class="list list-inset"&gt;
        &lt;h3&gt;Send Message&lt;/h3&gt;
        &lt;label class="item item-input item-floating-label"&gt;
          &lt;span class="input-label"&gt;Message To&lt;/span&gt;
          &lt;input type="text" placeholder="Message To" ng-model="msgTo"&gt;
        &lt;/label&gt;
        &lt;label class="item item-input item-floating-label"&gt;
          &lt;span class="input-label"&gt;Message Text&lt;/span&gt;
          &lt;textarea type="tel" placeholder="Message Text" ng-model="msgText"&gt;&lt;/textarea&gt;
        &lt;/label&gt;
        &lt;button class="button button-full button-assertive" ng-disabled="!(msgTo &amp;&amp; msgText) || processing" ng-click="sendMessage();"&gt;
          Send Message
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;hr/&gt;
      &lt;div class="list list-inset"&gt;
        &lt;h3&gt;Trigger Call&lt;/h3&gt;
        &lt;label class="item item-input item-floating-label"&gt;
          &lt;span class="input-label"&gt;Call To&lt;/span&gt;
          &lt;input type="text" placeholder="Call To" ng-model="callTo"&gt;
        &lt;/label&gt;
        &lt;button class="button button-full button-assertive" ng-disabled="!callTo || processing" ng-click="triggerCall();"&gt;
          Trigger Call
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/ion-content&gt;
  &lt;/ion-pane&gt;
&lt;/body&gt;

&lt;/html&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-2">2</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-4">4</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-6">6</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-8">8</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-10">10</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-12">12</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-14">14</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-16">16</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-18">18</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-20">20</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-22">22</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-24">24</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-26">26</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-28">28</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-30">30</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-32">32</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-34">34</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-36">36</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-38">38</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-40">40</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-42">42</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-44">44</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-46">46</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-48">48</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-50">50</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-52">52</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-54">54</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-56">56</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-58">58</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-60">60</div><div class="crayon-num" data-line="crayon-5a10feabef0ca393549623-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10feabef0ca393549623-62">62</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10feabef0ca393549623-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-2"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-e">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-r">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-e">content</span><span class="crayon-o">=</span><span class="crayon-s">"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-e">My </span><span class="crayon-v">App</span><span class="crayon-o">&lt;</span><span class="crayon-c">/title&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-8">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-9"><span class="crayon-c">&nbsp;&nbsp;&lt;link href="lib/i</span><span class="crayon-v">onic</span><span class="crayon-c">/css/i</span><span class="crayon-v">onic</span><span class="crayon-sy">.</span><span class="crayon-i">css</span><span class="crayon-s">" rel="</span><span class="crayon-i">stylesheet</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-10"><span class="crayon-s">&nbsp;&nbsp;&lt;link href="</span><span class="crayon-v">css</span><span class="crayon-c">/style.css" rel="stylesheet"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-12"><span class="crayon-c">&nbsp;&nbsp;&lt;!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-13"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&lt;link href="css/i</span><span class="crayon-v">onic</span><span class="crayon-sy">.</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-i">css</span><span class="crayon-s">" rel="</span><span class="crayon-i">stylesheet</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-14"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-16"><span class="crayon-s">&nbsp;&nbsp;&lt;!-- ionic/angularjs js --&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-17"><span class="crayon-s">&nbsp;&nbsp;<span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"lib/ionic/js/ionic.bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-18">&nbsp;</div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-19"><span class="crayon-s">&nbsp;&nbsp;&lt;!-- cordova script (this will be a 404 during development) --&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-20"><span class="crayon-s">&nbsp;&nbsp;<span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"cordova.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-22"><span class="crayon-s">&nbsp;&nbsp;&lt;!-- your app's js --&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-23"><span class="crayon-s">&nbsp;&nbsp;<span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/app.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-24"><span class="crayon-s">&lt;/head&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-26"><span class="crayon-s">&lt;body ng-app="</span><span class="crayon-i">mytwilioapp</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-28"><span class="crayon-s">&nbsp;&nbsp;&lt;ion-pane&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-29"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&lt;ion-header-bar class="</span><span class="crayon-v">bar</span><span class="crayon-o">-</span><span class="crayon-i">stable</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-30"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1 class="</span><span class="crayon-i">title</span><span class="crayon-s">"&gt;My Twilio App&lt;/h1&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-31"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ion-header-bar&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-32"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&lt;ion-content ng-controller="</span><span class="crayon-i">AppCtrl</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-33"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class="</span><span class="crayon-e">list </span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-i">inset</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-34"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;Send Message&lt;/h3&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-35"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label class="</span><span class="crayon-e">item </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-e">input </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-v">floating</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-36"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class="</span><span class="crayon-v">input</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;Message To&lt;/span&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-37"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="</span><span class="crayon-i">text</span><span class="crayon-s">" placeholder="</span><span class="crayon-e">Message </span><span class="crayon-st">To</span><span class="crayon-s">" ng-model="</span><span class="crayon-i">msgTo</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-38"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-39"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label class="</span><span class="crayon-e">item </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-e">input </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-v">floating</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-40"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class="</span><span class="crayon-v">input</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;Message Text&lt;/span&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-41"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;textarea type="</span><span class="crayon-i">tel</span><span class="crayon-s">" placeholder="</span><span class="crayon-e">Message </span><span class="crayon-r">Text</span><span class="crayon-s">" ng-model="</span><span class="crayon-i">msgText</span><span class="crayon-s">"&gt;&lt;/textarea&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-42"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-43"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button class="</span><span class="crayon-e">button </span><span class="crayon-v">button</span><span class="crayon-o">-</span><span class="crayon-e">full </span><span class="crayon-v">button</span><span class="crayon-o">-</span><span class="crayon-i">assertive</span><span class="crayon-s">" ng-disabled="</span><span class="crayon-o">!</span><span class="crayon-sy">(</span><span class="crayon-v">msgTo</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">msgText</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-i">processing</span><span class="crayon-s">" ng-click="</span><span class="crayon-e">sendMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-44"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send Message</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-45"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/button&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-46"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-47"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr/&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-48"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class="</span><span class="crayon-e">list </span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-i">inset</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-49"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;Trigger Call&lt;/h3&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-50"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label class="</span><span class="crayon-e">item </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-e">input </span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-v">floating</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-51"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class="</span><span class="crayon-v">input</span><span class="crayon-o">-</span><span class="crayon-i">label</span><span class="crayon-s">"&gt;Call To&lt;/span&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-52"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="</span><span class="crayon-i">text</span><span class="crayon-s">" placeholder="</span><span class="crayon-e">Call </span><span class="crayon-st">To</span><span class="crayon-s">" ng-model="</span><span class="crayon-i">callTo</span><span class="crayon-s">"&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-53"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-54"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button class="</span><span class="crayon-e">button </span><span class="crayon-v">button</span><span class="crayon-o">-</span><span class="crayon-e">full </span><span class="crayon-v">button</span><span class="crayon-o">-</span><span class="crayon-i">assertive</span><span class="crayon-s">" ng-disabled="</span><span class="crayon-o">!</span><span class="crayon-v">callTo</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-i">processing</span><span class="crayon-s">" ng-click="</span><span class="crayon-e">triggerCall</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>"<span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Trigger </span><span class="crayon-v">Call</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-c">/div&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-58"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/i</span><span class="crayon-v">on</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">pane</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-60"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10feabef0ca393549623-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10feabef0ca393549623-62"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0086 seconds] -->
<p>Things to notice</p>
<p><strong>Line 26</strong> : We init App</p>
<p><strong>Line 33</strong> : Our Send message markup</p>
<p><strong>Line 49</strong> : Our Trigger call markup</p>
<p>That is it! You can re run 
			<span id="crayon-5a10feabef0d5953369656" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">ionic </span><span class="crayon-v">server</span></span></span> and test the app in your browser. Once you are happy, you can issue a <a title="PhoneGap Quick Start" href="/phonegap-quick-start/" target="_blank">Phonegap build</a> to generate the device specific installers.</p>
<p>The final app would look like</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-18.png" data-rel="lightbox-10" title=""><img class="size-medium wp-image-2028 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-18.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-36-18" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2028 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-18.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-36-18" data-recalc-dims="1" /></noscript></a><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-24.png" data-rel="lightbox-11" title=""><img class="size-medium wp-image-2029 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-24.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-36-24" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2029 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-36-24.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-36-24" data-recalc-dims="1" /></noscript></a> <a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-08.png" data-rel="lightbox-12" title=""><img class="size-medium wp-image-2030 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-08.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-37-08" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2030 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-37-08.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-37-08" data-recalc-dims="1" /></noscript></a><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-211.png" data-rel="lightbox-13" title=""><img class="size-medium wp-image-2031 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-211.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-38-21" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2031 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-38-211.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-38-21" data-recalc-dims="1" /></noscript></a></p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-031.png" data-rel="lightbox-14" title=""><img class="size-medium wp-image-2032 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-031.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-39-03" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2032 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/09/Screenshot_2014-09-14-18-39-031.png?resize=168%2C300" alt="Screenshot_2014-09-14-18-39-03" data-recalc-dims="1" /></noscript></a></p>
<p>Hope this post gave you an idea as how to integrate Twilio, Node.js and build a mobile app using Ionic Framework that can be used to consume the REST API we exposed using Express.js.</p>
<hr />
<p>Thanks for reading! Do comment.<br />
@arvindr21</p>
<p>&nbsp;</p>
<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=Twilio%2C+Ionic+Framework+and+Node.js+%E2%80%93+A+Message+%26+Call+App+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=Twilio%2C+Ionic+Framework+and+Node.js+%E2%80%93+A+Message+%26+Call+App+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=/twilio-ionic-framework-and-node-js-a-message-call-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=/twilio-ionic-framework-and-node-js-a-message-call-app/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">2</span><a href="https://plus.google.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=/twilio-ionic-framework-and-node-js-a-message-call-app/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=From The Jackal of Javascript Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=/twilio-ionic-framework-and-node-js-a-message-call-app/&amp;text=From The Jackal of Javascript Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#bd82cec8dfd7d8dec980e9cad4d1d4d2919df4d2d3d4de9dfbcfdcd0d8cad2cfd69ddcd3d99df3d2d9d893d7ce9d988f8b9e858f8c8c869dfc9df0d8cecedcdad89d988f8bdcd0cd869dfedcd1d19dfccdcd9bdcd0cd86dfd2d9c480fbcfd2d09de9d5d89df7dcded6dcd19dd2db9df7dccbdccedecfd4cdc9988f8dd5c9c9cd879292c9d5d8d7dcded6dcd1d2dbd7dccbdccedecfd4cdc993ded2d092c9cad4d1d4d290d4d2d3d4de90dbcfdcd0d8cad2cfd690dcd3d990d3d2d9d890d7ce90dc90d0d8cecedcdad890dedcd1d190dccdcd92"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-2007-5a10feacdc23a' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=2007&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-2007-5a10feacdc23a' data-name='like-post-frame-70838519-2007-5a10feacdc23a'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
			<div class="entry-content">
	</div><!-- .entry-content -->

	<footer class="entry-meta">
		<span class="post-date"><a href="/twilio-ionic-framework-and-node-js-a-message-call-app/" title="10:23 pm" rel="bookmark"><time class="entry-date" datetime="2014-09-14T22:23:33+00:00">September 14, 2014</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="/author/arvind-ravulavaru/" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
			
				<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">
			<div class="nav-previous"><a href="/uploading-files-with-dropzone-js-and-express-js/" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="/maintaining-a-private-npm-registry/" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
																						
			
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-3376">
        <div id="dsq-comment-header-3376" class="dsq-comment-header">
            <cite id="dsq-cite-3376">
                <span id="dsq-author-user-3376">arsene</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3376" class="dsq-comment-body">
            <div id="dsq-comment-message-3376" class="dsq-comment-message"><p>hey, want to implemant the tuto with ionic 2. but when i make test with postman to send sms i get this error. any  <a href="https://uploads.disquscdn.com/images/6973255d6f6ffebc400dae8dcc99ee1b526ea11f51cb0ba83eeaf961605bf025.png" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://uploads.disquscdn.com/images/6973255d6f6ffebc400dae8dcc99ee1b526ea11f51cb0ba83eeaf961605bf025.png', 'https://uploads.disquscdn.com/images/6973255d6f6ffebc400dae8dcc99ee1b526ea11f51cb0ba83eeaf961605bf025.png');" rel="nofollow">https://uploads.disquscdn.com/images/6973255d6f6ffebc400dae8dcc99ee1b526ea11f51cb0ba83eeaf961605bf025.png</a> help please</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3303">
        <div id="dsq-comment-header-3303" class="dsq-comment-header">
            <cite id="dsq-cite-3303">
                <span id="dsq-author-user-3303">pramin senapati</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3303" class="dsq-comment-body">
            <div id="dsq-comment-message-3303" class="dsq-comment-message"><p>App is not working in android device and browser, for ionic app. Getting following error, Failed to load resource: net::ERR_NAME_NOT_RESOLVED , <a href="http://5935c388.ngrok.com/sendmsg" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://5935c388.ngrok.com/sendmsg', 'http://5935c388.ngrok.com/sendmsg');" rel="nofollow">http://5935c388.ngrok.com/sendmsg</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-3302">
        <div id="dsq-comment-header-3302" class="dsq-comment-header">
            <cite id="dsq-cite-3302">
                <span id="dsq-author-user-3302">pramin senapati</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3302" class="dsq-comment-body">
            <div id="dsq-comment-message-3302" class="dsq-comment-message"><p>Hi the app is not working in android device, for ionic app. Showing &#8220;Sending message&#8221; and it is not dismissing and  also i am not getting any success alert. plz help me</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3301">
        <div id="dsq-comment-header-3301" class="dsq-comment-header">
            <cite id="dsq-cite-3301">
                <span id="dsq-author-user-3301">arsene</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3301" class="dsq-comment-body">
            <div id="dsq-comment-message-3301" class="dsq-comment-message"><p>thanks for the post, possible to make for ionic 2?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-3233">
        <div id="dsq-comment-header-3233" class="dsq-comment-header">
            <cite id="dsq-cite-3233">
                <span id="dsq-author-user-3233">Moises Valera</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3233" class="dsq-comment-body">
            <div id="dsq-comment-message-3233" class="dsq-comment-message"><p>Hi, great tutorial, do you have any suggestion or tutorial on how to implement Twilio&#8217;s Programmable Video, in an ionic app?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-3243">
        <div id="dsq-comment-header-3243" class="dsq-comment-header">
            <cite id="dsq-cite-3243">
                <span id="dsq-author-user-3243">Deepika</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3243" class="dsq-comment-body">
            <div id="dsq-comment-message-3243" class="dsq-comment-message"><p>did you got any help??</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3163">
        <div id="dsq-comment-header-3163" class="dsq-comment-header">
            <cite id="dsq-cite-3163">
                <span id="dsq-author-user-3163">Mardi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3163" class="dsq-comment-body">
            <div id="dsq-comment-message-3163" class="dsq-comment-message"><p>Thank You . how to read sms ionic ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-3153">
        <div id="dsq-comment-header-3153" class="dsq-comment-header">
            <cite id="dsq-cite-3153">
                <span id="dsq-author-user-3153">faresallolo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3153" class="dsq-comment-body">
            <div id="dsq-comment-message-3153" class="dsq-comment-message"><p>Hi, Thanks for a great class :).   I was wondering about cookieParser how does it help in this app, and how to use it in general ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3106">
        <div id="dsq-comment-header-3106" class="dsq-comment-header">
            <cite id="dsq-cite-3106">
                <span id="dsq-author-user-3106">Vishnoo Rath</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3106" class="dsq-comment-body">
            <div id="dsq-comment-message-3106" class="dsq-comment-message"><p>More than anything else ngrok.io was Godsend</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-2983">
        <div id="dsq-comment-header-2983" class="dsq-comment-header">
            <cite id="dsq-cite-2983">
                <span id="dsq-author-user-2983">Mahesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2983" class="dsq-comment-body">
            <div id="dsq-comment-message-2983" class="dsq-comment-message"><p>Thanks again @arvindravulavaru:disqus but i dont want to use twilio because its too expensive. is there any other providers ? or is it possible to develop our own VoiP/SIP/VPN ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2738">
        <div id="dsq-comment-header-2738" class="dsq-comment-header">
            <cite id="dsq-cite-2738">
                <span id="dsq-author-user-2738">Peter Dennis</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2738" class="dsq-comment-body">
            <div id="dsq-comment-message-2738" class="dsq-comment-message"><p>I am getting an &#8220;Error: Cannot find module &#8216;./routes/index'&#8221; after node app.js Thanks for any help, love the tutorial, exactly what i am looking for</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-2748">
        <div id="dsq-comment-header-2748" class="dsq-comment-header">
            <cite id="dsq-cite-2748">
/                <span id="dsq-author-user-2748">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2748" class="dsq-comment-body">
            <div id="dsq-comment-message-2748" class="dsq-comment-message"><p>Thanks Peter! Have already created the required files (routes folder, index.js file), Before running the app?  </p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1848">
        <div id="dsq-comment-header-1848" class="dsq-comment-header">
            <cite id="dsq-cite-1848">
                <span id="dsq-author-user-1848">Mohamed</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1848" class="dsq-comment-body">
            <div id="dsq-comment-message-1848" class="dsq-comment-message"><p>Great Job! Big Thanks u!</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-1686">
        <div id="dsq-comment-header-1686" class="dsq-comment-header">
            <cite id="dsq-cite-1686">
                <span id="dsq-author-user-1686">Thiruanvukkarasu Muthuswamy</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1686" class="dsq-comment-body">
            <div id="dsq-comment-message-1686" class="dsq-comment-message"><p>Wow ! This is really awesome dude, thanks for the post <img src="/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-1687">
        <div id="dsq-comment-header-1687" class="dsq-comment-header">
            <cite id="dsq-cite-1687">
/                <span id="dsq-author-user-1687">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1687" class="dsq-comment-body">
            <div id="dsq-comment-message-1687" class="dsq-comment-message"><p>Thanks! </p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-1851">
        <div id="dsq-comment-header-1851" class="dsq-comment-header">
            <cite id="dsq-cite-1851">
/                <span id="dsq-author-user-1851">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1851" class="dsq-comment-body">
            <div id="dsq-comment-message-1851" class="dsq-comment-message"><p>Thanks! Glad you enjoyed it. </p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1261">
        <div id="dsq-comment-header-1261" class="dsq-comment-header">
            <cite id="dsq-cite-1261">
http://www.davekerr.co                <span id="dsq-author-user-1261">Dave Kerr</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1261" class="dsq-comment-body">
            <div id="dsq-comment-message-1261" class="dsq-comment-message"><p>Thanks for this writeup! Was looking to use this exact combination</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1262">
        <div id="dsq-comment-header-1262" class="dsq-comment-header">
            <cite id="dsq-cite-1262">
/                <span id="dsq-author-user-1262">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1262" class="dsq-comment-body">
            <div id="dsq-comment-message-1262" class="dsq-comment-message"><p>Great! Then you should check out <a href="/ionic-twilio-and-node-scheduler-part-1" rel="nofollow">/ionic-twilio-and-node-scheduler-part-1</a> too. </p>
<p>Thanks. </p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1007">
        <div id="dsq-comment-header-1007" class="dsq-comment-header">
            <cite id="dsq-cite-1007">
                <span id="dsq-author-user-1007">Bruno Seixas</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1007" class="dsq-comment-body">
            <div id="dsq-comment-message-1007" class="dsq-comment-message"><p>I am really into the Ionic Framework 😉<br />
Thanks for another great example!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1023">
        <div id="dsq-comment-header-1023" class="dsq-comment-header">
            <cite id="dsq-cite-1023">
/                <span id="dsq-author-user-1023">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1023" class="dsq-comment-body">
            <div id="dsq-comment-message-1023" class="dsq-comment-message"><p>Thanks! Glad it is helpful.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-912">
        <div id="dsq-comment-header-912" class="dsq-comment-header">
            <cite id="dsq-cite-912">
                <span id="dsq-author-user-912">kevinwhinnery</span>
            </cite>
        </div>
        <div id="dsq-comment-body-912" class="dsq-comment-body">
            <div id="dsq-comment-message-912" class="dsq-comment-message"><p>Nice work <img src="/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-913">
        <div id="dsq-comment-header-913" class="dsq-comment-header">
            <cite id="dsq-cite-913">
/                <span id="dsq-author-user-913">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-913" class="dsq-comment-body">
            <div id="dsq-comment-message-913" class="dsq-comment-message"><p>Thanks Kevin </p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-788">
        <div id="dsq-comment-header-788" class="dsq-comment-header">
            <cite id="dsq-cite-788">
                <span id="dsq-author-user-788">Sameera</span>
            </cite>
        </div>
        <div id="dsq-comment-body-788" class="dsq-comment-body">
            <div id="dsq-comment-message-788" class="dsq-comment-message"><p>Thank You.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-790">
        <div id="dsq-comment-header-790" class="dsq-comment-header">
            <cite id="dsq-cite-790">
/                <span id="dsq-author-user-790">Arvind Ravulavaru</span>
            </cite>
        </div>
        <div id="dsq-comment-body-790" class="dsq-comment-body">
            <div id="dsq-comment-message-790" class="dsq-comment-message"><p>Glad I could be of help!</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script src="/cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = '/twilio-ionic-framework-and-node-js-a-message-call-app/';
var disqus_identifier = '2007 /?p=2007';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Twilio, Ionic Framework and Node.js &#8211; A Message &#038; Call App";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=2007';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>


		
		</main><!-- #main -->
	</div><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
				<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
	</label>
	<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}

.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(/wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(/wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(/wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(/wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="/wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="/portfolio/">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
  allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
 <a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
		</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
		</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
		</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
		</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="/rotten-tomatoes-jquery-rest-client/" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="/uploading-files-made-fun/" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
		</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
				<div class="latest-series"><ul><li><a href="/series/a-reminder-app/" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="/series/node-webkit-apps/" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="/series/rpi/" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
			</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>

<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>

<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>

<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>

<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>

<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>

</ul></div>
		</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="/architecting-a-restful-node-js-app/"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,397 views</li><li><a href="/getting-started-with-angular-2-0/"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,588 views</li><li><a href="/developing-a-mean-app-with-angular-2-0/"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,730 views</li><li><a href="/getting-started-with-node-webkit-apps/"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,577 views</li><li><a href="/rpi-live-streaming/"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 92,016 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="/learning-ionic/">Learning Ionic</a>
						</li>
					<li>
				<a href="/electron-wordpress-angular-material-an-offline-viewer/">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
						</li>
					<li>
				<a href="/developing-a-mean-app-with-angular-2-0/">Developing a MEAN app with Angular 2.0</a>
						</li>
					<li>
				<a href="/pushbots-and-cordova/">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
						</li>
					<li>
				<a href="/getting-started-with-client-side-storage/">Getting Started with Client Side Storage</a>
						</li>
				</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-141"><a href="/architecture/" >Architecture</a> (8)
</li>
	<li class="cat-item cat-item-3"><a href="/css/" >CSS</a> (9)
<ul class='children'>
	<li class="cat-item cat-item-5"><a href="/css/css3/" >CSS3</a> (6)
</li>
	<li class="cat-item cat-item-26"><a href="/css/less/" >LESS</a> (3)
</li>
	<li class="cat-item cat-item-55"><a href="/css/sass/" >SASS</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-117"><a href="/database/" >Database</a> (17)
<ul class='children'>
	<li class="cat-item cat-item-136"><a href="/database/disk-db/" >Disk DB</a> (6)
</li>
	<li class="cat-item cat-item-131"><a href="/database/firebase/" >Firebase</a> (4)
</li>
	<li class="cat-item cat-item-118"><a href="/database/mongodb/" >MongoDB</a> (8)
	<ul class='children'>
	<li class="cat-item cat-item-119"><a href="/database/mongodb/mongolab/" >MongoLab</a> (3)
</li>
	<li class="cat-item cat-item-123"><a href="/database/mongodb/monk/" >Monk</a> (1)
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-125"><a href="/deployments/" >Deployments</a> (4)
<ul class='children'>
	<li class="cat-item cat-item-126"><a href="/deployments/heroku/" >Heroku</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-135"><a href="/desktop-apps/" >Desktop Apps</a> (8)
</li>
	<li class="cat-item cat-item-155"><a href="/dna-analysis/" >DNA Analysis</a> (1)
</li>
	<li class="cat-item cat-item-112"><a href="/es6/" >ECMAScript 6</a> (3)
</li>
	<li class="cat-item cat-item-162"><a href="/electron-atom-shell/" >Electron (atom shell)</a> (1)
</li>
	<li class="cat-item cat-item-25"><a href="/frameworks/" >Frameworks</a> (42)
<ul class='children'>
	<li class="cat-item cat-item-160"><a href="/frameworks/angular-2-0/" >Angular 2.0</a> (2)
</li>
	<li class="cat-item cat-item-108"><a href="/frameworks/angularjs/" >Angularjs</a> (21)
</li>
	<li class="cat-item cat-item-132"><a href="/frameworks/backbonejs/" >Backbonejs</a> (1)
</li>
	<li class="cat-item cat-item-105"><a href="/frameworks/bootstrap/" >Bootstrap</a> (9)
</li>
	<li class="cat-item cat-item-159"><a href="/frameworks/emberjs/" >Emberjs</a> (1)
</li>
	<li class="cat-item cat-item-56"><a href="/frameworks/foundation/" >Foundation</a> (3)
</li>
	<li class="cat-item cat-item-110"><a href="/frameworks/framework7/" >Framework7</a> (1)
</li>
	<li class="cat-item cat-item-107"><a href="/frameworks/ionic/" >Ionic</a> (11)
</li>
	<li class="cat-item cat-item-157"><a href="/frameworks/lumx/" >Lumx</a> (1)
</li>
	<li class="cat-item cat-item-138"><a href="/frameworks/mean/" >MEAN</a> (4)
</li>
	<li class="cat-item cat-item-116"><a href="/frameworks/meteorjs/" >Meteorjs</a> (1)
</li>
	<li class="cat-item cat-item-122"><a href="/frameworks/onsen-ui/" >Onsen UI</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-101"><a href="/git/" >Git</a> (12)
<ul class='children'>
	<li class="cat-item cat-item-102"><a href="/git/github/" >GitHub</a> (10)
</li>
</ul>
</li>
	<li class="cat-item cat-item-2"><a href="/html/" >HTML</a> (22)
<ul class='children'>
	<li class="cat-item cat-item-4"><a href="/html/html5/" >HTML5</a> (21)
	<ul class='children'>
	<li class="cat-item cat-item-158"><a href="/html/html5/webrtc/" >WebRTC</a> (1)
</li>
	<li class="cat-item cat-item-106"><a href="/html/html5/websockets/" >WebSockets</a> (6)
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-137"><a href="/intels-app-ui/" >Intel&#039;s App UI</a> (1)
</li>
	<li class="cat-item cat-item-143"><a href="/iot/" >IoT</a> (6)
</li>
	<li class="cat-item cat-item-1"><a href="/javascript/" >Javascript</a> (75)
<ul class='children'>
	<li class="cat-item cat-item-6"><a href="/javascript/jquery/" >jQuery</a> (14)
</li>
</ul>
</li>
	<li class="cat-item cat-item-151"><a href="/material-design/" >Material Design</a> (3)
</li>
	<li class="cat-item cat-item-99"><a href="/mobile/" >Mobile</a> (21)
<ul class='children'>
	<li class="cat-item cat-item-103"><a href="/mobile/android/" >Android</a> (15)
</li>
	<li class="cat-item cat-item-113"><a href="/mobile/firefox-os/" >Firefox OS</a> (2)
</li>
	<li class="cat-item cat-item-104"><a href="/mobile/ios/" >iOS</a> (11)
</li>
	<li class="cat-item cat-item-100"><a href="/mobile/phonegap/" >PhoneGap</a> (16)
</li>
</ul>
</li>
	<li class="cat-item cat-item-149"><a href="/mqtt/" >MQTT</a> (1)
</li>
	<li class="cat-item cat-item-163"><a href="/my-books/" >My Books</a> (1)
</li>
	<li class="cat-item cat-item-45"><a href="/node/" >Node</a> (60)
<ul class='children'>
	<li class="cat-item cat-item-152"><a href="/node/cli/" >CLI</a> (3)
</li>
	<li class="cat-item cat-item-121"><a href="/node/expressjs/" >Expressjs</a> (18)
</li>
	<li class="cat-item cat-item-156"><a href="/node/genome/" >Genome</a> (1)
</li>
	<li class="cat-item cat-item-62"><a href="/node/grunt/" >Grunt</a> (8)
</li>
	<li class="cat-item cat-item-124"><a href="/node/koa/" >Koa</a> (1)
</li>
	<li class="cat-item cat-item-134"><a href="/node/node-webkit/" >Node Webkit</a> (7)
</li>
	<li class="cat-item cat-item-54"><a href="/node/npm/" >NPM</a> (15)
</li>
	<li class="cat-item cat-item-120"><a href="/node/restify/" >Restify</a> (3)
</li>
</ul>
</li>
	<li class="cat-item cat-item-161"><a href="/push-notifications/" >Push Notifications</a> (1)
</li>
	<li class="cat-item cat-item-59"><a href="/quick-and-dirty/" >Quick and Dirty</a> (42)
</li>
	<li class="cat-item cat-item-142"><a href="/raspberry-pi/" >Raspberry Pi</a> (9)
</li>
	<li class="cat-item cat-item-60"><a href="/setup/" >Setup</a> (60)
</li>
	<li class="cat-item cat-item-61"><a href="/testing/" >Testing</a> (5)
<ul class='children'>
	<li class="cat-item cat-item-129"><a href="/testing/jasmine/" >Jasmine</a> (1)
</li>
	<li class="cat-item cat-item-128"><a href="/testing/protractor/" >Protractor</a> (1)
</li>
	<li class="cat-item cat-item-98"><a href="/testing/test-automation/" >Test Automation</a> (1)
</li>
	<li class="cat-item cat-item-41"><a href="/testing/tdd/" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-139"><a href="/third-party-products/" >Third Party Products</a> (4)
<ul class='children'>
	<li class="cat-item cat-item-140"><a href="/third-party-products/twilio/" >Twilio</a> (4)
</li>
</ul>
</li>
	<li class="cat-item cat-item-58"><a href="/tutorial/" >Tutorial</a> (79)
</li>
	<li class="cat-item cat-item-130"><a href="/performance-analysis/" >UI Performance</a> (1)
</li>
	<li class="cat-item cat-item-109"><a href="/web-components/" >Web Components</a> (3)
</li>
	<li class="cat-item cat-item-133"><a href="/google-web-starter-kit/" >Web Starter Kit</a> (1)
</li>
		</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
	<li><a href='/2015/07/'>July 2015</a></li>
	<li><a href='/2015/05/'>May 2015</a></li>
	<li><a href='/2015/04/'>April 2015</a></li>
	<li><a href='/2015/03/'>March 2015</a></li>
	<li><a href='/2015/02/'>February 2015</a></li>
	<li><a href='/2015/01/'>January 2015</a></li>
	<li><a href='/2014/12/'>December 2014</a></li>
	<li><a href='/2014/11/'>November 2014</a></li>
	<li><a href='/2014/10/'>October 2014</a></li>
	<li><a href='/2014/09/'>September 2014</a></li>
	<li><a href='/2014/08/'>August 2014</a></li>
	<li><a href='/2014/07/'>July 2014</a></li>
	<li><a href='/2014/06/'>June 2014</a></li>
	<li><a href='/2014/05/'>May 2014</a></li>
	<li><a href='/2014/04/'>April 2014</a></li>
	<li><a href='/2014/03/'>March 2014</a></li>
	<li><a href='/2014/02/'>February 2014</a></li>
		</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
    <label>Email <span class="wysija-required">*</span></label>
    
    	<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
    
    
    
    <span class="abs-req">
        <input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
    </span>
    
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />

    <input type="hidden" name="form_id" value="1" />
    <input type="hidden" name="action" value="save" />
    <input type="hidden" name="controller" value="subscribers" />
    <input type="hidden" value="1" name="wysija-page" />

    
        <input type="hidden" name="wysija[user_list][list_ids]" value="3" />
    
 </form></div></aside>	</div><!-- #secondary -->
<!--WPFC_FOOTER_START-->	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
             ['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
    var s = document.getElementsByTagName('script')[0]
      , p = document.createElement('script');
    p.async = 'async';
    p.src = '//rum-static.pingdom.net/prum.min.js';
    s.parentNode.insertBefore(p, s);
})();
</script>
	</div><!-- #content -->
		<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
						All Rights Reserved
			<span class="sep"> | </span>
			The Jackal of Javascript
		</div><!-- .site-info -->
		<div class="rnd-circle" style="    background: black;    width: 10px;    height: 10px;    border-radius: 50%;"></div>
	</footer><!-- #colophon -->
</div><!-- #page -->

				<script type='text/javascript'><!--
			var seriesdropdown = document.getElementById("orgseries_dropdown");
			if (seriesdropdown) {
			 function onSeriesChange() {
					if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
						location.href = "/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
					}
				}
				seriesdropdown.onchange = onSeriesChange;
			}
			--></script>
			        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'thejackalofjavascriptcom';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <div class="scroll-back-to-top-wrapper">
	<span class="scroll-back-to-top-inner">
					<i class="fa fa-2x fa-arrow-circle-up"></i>
			</span>
</div>
<style type="text/css">
    #wpfront-notification-bar 
    {
        background: #242d36;
        background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
        background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
        background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
        background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
        background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
    }

    #wpfront-notification-bar div.wpfront-message
    {
        color: #ffffff;
    }

    #wpfront-notification-bar a.wpfront-button
    {
        background: #f45145;
        background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
        background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
        background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
        background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
        background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );

        color: #ffffff;
    }

    #wpfront-notification-bar-open-button
    {
        background-color: #00b7ea;
    }

    #wpfront-notification-bar  div.wpfront-close 
    {
        border: 1px solid #555555;
        background-color: #555555;
        color: #000000;
    }

    #wpfront-notification-bar  div.wpfront-close:hover 
    {
        border: 1px solid #aaaaaa;
        background-color: #aaaaaa;
    }
</style>


<div id="wpfront-notification-bar-spacer"  style="display: none;">
    <div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
    <div id="wpfront-notification-bar" class="wpfront-fixed">
                    <div class="wpfront-close">X</div>
                <table border="0" cellspacing="0" cellpadding="0">
            <tr>
                <td>
                    <div class="wpfront-message">
                        Interested in building IoT Solutions using only JavaScript?<br>Checkout my new book:                    </div>
                    <div>
                                                                                    <a class="wpfront-button" href="https://www.packtpub.com/hardware-and-creative/advanced-iot-javascript"  target="_blank" >Advanced IoT with JavaScript</a>
                                                                                                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>


<style type="text/css">
#wpfront-notification-bar  div{display:inline;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><link rel='stylesheet' id='mediaelement-css'  href='/wp-includes/js/mediaelement/mediaelementplayer.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='/wp-includes/js/mediaelement/wp-mediaelement.css' type='text/css' media='all' />
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='/wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"\/wp-admin\/admin-ajax.php","post_id":"2007"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='/wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='/wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-includes/js/mediaelement/mediaelement-and-player.min.js'></script>
<script type='text/javascript' src='/wp-includes/js/mediaelement/wp-mediaelement.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":"\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":"\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
		<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
					<script type="text/javascript">
				jQuery.noConflict();
				(function( $ ) {
					$(function() {
						// More code using $ as alias to jQuery
						$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
							if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
								var target = $(this.hash);
								target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
								if (target.length) {
								$('html,body').animate({
								scrollTop: target.offset().top - 20  
								},900 ,'easeOutQuint');
								return false;
								}
							}
						});
					});
				})(jQuery);	
			</script>				
				<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'2007',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
	_stq.push([ 'clickTrackerInit', '70838519', '2007' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="/uploading-files-with-dropzone-js-and-express-js/" rel="Twilio, Ionic Framework and Node.js &#8211; A Message &amp; Call App">Uploading files with Dropzone.js and Express.js</a></h5><p>Dropzone.js and Express.js File upload In this post, we will take a look at how to integrate Dropzone.js with Express.js and...</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47881846-1', 'auto');
  ga('send', 'pageview');

</script>

<a style="display:none;" href="http://www.alexa.com/siteinfo//"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=/"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- need to refresh to see cached version -->