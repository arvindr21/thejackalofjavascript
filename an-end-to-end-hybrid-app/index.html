<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="./xmlrpc.php">
<!-- <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
<link rel="shortcut icon" href="./wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="./wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/61cc3c87f2aa625d55d3026ecc452e96/1511014149index.css" media="all"/>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />
<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Ionic Restify MongoDB - An End to End Hybrid App | The Jackal of Javascript</title>
<meta name="description" content="Ionic Restify MongoDB - An End to End Hybrid App Build the same Bucket List app without worrying about server side code, check out Creating a Firebase Powe"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="./an-end-to-end-hybrid-app/" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ionic Restify MongoDB - An End to End Hybrid App | The Jackal of Javascript" />
<meta property="og:description" content="Ionic Restify MongoDB - An End to End Hybrid App Build the same Bucket List app without worrying about server side code, check out Creating a Firebase Powe" />
<meta property="og:url" content="./an-end-to-end-hybrid-app/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Angularjs" />
<meta property="article:published_time" content="2014-04-27T23:25:14+05:30" />
<meta property="article:modified_time" content="2015-02-22T19:41:46+05:30" />
<meta property="og:updated_time" content="2015-02-22T19:41:46+05:30" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-42-23-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-42-32-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-44-31-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-46-08-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-46-371-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/2014-04-27-12-43-371-187x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/BucketListApp-384x300.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.06.21-pm-451x85.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.51.41-pm-451x203.png" />
<meta property="og:image" content="./wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-8.55.14-pm-451x261.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Ionic Restify MongoDB - An End to End Hybrid App Build the same Bucket List app without worrying about server side code, check out Creating a Firebase Powe" />
<meta name="twitter:title" content="Ionic Restify MongoDB - An End to End Hybrid App | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="./wp-content/uploads/2014/04/2014-04-27-12-42-23-187x300.png" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":".\/wp-includes\/js\/wp-emoji-release.min.js"}};
!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='savrix-style.css-css'  href='./wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='validate-engine-css-css'  href='./wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-css'  href='./wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='./wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='./wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='orgseries-default-css-css'  href='./wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/9f9f3b5f286a1b327e6bb0fdb1185c24/1511014149index.css" media="all"/>
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<!-- <link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wpfront-notification-bar-css'  href='./wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-style-css'  href='./wp-content/themes/sorbet/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-genericons-css'  href='./wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='easy_table_style-css'  href='./wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='upprev-css-css'  href='./wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='jetpack_css-css'  href='./wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/3af13bcd925b3eaa358c8ad5070bb07b/1511014148index.css" media="all"/>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');
__gaTracker('create', 'UA-47881846-1', 'auto');
__gaTracker('set', 'forceSSL', true);
__gaTracker('require', 'displayfeatures');
__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Ionic Restify MongoDB &#8211; An End to End Hybrid App' };
</script>
<script src='./wp-content/cache/wpfc-minified/1f21a7a8ca343ebb57ffeb4ab24afbd9/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery.js'></script> -->
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery-migrate.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='./wp-content/cache/wpfc-minified/052c748258385b6c23fc6642e73a4285/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script src='./wp-content/cache/wpfc-minified/d57c91500961bea5aea0e849cf08f7e7/1511014151index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/js/front.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/upprev/scripts/upprev.js'></script> -->
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />
<style>
.scroll-back-to-top-wrapper {
position: fixed;
opacity: 0;
visibility: hidden;
overflow: hidden;
text-align: center;
z-index: 99999999;
background-color: #777777;
color: #eeeeee;
width: 50px;
height: 48px;
line-height: 48px;
right: 30px;
bottom: 30px;
padding-top: 2px;
border-top-left-radius: 10px;
border-top-right-radius: 10px;
border-bottom-right-radius: 10px;
border-bottom-left-radius: 10px;
-webkit-transition: all 0.5s ease-in-out;
-moz-transition: all 0.5s ease-in-out;
-ms-transition: all 0.5s ease-in-out;
-o-transition: all 0.5s ease-in-out;
transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
background-color: #888888;
color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
visibility:visible;
cursor:pointer;
opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
vertical-align: 0;
}
</style><style type="text/css">	.ssba {
}
.ssba img
{
width: 35px !important;
padding: 6px;
border:  0;
box-shadow: none !important;
display: inline !important;
vertical-align: middle;
}
.ssba, .ssba a
{
text-decoration:none;
border:0;
background: none;
font-family: Indie Flower;
font-size: 	20px;
}.ssba_sharecount:after, .ssba_sharecount:before {
right: 100%;
border: solid transparent;
content: " ";
height: 0;
width: 0;
position: absolute;
pointer-events: none;
}
.ssba_sharecount:after {
border-color: rgba(224, 221, 221, 0);
border-right-color: #f5f5f5;
border-width: 5px;
top: 50%;
margin-top: -5px;
}
.ssba_sharecount:before {
border-color: rgba(85, 94, 88, 0);
border-right-color: #e0dddd;
border-width: 6px;
top: 50%;
margin-top: -6px;
}
.ssba_sharecount {
font: 11px Arial, Helvetica, sans-serif;
padding: 5px;
-khtml-border-radius: 6px;
-o-border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;
position: relative;
border: 1px solid #e0dddd;color: #555e58;
background: #ffffff;
}
.ssba_sharecount:after {
border-right-color: #ffffff;
}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
</style>
</head>
<body class="single single-post postid-1241 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<div class="site-header-wrapper">
<div class="site-branding">
<h1 class="site-title"><a href="./" rel="home">The Jackal of Javascript</a></h1>
<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
</div>
<div class="toggles">
<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
</div>
</div>
</header><!-- #masthead -->
<div id="menu-toggle-nav" class="panel">
<nav id="site-navigation" class="main-navigation" role="navigation">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="./">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="./portfolio/">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="./history-of-the-web/">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="./javascript-101/">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="./contact-request/">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
</div>
<div id="search-toggle-nav" class="panel">
<div class="search-wrapper">
<form role="search" method="get" class="search-form" action="./">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</div>
</div>
<div id="content" class="site-content">
<div id="primary" class="content-area">
<main id="main" class="site-main" role="main">
<article id="post-1241" class="post-1241 post type-post status-publish format-standard hentry category-angularjs category-database category-github category-ionic category-mobile category-mongodb category-mongolab category-node category-phonegap category-restify category-tutorial">
<header class="entry-header">
<h1 class="entry-title">Ionic Restify MongoDB &#8211; An End to End Hybrid App</h1>	</header><!-- .entry-header -->
<div class="entry-content">
<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./an-end-to-end-hybrid-app/&amp;text=Ionic+Restify+MongoDB+%E2%80%93+An+End+to+End+Hybrid+App+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./an-end-to-end-hybrid-app/&amp;text=Ionic+Restify+MongoDB+%E2%80%93+An+End+to+End+Hybrid+App+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./an-end-to-end-hybrid-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./an-end-to-end-hybrid-app/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">8</span><a href="https://plus.google.com/share?url=./an-end-to-end-hybrid-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./an-end-to-end-hybrid-app/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./an-end-to-end-hybrid-app/&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./an-end-to-end-hybrid-app/&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./an-end-to-end-hybrid-app/&amp;text=From The Jackal of Javascript Ionic Restify MongoDB &#8211; An End to End Hybrid App" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./an-end-to-end-hybrid-app/&amp;text=From The Jackal of Javascript Ionic Restify MongoDB &#8211; An End to End Hybrid App', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#99a6eaecfbf3fcfaeda4d0f6f7f0fab9cbfceaedf0ffe0b9d4f6f7fef6dddbb9bcabafbaa1aba8a8a2b9d8f7b9dcf7fdb9edf6b9dcf7fdb9d1e0fbebf0fdb9d8e9e9bff8f4e9a2fbf6fde0a4dfebf6f4b9cdf1fcb9d3f8faf2f8f5b9f6ffb9d3f8eff8eafaebf0e9edbcaba9f1edede9a3b6b6edf1fcf3f8faf2f8f5f6fff3f8eff8eafaebf0e9edb7faf6f4b6f8f7b4fcf7fdb4edf6b4fcf7fdb4f1e0fbebf0fdb4f8e9e9b6"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><h1 class="disp-none">Ionic Restify MongoDB &#8211; An End to End Hybrid App</h1>
<blockquote><p>Build the same Bucket List app without worrying about server side code, check out <a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application', 'Creating a Firebase Powered End to End Ionic Application');" title="Creating a Firebase Powered End to End Ionic Application"  target="_blank">Creating a Firebase Powered End to End Ionic Application</a></p></blockquote>
<p>In this post, we are going to build an End to End Hybrid App, that has a server component and a client component. Our server will be built on top of Node js, with Restify as the server side framework and MongoDB as the data persistence layer. Our Client is a Hybrid App, built with Ionic framework. We then are going to deploy the Ionic app using PhoneGap Build service to generate a Native installer.</p>
<p>The App we are going to build is a Bucket List app. Here a user can register and login. Then s/he can create a few bucket list items. Which would eventually result in</p>
<p style="text-align: center;"><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-23.png" data-rel="lightbox-0" title=""><img class="size-medium wp-image-1244" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-23-187x300.png?resize=187%2C300" alt="2014-04-27-12-42-23" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1244" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-23-187x300.png?resize=187%2C300" alt="2014-04-27-12-42-23" data-recalc-dims="1" /></noscript></a> <a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-32.png" data-rel="lightbox-1" title=""><img class="size-medium wp-image-1245" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-32-187x300.png?resize=187%2C300" alt="2014-04-27-12-42-32" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1245" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-42-32-187x300.png?resize=187%2C300" alt="2014-04-27-12-42-32" data-recalc-dims="1" /></noscript></a></p>
<p style="text-align: center;"><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-44-31.png" data-rel="lightbox-2" title=""><img class="size-medium wp-image-1246" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-44-31-187x300.png?resize=187%2C300" alt="2014-04-27-12-44-31" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1246" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-44-31-187x300.png?resize=187%2C300" alt="2014-04-27-12-44-31" data-recalc-dims="1" /></noscript></a> <a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-08.png" data-rel="lightbox-3" title=""><img class="size-medium wp-image-1247" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-08-187x300.png?resize=187%2C300" alt="2014-04-27-12-46-08" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1247" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-08-187x300.png?resize=187%2C300" alt="2014-04-27-12-46-08" data-recalc-dims="1" /></noscript></a></p>
<p style="text-align: center;">  <a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-371.png" data-rel="lightbox-4" title=""><img class="alignnone size-medium wp-image-1260" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-371-187x300.png?resize=187%2C300" alt="2014-04-27-12-46-37" data-recalc-dims="1" /><noscript><img class="alignnone size-medium wp-image-1260" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-46-371-187x300.png?resize=187%2C300" alt="2014-04-27-12-46-37" data-recalc-dims="1" /></noscript></a> <a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-43-371.png" data-rel="lightbox-5" title=""><img class="alignnone size-medium wp-image-1259" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-43-371-187x300.png?resize=187%2C300" alt="2014-04-27-12-43-37" data-recalc-dims="1" /><noscript><img class="alignnone size-medium wp-image-1259" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/2014-04-27-12-43-371-187x300.png?resize=187%2C300" alt="2014-04-27-12-43-37" data-recalc-dims="1" /></noscript></a></p>
<p>These images are taken from my Android Samsung Galaxy Note I device. And the performance was okay. But there is a lot of scope for improvement. If you want to dig into the app yourself, click <a href="http://arvindr21.github.io/BucketListApp/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://arvindr21.github.io/BucketListApp/', 'here');" title="BucketListApp Demo"  target="_blank">here</a>.</p>
<p>I have deployed the REST server on Heroku, DB on MongoLab and the client is the Ionic PhoneGap Native app!</p>
<p>List of all the REST service endpoints can be found <a href="http://docs.bucketlistapi.apiary.io/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://docs.bucketlistapi.apiary.io/', 'here');" title="API docs"  target="_blank">here</a> (<em>needs some cleanup</em>).</p>
<p>If you want to issue a PhoneGap build before diving in, you can fork <a href="https://github.com/arvindr21/BucketList-PhoneGapBuild" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/BucketList-PhoneGapBuild', 'this');" title="Repo"  target="_blank">this</a> repo and submit it <a href="https://build.phonegap.com/apps" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://build.phonegap.com/apps', 'here');" title="PhoneGap Build"  target="_blank">here</a>. Download the installer and test it out. Or you can download the installer directly from <a href="https://build.phonegap.com/apps/893217/share" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://build.phonegap.com/apps/893217/share', 'here');" title="Android and Windows Installer"  target="_blank">here</a>.</p>
<p>You can find the complete code <a href="https://github.com/arvindr21/BucketListApp" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/BucketListApp', 'here');" title="GitHub"  target="_blank">here</a>.</p>
<h3>Contents</h3>
<ul id="to-contents" class="ls-none">
<li><a href="/an-end-to-end-hybrid-app#architecture">Application Architecture</a>
<ul>
<li><a href="/an-end-to-end-hybrid-app#DBL">Database Layer</a></li>
<li><a href="/an-end-to-end-hybrid-app#RESTL">REST Service Layer</a></li>
<li><a href="/an-end-to-end-hybrid-app#CLL">Client Layer</a></li>
</ul>
</li>
<li><a href="/an-end-to-end-hybrid-app#pre">Prerequisites</a></li>
<li><a href="/an-end-to-end-hybrid-app#begin">Begin Development</a></li>
<li><a href="/an-end-to-end-hybrid-app#server">Server Side Development</a></li>
<li><a href="/an-end-to-end-hybrid-app#client">Client Side Development</a></li>
<li><a href="/an-end-to-end-hybrid-app#deploy">Deploying the App</a></li>
</ul>
<p><span id="more-1241"></span></p>
<h2 id="architecture">Application Architecture</h2>
<p>The first and foremost thing we are going to look at is the End to End Architecture. <a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/BucketListApp.png" data-rel="lightbox-6" title=""><img class="size-medium wp-image-1252 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/BucketListApp-384x300.png?resize=384%2C300" alt="BucketListApp" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1252 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/BucketListApp-384x300.png?resize=384%2C300" alt="BucketListApp" data-recalc-dims="1" /></noscript></a></p>
<p>The above Image should give you an idea as where we are headed. At a very high level, we have 3 layers (<em>Three Tier Architecture Duh!</em>). The Database Layer served by MongoDB, The REST Server, fulfilled by Node js &amp; Restify and finally the client layer, well practically this can be any device that can consume a REST endpoint. In our case it is a Ionic PhoneGap application.</p>
<h3 id="DBL">Database Layer</h3>
<p>I have chosen MongoDB as the backed database because its stores JSON documents and is very simple to interact with among other things. Our Database will have 2 collections.</p>
<p><strong>appUsers</strong> &#8211; For registering and authenticating the users</p>
<p><strong>bucketLists</strong> &#8211; To maintain BucketsList items created by each registered user.</p>
<p>We will be doing the development on a local instance of MongoDB and the migrating the same to MongoLab or any other MongoDB as a Service.</p>
<h3 id="RESTL">REST Service Layer</h3>
<p>This is the brain of our entire concept. i.e. the BucketList app. This layer takes in a request, depending on the request it will hit the database and dispatch the requested data, if the user is authenticated.</p>
<p>We will be using Node js server for hosting the service. The REST endpoints will be configured using Restify, a Node js Package to handle REST services. We will also use Mongojs, a Node js Package to manage the DB interactions. If you are new to this environment, I strongly recommend you to take at look at <a title="Nodejs Restify MongoDB – Build your own REST API" href="./nodejs-restify-mongolab-build-rest-api/" target="_blank">this</a>.</p>
<p>The next key component in our REST service is authentication. As you already know REST is stateless. i.e. It does not remember the client from which the request has originated. In our application, we have a concept very similar to an OAuth, where the client is expected to send a token, that it was issued when the client made the first interaction with the server.</p>
<p>In our application, there is no Authentication or Authorization to access the Register and Login REST endpoints. But when the client needs any data, it needs to send the logged in user&#8217; email as a token, so that we know if the client is trustable (<em>Just a simple workaround for the server. I didn&#8217;t want to implement the complete she bang! of OAuth for this post</em>).</p>
<h3 id="CLL">Client Layer</h3>
<p>With the ever rising demand of utilizing popular skills like web development to do practically any form of development made me pick a Hybrid App as my client. We are going to use Ionic Framework as the face of our Hybrid App. Primarily because of its tight integration with Angularjs, making consuming web services like our BucketList API a walk in the park which is full of REST services.</p>
<p><em>Quite a mouthful that last paragraph.</em></p>
<p>The client will have 5 primary Angular controllers.</p>
<p>1. <strong>Sign Up</strong> : Register a new User</p>
<p>2. <strong>Sign In</strong> : Login an existing user</p>
<p>3. <strong>Show Bucket List</strong> : To show all the incomplete bucket list items</p>
<p>4. <strong>Show Completed List</strong> : To show all the completed bucket list items</p>
<p>5. <strong>Create new Item</strong> : To create a new bucket list item</p>
<p>Apart from the above, we have a couple of methods to mark an item completed and delete an item.</p>
<p>We will be using localStorage to manage the session on the device. And a few other Ionic-Angular directives to make the app more interesting.</p>
<h2 id="pre">Prerequisites</h2>
<p>Now that we have an idea of what we are going to do, lets get started. There are a few prerequisites that we need to be aware of before we begin development.</p>
<h3>Server Layer</h3>
<p>You need to have an understanding of Node js, Restify and Mongojs to write good server code. You can find a post <a title="Nodejs Restify MongoDB – Build your own REST API" href="./nodejs-restify-mongolab-build-rest-api/" target="_blank">here</a>, that will teach you to write a REST API using the above mentioned components. You can also find a quick tutorial of MongoDB <a title="MongoDB" href="./mapreduce-in-mongodb/#mongodb" target="_blank">here</a>.</p>
<h3>Client Layer</h3>
<p>You need to be familiar with PhoneGap, PhoneGap build, GitHub &amp; Ionic Framework. You can find a post on Git <a title="Git &amp; GitHub for Beginners" href="./git-and-github-for-beginners/" target="_blank">here</a>, PhoneGap <a title="PhoneGap Quick Start" href="./phonegap-quick-start/" target="_blank">here</a>, how to set it up <a title="PhoneGap 3 CLI Setup on Mac &amp; Windows" href="./phonegap-3-cli-setup-mac-windows/" target="_blank">here</a> and a quick tutorial on Ionic Framework and PhoneGap build <a title="Ionic Framework, Angularjs &amp; PhoneGap Build- The Awesome Threesome!" href="./ionic-angularjs-and-phonegap-build/" target="_blank">here</a>. You need to be familiar with Angularjs too to get a hang of Ionic, you can find a hands on tutorial <a title="Ionic Framework, Angularjs &amp; PhoneGap Build- The Awesome Threesome!" href="./ionic-angularjs-and-phonegap-build/" target="_blank">here</a>.</p>
<p>If you are comfortable with these, you can get rolling with the development.</p>
<h2 id="begin">Begin Development</h2>
<p>First, lets create a new folder named <em>bucketList. </em>Generally, when I develop, I like to keep the dev code separate from the prod. This is more from a manageability perspective. Create 2 folders dev and prod inside the <em>bucketList </em>folder.</p>
<p>We will create 2 more folders inside the <em>dev</em> folder named <em>server</em> and <em>client</em>. Our final structure will be</p>
<p><a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.06.21-pm.png" data-rel="lightbox-7" title=""><img class="size-medium wp-image-1254 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.06.21-pm-451x85.png?resize=451%2C85" alt="Screen Shot 2014-04-27 at 7.06.21 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1254 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.06.21-pm-451x85.png?resize=451%2C85" alt="Screen Shot 2014-04-27 at 7.06.21 pm" data-recalc-dims="1" /></noscript></a></p>
<h2 id="server">Server Side Development</h2>
<p>We are going to start off the server side development first. We will be dealing with a local instance of MongoDB for the local development. If you have completed the prerequisites, you would already have MongoDB installed. Open a new terminal/prompt and start the MongoDB service by running</p>
<p style="text-align: center;">
<span id="crayon-5a1041194283b232395205" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">mongod</span></span></span></p>
<p>Next to build the server layer, Navigate to <em>dev/server</em> folder. First we will create a new node project. Open terminal/prompt here and run</p>
<p style="text-align: center;">
<span id="crayon-5a10411942884603146949" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">init</span></span></span></p>
<p>Feel free to fill it up as you please. Next we are going to install the project dependencies. There are 3 key dependencies</p>
<p>1. mongojs</p>
<p>2. restify</p>
<p>3. bcrypt</p>
<p>4. morgan (<em>optional &#8211; for logging</em>)</p>
<p>Run</p>
<p style="text-align: center;">
<span id="crayon-5a10411942890000529453" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">save </span><span class="crayon-e">mongojs </span><span class="crayon-e">restify </span><span class="crayon-e">bcrypt </span><span class="crayon-v">morgan</span></span></span></p>
<p>And the required dependencies will be installed. The completed <em>package.json</em> would be</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1041194289a331992375" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">package.json</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"name": "bucketListApp",
"version": "0.1.0",
"description": "A REST server for bucketListApp",
"main": "server.js",
"author": "Arvind Ravulavaru",
"license": "MIT",
"engines": {
"node": "0.10.x"
},
"dependencies": {
"morgan": "^1.0.0",
"bcrypt": "^0.7.8",
"restify": "^2.7.0",
"mongojs": "^0.13.0"
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1041194289a331992375-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-2">2</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-4">4</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-6">6</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-8">8</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-10">10</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-12">12</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-14">14</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194289a331992375-16">16</div><div class="crayon-num" data-line="crayon-5a1041194289a331992375-17">17</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1041194289a331992375-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"bucketListApp"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"version"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.1.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"description"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"A REST server for bucketListApp"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"main"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"server.js"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"author"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Arvind Ravulavaru"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"license"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"MIT"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"engines"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"node"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.10.x"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"dependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"morgan"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.0.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"bcrypt"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.7.8"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"restify"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^2.7.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"mongojs"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.13.0"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194289a331992375-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1041194289a331992375-17"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0025 seconds] -->
<p>Do notice that I have also added the engine details too. This will be used when we deploy the app to Heroku.</p>
<p>Next, create a new file named <em>server.js </em>inside the <em>dev/server</em> folder. This will be the starting point of our application. Create 2 more folders named <em>auth</em> and <em>list </em>here. All the code related to user interaction will be present inside the <em>auth</em> folder and all the BucketList API inside the <em>list</em> folder. This way, we can keep the code more organized and decoupled.</p>
<p>Our <em>server.js</em> will be</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119428a5925144463" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">server.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var restify     =   require('restify');
var mongojs     =   require('mongojs');
var morgan  	=   require('morgan');
var db          =   mongojs('bucketlistapp', ['appUsers','bucketLists']);
var server      =   restify.createServer();
server.use(restify.acceptParser(server.acceptable));
server.use(restify.queryParser());
server.use(restify.bodyParser());
server.use(morgan('dev')); // LOGGER
// CORS
server.use(function(req, res, next) {
res.header('Access-Control-Allow-Origin', "*");
res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');
res.header('Access-Control-Allow-Headers', 'Content-Type');
next();
});
server.listen(process.env.PORT || 9804, function () {
console.log("Server started @ ",process.env.PORT || 9804);
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119428a5925144463-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-2">2</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-4">4</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-6">6</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-8">8</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-10">10</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-12">12</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-14">14</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-16">16</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-18">18</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-20">20</div><div class="crayon-num" data-line="crayon-5a104119428a5925144463-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428a5925144463-22">22</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119428a5925144463-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">restify</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'restify'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">mongojs</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'mongojs'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">morgan</span><span class="crayon-h">&nbsp;&nbsp;	</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'morgan'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">mongojs</span><span class="crayon-sy">(</span><span class="crayon-s">'bucketlistapp'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'appUsers'</span><span class="crayon-sy">,</span><span class="crayon-s">'bucketLists'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-5"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-6">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428a5925144463-7"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">acceptParser</span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">acceptable</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-8"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">queryParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-9"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">bodyParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-10"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-e">morgan</span><span class="crayon-sy">(</span><span class="crayon-s">'dev'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// LOGGER</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-12"><span class="crayon-c">// CORS</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-13"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Origin'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"*"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Methods'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'GET,PUT,POST,DELETE'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">'Access-Control-Allow-Headers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-18"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-20"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-v">process</span><span class="crayon-sy">.</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-v">PORT</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-cn">9804</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428a5925144463-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Server started @ "</span><span class="crayon-sy">,</span><span class="crayon-v">process</span><span class="crayon-sy">.</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-v">PORT</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-cn">9804</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428a5925144463-22"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0068 seconds] -->
<p>We require all the dependencies. And the mongojs is configured to use a local database named <em>bucketlistapp. </em><strong>Lines 7 to 10</strong> configures the Restify middleware to take care of parsing the request and logging. <strong>Lines 13 to 18</strong> are very critical for a REST service. This is the place where we allow CORS (<em>Cross Origin Request Sharing</em>). i.e. any web based client can access our resources. They need not be from the same domain as ours. Without this, your client&#8217;s will not be able to talk to the server.Finally on <strong>Line 20</strong>, we start the server.</p>
<p>Next, lets take a look at the user registration and login. Before we start working on it, we need to have a system in place to store the passwords. We do not want to store the password as plain text in our DB. Create a new file inside the <em>auth</em> folder named <em>managePasswords.js, </em>and add the below code</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119428bf530816776" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">managePasswords.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/** http://stackoverflow.com/a/14015883/1015046 **/
var bcrypt = require('bcrypt');
module.exports.cryptPassword = function (password, callback) {
bcrypt.genSalt(10, function (err, salt) {
if (err)
return callback(err);
bcrypt.hash(password, salt, function (err, hash) {
return callback(err, hash);
});
});
};
module.exports.comparePassword = function (password, userPassword, callback) {
bcrypt.compare(password, userPassword, function (err, isPasswordMatch) {
if (err)
return callback(err);
return callback(null, isPasswordMatch);
});
};</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119428bf530816776-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-2">2</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-4">4</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-6">6</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-8">8</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-10">10</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-12">12</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-14">14</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-16">16</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-18">18</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-20">20</div><div class="crayon-num" data-line="crayon-5a104119428bf530816776-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428bf530816776-22">22</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119428bf530816776-1"><span class="crayon-c">/** http://stackoverflow.com/a/14015883/1015046 **/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bcrypt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'bcrypt'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-4"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">cryptPassword</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bcrypt</span><span class="crayon-sy">.</span><span class="crayon-e">genSalt</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">salt</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-8">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428bf530816776-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bcrypt</span><span class="crayon-sy">.</span><span class="crayon-e">hash</span><span class="crayon-sy">(</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">salt</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-12">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428bf530816776-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-14"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-16"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">comparePassword</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">userPassword</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bcrypt</span><span class="crayon-sy">.</span><span class="crayon-e">compare</span><span class="crayon-sy">(</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">userPassword</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isPasswordMatch</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isPasswordMatch</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428bf530816776-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428bf530816776-22"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0064 seconds] -->
<p>There are 2 methods here. One for encrypting the password used while registering with the application and the other for comparing the passwords during login process. Simple?</p>
<p>Next, we will write our API for managing the users. Create a new file named manageUser.js inside the <em>auth</em> folder. Add the below contents to it</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119428cc516946118" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">manageUser.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var pwdMgr = require('./managePasswords');
module.exports = function (server, db) {
// unique index
db.appUsers.ensureIndex({
email: 1
}, {
unique: true
})
server.post('/api/v1/bucketList/auth/register', function (req, res, next) {
var user = req.params;
pwdMgr.cryptPassword(user.password, function (err, hash) {
user.password = hash;
console.log("n", hash);
db.appUsers.insert(user,
function (err, dbUser) {
if (err) { // duplicate key error
if (err.code == 11000) /* http://www.mongodb.org/about/contributors/error-codes/*/ {
res.writeHead(400, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify({
error: err,
message: "A user with this email already exists"
}));
}
} else {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
dbUser.password = "";
res.end(JSON.stringify(dbUser));
}
});
});
return next();
});
server.post('/api/v1/bucketList/auth/login', function (req, res, next) {
var user = req.params;
if (user.email.trim().length == 0 || user.password.trim().length == 0) {
res.writeHead(403, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify({
error: "Invalid Credentials"
}));
}
console.log("in");
db.appUsers.findOne({
email: req.params.email
}, function (err, dbUser) {
pwdMgr.comparePassword(user.password, dbUser.password, function (err, isPasswordMatch) {
if (isPasswordMatch) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
// remove password hash before sending to the client
dbUser.password = "";
res.end(JSON.stringify(dbUser));
} else {
res.writeHead(403, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify({
error: "Invalid User"
}));
}
});
});
return next();
});
};</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119428cc516946118-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-2">2</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-4">4</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-6">6</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-8">8</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-10">10</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-12">12</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-14">14</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-16">16</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-18">18</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-20">20</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-22">22</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-24">24</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-26">26</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-28">28</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-30">30</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-32">32</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-34">34</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-36">36</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-38">38</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-40">40</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-42">42</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-44">44</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-46">46</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-48">48</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-50">50</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-52">52</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-54">54</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-56">56</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-58">58</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-60">60</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-62">62</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-64">64</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-66">66</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-68">68</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-70">70</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-72">72</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-74">74</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-76">76</div><div class="crayon-num" data-line="crayon-5a104119428cc516946118-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119428cc516946118-78">78</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119428cc516946118-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pwdMgr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./managePasswords'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-2">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428cc516946118-3"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// unique index</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">appUsers</span><span class="crayon-sy">.</span><span class="crayon-e">ensureIndex</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">unique</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-10">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428cc516946118-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/auth/register'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pwdMgr</span><span class="crayon-sy">.</span><span class="crayon-e">cryptPassword</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">appUsers</span><span class="crayon-sy">.</span><span class="crayon-e">insert</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// duplicate key error</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">11000</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">/* http://www.mongodb.org/about/contributors/error-codes/*/</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">400</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"A user with this email already exists"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dbUser</span><span class="crayon-sy">.</span><span class="crayon-e ">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/auth/login'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Invalid Credentials"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"in"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">appUsers</span><span class="crayon-sy">.</span><span class="crayon-e">findOne</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-54">&nbsp;</div><div class="crayon-line" id="crayon-5a104119428cc516946118-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pwdMgr</span><span class="crayon-sy">.</span><span class="crayon-e">comparePassword</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dbUser</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isPasswordMatch</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isPasswordMatch</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// remove password hash before sending to the client</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dbUser</span><span class="crayon-sy">.</span><span class="crayon-e ">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Invalid User"</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119428cc516946118-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119428cc516946118-78"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0192 seconds] -->
<p>Things to notice, <strong>Line 3</strong>, we are exporting this file as a module, which we will add into <em>server.js</em> soon. We get the server instance and the db instance from <em>server.js. </em><strong>Line 5</strong>, we make the email field of the user collection a unique index. Also do notice that our password manager methods are async as any other node code. So, we are going to nest our logic in the success callback of password creation method on <strong>line 13</strong>. The same goes for password comparison on <strong>line 54.</strong> Do notice that we set appropriate HTTP status code on <strong>lines 19, 28, 42, 57 and 64 </strong>while dispatching the response.</p>
<p>The logic for login and register is pretty straight forward. We have a couple of checks to validate the data &amp; then dispatch the results to the client.</p>
<p>Next, add the below line of code to server.js</p>
<p style="text-align: center;">
<span id="crayon-5a104119428de795264059" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">manageUsers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./auth/manageUser'</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></span></span></p>
<p>and start the server by running</p>
<p style="text-align: center;">
<span id="crayon-5a104119428f3341640322" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">node </span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></span></span>  or 
<span id="crayon-5a104119428fa859748835" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">nodemon </span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></span></span></p>
<p style="text-align: left;">You can use curl or chrome&#8217;s Advance REST client or Postman to register and login. Your request should be something like</p>
<p style="text-align: left;"><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.51.41-pm.png" data-rel="lightbox-8" title=""><img class="size-medium wp-image-1255 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.51.41-pm-451x203.png?resize=451%2C203" alt="Screen Shot 2014-04-27 at 7.51.41 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1255 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-7.51.41-pm-451x203.png?resize=451%2C203" alt="Screen Shot 2014-04-27 at 7.51.41 pm" data-recalc-dims="1" /></noscript></a></p>
<p style="text-align: left;">And then, you can hit the login end point with the created email and password to verify the service. Easy right?</p>
<p style="text-align: left;">Next up, we are going to build services that will let the client interact with BucketList API. Before we let a client interact with the API, we want to authenticate the incoming request and authorize if the client can access the API. For that, we will write a simple validator.</p>
<p style="text-align: left;">Create a new file named <em>validateRequest.js</em> inside the <em>auth</em> folder. And paste the below contents into it</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942902214011837" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">validateRequest.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var isEmailValid = function (db, email, callback) {
db.appUsers.findOne({
email: email
}, function (err, user) {
callback(user);
});
};
module.exports.validate = function (req, res, db, callback) {
// if the request dosent have a header with email, reject the request
if (!req.params.token) {
res.writeHead(403, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify({
error: "You are not authorized to access this application",
message: "An Email is required as part of the header"
}));
};
isEmailValid(db, req.params.token, function (user) {
if (!user) {
res.writeHead(403, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify({
error: "You are not authorized to access this application",
message: "Invalid User Email"
}));
} else {
callback();
}
});
};</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942902214011837-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-2">2</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-4">4</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-6">6</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-8">8</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-10">10</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-12">12</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-14">14</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-16">16</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-18">18</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-20">20</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-22">22</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-24">24</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-26">26</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-28">28</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-30">30</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-32">32</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942902214011837-34">34</div><div class="crayon-num" data-line="crayon-5a10411942902214011837-35">35</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942902214011837-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">isEmailValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">appUsers</span><span class="crayon-sy">.</span><span class="crayon-e">findOne</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-7"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-8">&nbsp;</div><div class="crayon-line" id="crayon-5a10411942902214011837-9"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">validate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// if the request dosent have a header with email, reject the request</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">token</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"You are not authorized to access this application"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"An Email is required as part of the header"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-20">&nbsp;</div><div class="crayon-line" id="crayon-5a10411942902214011837-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">isEmailValid</span><span class="crayon-sy">(</span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">token</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"You are not authorized to access this application"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Invalid User Email"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942902214011837-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942902214011837-35"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0080 seconds] -->
<p>Things to note, <strong>Line 11</strong> checks if there is a token param present or not. If not, we will dispatch a 403, with a proper error message. If the request does have a token param, we will validate if the email in the token is valid on <strong>line 22</strong>, with the help of method on <strong>line 1</strong>. If everything is fine, we fire a callback to take the request ahead, else close it with a 403.</p>
<p>I know, this is not a foolproof system. If you know a email address you can try fetching the data related to that user. But since this is an example, it will work. But incase you want to adopt a system like this, I seriously recommend using a proper oAuth system in place.</p>
<p style="text-align: left;">Finally, we will develop the BucketList API. Create a new file inside the list folder named <em>manageList.js</em> and copy the below contents.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942919419188614" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">manageList.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
module.exports = function (server, db) {
var validateRequest = require("../auth/validateRequest");
server.get("/api/v1/bucketList/data/list", function (req, res, next) {
validateRequest.validate(req, res, db, function () {
db.bucketLists.find({
user : req.params.token
},function (err, list) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(list));
});
});
return next();
});
server.get('/api/v1/bucketList/data/item/:id', function (req, res, next) {
validateRequest.validate(req, res, db, function () {
db.bucketLists.find({
_id: db.ObjectId(req.params.id)
}, function (err, data) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(data));
});
});
return next();
});
server.post('/api/v1/bucketList/data/item', function (req, res, next) {
validateRequest.validate(req, res, db, function () {
var item = req.params;
db.bucketLists.save(item,
function (err, data) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(data));
});
});
return next();
});
server.put('/api/v1/bucketList/data/item/:id', function (req, res, next) {
validateRequest.validate(req, res, db, function () {
db.bucketLists.findOne({
_id: db.ObjectId(req.params.id)
}, function (err, data) {
// merge req.params/product with the server/product
var updProd = {}; // updated products 
// logic similar to jQuery.extend(); to merge 2 objects.
for (var n in data) {
updProd[n] = data[n];
}
for (var n in req.params) {
if (n != "id")
updProd[n] = req.params[n];
}
db.bucketLists.update({
_id: db.ObjectId(req.params.id)
}, updProd, {
multi: false
}, function (err, data) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(data));
});
});
});
return next();
});
server.del('/api/v1/bucketList/data/item/:id', function (req, res, next) {
validateRequest.validate(req, res, db, function () {
db.bucketLists.remove({
_id: db.ObjectId(req.params.id)
}, function (err, data) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(data));
});
return next();
});
});
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942919419188614-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-2">2</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-4">4</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-6">6</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-8">8</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-10">10</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-12">12</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-14">14</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-16">16</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-18">18</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-20">20</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-22">22</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-24">24</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-26">26</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-28">28</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-30">30</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-32">32</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-34">34</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-36">36</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-38">38</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-40">40</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-42">42</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-44">44</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-46">46</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-48">48</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-50">50</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-52">52</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-54">54</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-56">56</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-58">58</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-60">60</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-62">62</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-64">64</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-66">66</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-68">68</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-70">70</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-72">72</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-74">74</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-76">76</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-78">78</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-80">80</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-82">82</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-84">84</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-86">86</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-88">88</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942919419188614-90">90</div><div class="crayon-num" data-line="crayon-5a10411942919419188614-91">91</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942919419188614-1"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">validateRequest</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">"../auth/validateRequest"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">"/api/v1/bucketList/data/list"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-i">token</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">list</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/data/item/:id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">ObjectId</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/data/item'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/data/item/:id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">findOne</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">ObjectId</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// merge req.params/product with the server/product</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-52">&nbsp;</div><div class="crayon-line" id="crayon-5a10411942919419188614-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">updProd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// updated products </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// logic similar to jQuery.extend(); to merge 2 objects.</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">updProd</span><span class="crayon-sy">[</span><span class="crayon-v">n</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-v">n</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"id"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">updProd</span><span class="crayon-sy">[</span><span class="crayon-v">n</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-v">n</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">ObjectId</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">updProd</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">multi</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-76">&nbsp;</div><div class="crayon-line" id="crayon-5a10411942919419188614-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">del</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/data/item/:id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">ObjectId</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942919419188614-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942919419188614-90">&nbsp;</div><div class="crayon-line" id="crayon-5a10411942919419188614-91"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0263 seconds] -->
<p>Yep, all the REST methods. GET POST PUT DELETE. As you have already noticed, we are exporting this also as a module, to be used in <em>server.js</em>. The first line in every method goes to validateRequest module. If this are good, the callback will be called, which would invoke the code inside the anonymous function.</p>
<p>Add the below line to <em>server.js</em></p>
<p style="text-align: center;">
<span id="crayon-5a10411942930011159610" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">manageLists</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./list/manageList'</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></span></span></p>
<p>Save all the flies and restart the server. Test all your endpoints like we did earlier for the Auth. You can refer to the complete API <a href="http://docs.bucketlistapi.apiary.io/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://docs.bucketlistapi.apiary.io/', 'here');" title="API"  target="_blank">here</a>.</p>
<p>This wraps up our server code. <em>Easy Peasy</em> right? You can add a few more collections and build their API by simply copy pasting the <em>manageList.js</em> file and updating the DB details.</p>
<h2 id="client">Client Side Development</h2>
<p>Our client is going to be a Hybrid App, built on IonicFramework &amp; then we will build the native installer by running it through the PhoneGap build.</p>
<p>Now, cd back and into the <em>client</em> folder inside the <em>dev</em>. We will scaffold the IonicApp here. First we need to install IonicFramework on our local. Inside the terminal/prompt run</p>
<div class="table-responsive"><table  style="width:100%; "  class="easy-table easy-table-default " border="0">
<thead>
<tr><th >Windows</th>
<th > Mac/*nix</th>
</tr>
</thead>
<tbody>
<tr><td >
<span id="crayon-5a10411942947268309511" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">g</span><span class="crayon-h"> </span><span class="crayon-e">cordova </span><span class="crayon-v">ionic</span></span></span> </td>
<td > 
<span id="crayon-5a1041194294f266583919" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-i">sudo</span> <span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">g</span><span class="crayon-h"> </span><span class="crayon-e">cordova </span><span class="crayon-v">ionic</span></span></span></td>
</tr>
</tbody></table></div>
<p><span style="font-size: 18px;">Once that is done, we will scaffold the base Ionic app inside the</span><em style="font-size: 18px;"> dev/client</em><span style="font-size: 18px;"> folder. Run</span></p>
<p class="p1" style="text-align: center;">
<span id="crayon-5a10411942958148341324" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">ionic </span><span class="crayon-e">start </span><span class="crayon-i">bucketListApp</span> <span class="crayon-v">blank</span></span></span></p>
<p>We will use a blank template to start off. You can find other templates <a href="http://ionicframework.com/getting-started/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ionicframework.com/getting-started/', 'here');" title="Templates"  target="_blank">here</a>. This will take a couple of minutes to scaffold the project. To run this app as is, follow <a title="Ionic Framework, Angularjs &amp; PhoneGap Build- The Awesome Threesome!" href="./ionic-angularjs-and-phonegap-build/" target="_blank">this</a>.</p>
<p>The scaffolded project structure would be like</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-8.55.14-pm.png" data-rel="lightbox-9" title=""><img class="size-medium wp-image-1257 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-8.55.14-pm-451x261.png?resize=451%2C261" alt="Screen Shot 2014-04-27 at 8.55.14 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-1257 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/04/Screen-Shot-2014-04-27-at-8.55.14-pm-451x261.png?resize=451%2C261" alt="Screen Shot 2014-04-27 at 8.55.14 pm" data-recalc-dims="1" /></noscript></a></p>
<p>The first thing we need to do is move the config.xml into the www folder. Otherwise PhoneGap build will not recognize the app&#8217;s config. Next, we will update the <em>config.xml</em> with the below details, accordingly</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942972024915153" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">config.xml</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;widget id="com.BucketList.app" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:gap="http://phonegap.com/ns/1.0"&gt;
&lt;name&gt;BucketList App&lt;/name&gt;
&lt;description&gt;
Ionic Restify and MongoDB - An End to End Hybrid App
&lt;/description&gt;
&lt;author email="admin@thejackalofjavascript.com" href="./"&gt;
Arvind Ravulvaru
&lt;/author&gt;
&lt;content src="index.html" /&gt;
&lt;access origin="*" /&gt;
&lt;preference name="fullscreen" value="true" /&gt;
&lt;preference name="webviewbounce" value="false" /&gt;
&lt;preference name="UIWebViewBounce" value="false" /&gt;
&lt;preference name="DisallowOverscroll" value="true" /&gt;
&lt;preference name="phonegap-version" value="3.3.0" /&gt;
&lt;feature name="StatusBar"&gt;
&lt;param name="ios-package" value="CDVStatusBar" onload="true" /&gt;
&lt;/feature&gt;
&lt;/widget&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942972024915153-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-2">2</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-4">4</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-6">6</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-8">8</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-10">10</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-12">12</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-14">14</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-16">16</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-18">18</div><div class="crayon-num" data-line="crayon-5a10411942972024915153-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942972024915153-20">20</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942972024915153-1"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">'1.0'</span><span class="crayon-h"> </span><span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">'utf-8'</span><span class="crayon-ta">?&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-2"><span class="crayon-o">&lt;</span><span class="crayon-e">widget </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"com.BucketList.app"</span><span class="crayon-h"> </span><span class="crayon-v">version</span><span class="crayon-o">=</span><span class="crayon-s">"1.0.0"</span><span class="crayon-h"> </span><span class="crayon-v">xmlns</span><span class="crayon-o">=</span><span class="crayon-s">"http://www.w3.org/ns/widgets"</span><span class="crayon-h"> </span><span class="crayon-v">xmlns</span><span class="crayon-o">:</span><span class="crayon-v">gap</span><span class="crayon-o">=</span><span class="crayon-s">"http://phonegap.com/ns/1.0"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">name</span><span class="crayon-o">&gt;</span><span class="crayon-e">BucketList </span><span class="crayon-v">App</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">name</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">description</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Ionic </span><span class="crayon-e">Restify </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-v">MongoDB</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">An </span><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-st">End</span><span class="crayon-h"> </span><span class="crayon-e">Hybrid </span><span class="crayon-v">App</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">description</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">author </span><span class="crayon-v">email</span><span class="crayon-o">=</span><span class="crayon-s">"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e081848d898ea09488858a81838b818c8f868a819681938392899094ce838f8d">[email&#160;protected]</a>"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"./"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Arvind </span><span class="crayon-v">Ravulvaru</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">author</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">content </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"index.html"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">access </span><span class="crayon-v">origin</span><span class="crayon-o">=</span><span class="crayon-s">"*"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">preference </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"fullscreen"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">preference </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"webviewbounce"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"false"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">preference </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"UIWebViewBounce"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"false"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">preference </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"DisallowOverscroll"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">preference </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"phonegap-version"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"3.3.0"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">feature </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"StatusBar"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">param </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"ios-package"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"CDVStatusBar"</span><span class="crayon-h"> </span><span class="crayon-v">onload</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942972024915153-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">feature</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942972024915153-20"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">widget</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0109 seconds] -->
<p>We got the config out of our way, we will concentrate on building the App.</p>
<p>Our app will have 2 tabbed interfaces. The first tab interface would be between login and register. The next tab interface would be between the User&#8217;s BucketList items and completed BucketList items. You can checkout the Ionic tabs directive <a href="http://ionicframework.com/docs/api/directive/ionTabs/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ionicframework.com/docs/api/directive/ionTabs/', 'here');" title="Directive"  target="_blank">here</a>.</p>
<p>Create a new folder inside <em>www</em> and name it <em>templates</em>. We will store all the individual screens here. Next, update <em>www/index.html</em> to</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1041194297f840945398" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"&gt;
&lt;title&gt;Bucket List App&lt;/title&gt;
&lt;link href="lib/ionic/css/ionic.css" rel="stylesheet"&gt;
&lt;link href="css/style.css" rel="stylesheet"&gt;
&lt;script src="lib/ionic/js/ionic.bundle.js"&gt;&lt;/script&gt;
&lt;script src="cordova.js"&gt;&lt;/script&gt;
&lt;script src="js/app.js"&gt;&lt;/script&gt;
&lt;script src="js/controllers.js"&gt;&lt;/script&gt;
&lt;script src="js/services.js"&gt;&lt;/script&gt;    
&lt;/head&gt;
&lt;body ng-app="bucketList" animation="slide-left-right-ios7"&gt;
&lt;ion-nav-bar class="bar-stable nav-title-slide-ios7"&gt;
&lt;ion-nav-back-button class="button-icon icon ion-chevron-left"&gt;
Back
&lt;/ion-nav-back-button&gt;
&lt;/ion-nav-bar&gt;
&lt;ion-nav-view&gt;&lt;/ion-nav-view&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1041194297f840945398-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-2">2</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-4">4</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-6">6</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-8">8</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-10">10</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-12">12</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-14">14</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-16">16</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-18">18</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-20">20</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194297f840945398-22">22</div><div class="crayon-num" data-line="crayon-5a1041194297f840945398-23">23</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1041194297f840945398-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-2"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-e">Bucket </span><span class="crayon-e">List </span><span class="crayon-v">App</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"lib/ionic/css/ionic.css"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"css/style.css"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"lib/ionic/js/ionic.bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"cordova.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/app.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/controllers.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/services.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-14"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">app</span><span class="crayon-o">=</span><span class="crayon-s">"bucketList"</span><span class="crayon-h"> </span><span class="crayon-v">animation</span><span class="crayon-o">=</span><span class="crayon-s">"slide-left-right-ios7"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-stable nav-title-slide-ios7"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">back</span><span class="crayon-o">-</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button-icon icon ion-chevron-left"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Back</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">back</span><span class="crayon-o">-</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194297f840945398-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1041194297f840945398-23"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0059 seconds] -->
<p>Things to notice, <strong>Line 15</strong>, we updated the module name, which we are going to create in soon. <strong>Lines 12, 13</strong>, we have added references to 2 script files, which we are going to create soon. <strong>Lines 16 to 20</strong>, we add a placeholder for the back button. Finally on <strong>line 21</strong>, we add a placeholder where other view would come and sit.</p>
<p><em>Quick tip: If you want to run the app, you need not emulate every time, this is a very painful process. Instead, you can host the www folder using a WAMP or LAMP or MAMP server and access the same through browser. Do not worry about the 404 on cordova.js.</em></p>
<p>Our client will be built on Ionic-Angular directives. We will have a Angular Router, that will switch templates based on the URL hash. Then the corresponding controller will be triggered. Then the controller will interact with the service layer to fetch data from our remote server&#8217;s REST API and render the view. Sounds simple?</p>
<p>Next, create 2 new files inside www/js folder named <em>services.js</em> and <em>controller.js. </em>app.js is where our application starts. In this file, we will create a new angular module named bucketList. Then we will add the dependencies for this module. That would be Ionic, controllers and services.</p>
<p>Then inside the run method, we will do some global stuff like managing the status bar etc. And then we use Angular-router to configure a few routes. Where each route will take us to a new view. The completed <em>app.js</em> would be</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1041194298e394968688" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('bucketList', ['ionic', 'bucketList.controllers', 'bucketList.services'])
.run(function ($ionicPlatform) {
$ionicPlatform.ready(function () {
if (window.StatusBar) {
// org.apache.cordova.statusbar required
StatusBar.styleDefault();
}
});
})
.config(function ($stateProvider, $urlRouterProvider) {
$stateProvider
.state('auth', {
url: "/auth",
abstract: true,
templateUrl: "templates/auth.html"
})
.state('auth.signin', {
url: '/signin',
views: {
'auth-signin': {
templateUrl: 'templates/auth-signin.html',
controller: 'SignInCtrl'
}
}
})
.state('auth.signup', {
url: '/signup',
views: {
'auth-signup': {
templateUrl: 'templates/auth-signup.html',
controller: 'SignUpCtrl'
}
}
})
.state('bucket', {
url: "/bucket",
abstract: true,
templateUrl: "templates/bucket.html"
})
.state('bucket.list', {
url: '/list',
views: {
'bucket-list': {
templateUrl: 'templates/bucket-list.html',
controller: 'myListCtrl'
}
}
})
.state('bucket.completed', {
url: '/completed',
views: {
'bucket-completed': {
templateUrl: 'templates/bucket-completed.html',
controller: 'completedCtrl'
}
}
})
$urlRouterProvider.otherwise('/auth/signin');
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1041194298e394968688-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-2">2</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-4">4</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-6">6</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-8">8</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-10">10</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-12">12</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-14">14</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-16">16</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-18">18</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-20">20</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-22">22</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-24">24</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-26">26</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-28">28</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-30">30</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-32">32</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-34">34</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-36">36</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-38">38</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-40">40</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-42">42</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-44">44</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-46">46</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-48">48</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-50">50</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-52">52</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-54">54</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-56">56</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041194298e394968688-58">58</div><div class="crayon-num" data-line="crayon-5a1041194298e394968688-59">59</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1041194298e394968688-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'bucketList'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ionic'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'bucketList.controllers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'bucketList.services'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">ionicPlatform</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicPlatform</span><span class="crayon-sy">.</span><span class="crayon-e">ready</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">StatusBar</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// org.apache.cordova.statusbar required</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">StatusBar</span><span class="crayon-sy">.</span><span class="crayon-e">styleDefault</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">stateProvider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">urlRouterProvider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-i">stateProvider</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'auth'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"/auth"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">abstract</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"templates/auth.html"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'auth.signin'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/signin'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'auth-signin'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'templates/auth-signin.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'SignInCtrl'</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'auth.signup'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/signup'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'auth-signup'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'templates/auth-signup.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'SignUpCtrl'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'bucket'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"/bucket"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">abstract</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"templates/bucket.html"</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'bucket.list'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/list'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'bucket-list'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'templates/bucket-list.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'myListCtrl'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'bucket.completed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/completed'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">views</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'bucket-completed'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'templates/bucket-completed.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'completedCtrl'</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041194298e394968688-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">urlRouterProvider</span><span class="crayon-sy">.</span><span class="crayon-e">otherwise</span><span class="crayon-sy">(</span><span class="crayon-s">'/auth/signin'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1041194298e394968688-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0103 seconds] -->
<p>Pretty straight forward stuff.</p>
<p>Next, open up <em>services.js. </em>This is our REST API interaction layer. Here, we will add a few utility methods to the <em>$rootScope</em> object, like logoff or screen refresh or showing a loading message etc. And then we will return a list of API&#8217;s. The completed <em>services.js</em> would be</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119429a7160872096" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">services.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('bucketList.services', [])
.factory('API', function ($rootScope, $http, $ionicLoading, $window) {
var base = "http://localhost:9804";
$rootScope.show = function (text) {
$rootScope.loading = $ionicLoading.show({
content: text ? text : 'Loading',
animation: 'fade-in',
showBackdrop: true,
maxWidth: 200,
showDelay: 0
});
};
$rootScope.hide = function () {
$ionicLoading.hide();
};
$rootScope.logout = function () {
$rootScope.setToken("");
$window.location.href = '#/auth/signin';
};
$rootScope.notify =function(text){
$rootScope.show(text);
$window.setTimeout(function () {
$rootScope.hide();
}, 1999);
};
$rootScope.doRefresh = function (tab) {
if(tab == 1)
$rootScope.$broadcast('fetchAll');
else
$rootScope.$broadcast('fetchCompleted');
$rootScope.$broadcast('scroll.refreshComplete');
};
$rootScope.setToken = function (token) {
return $window.localStorage.token = token;
}
$rootScope.getToken = function () {
return $window.localStorage.token;
}
$rootScope.isSessionActive = function () {
return $window.localStorage.token ? true : false;
}
return {
signin: function (form) {
return $http.post(base+'/api/v1/bucketList/auth/login', form);
},
signup: function (form) {
return $http.post(base+'/api/v1/bucketList/auth/register', form);
},
getAll: function (email) {
return $http.get(base+'/api/v1/bucketList/data/list', {
method: 'GET',
params: {
token: email
}
});
},
getOne: function (id, email) {
return $http.get(base+'/api/v1/bucketList/data/item/' + id, {
method: 'GET',
params: {
token: email
}
});
},
saveItem: function (form, email) {
return $http.post(base+'/api/v1/bucketList/data/item', form, {
method: 'POST',
params: {
token: email
}
});
},
putItem: function (id, form, email) {
return $http.put(base+'/api/v1/bucketList/data/item/' + id, form, {
method: 'PUT',
params: {
token: email
}
});
},
deleteItem: function (id, email) {
return $http.delete(base+'/api/v1/bucketList/data/item/' + id, {
method: 'DELETE',
params: {
token: email
}
});
}
}
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119429a7160872096-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-2">2</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-4">4</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-6">6</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-8">8</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-10">10</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-12">12</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-14">14</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-16">16</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-18">18</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-20">20</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-22">22</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-24">24</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-26">26</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-28">28</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-30">30</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-32">32</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-34">34</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-36">36</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-38">38</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-40">40</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-42">42</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-44">44</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-46">46</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-48">48</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-50">50</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-52">52</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-54">54</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-56">56</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-58">58</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-60">60</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-62">62</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-64">64</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-66">66</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-68">68</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-70">70</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-72">72</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-74">74</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-76">76</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-78">78</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-80">80</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-82">82</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-84">84</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-86">86</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-88">88</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-90">90</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-92">92</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-94">94</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-96">96</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429a7160872096-98">98</div><div class="crayon-num" data-line="crayon-5a104119429a7160872096-99">99</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119429a7160872096-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'bucketList.services'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'API'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">base</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://localhost:9804"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">show</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">loading</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">text</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-v">text</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Loading'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animation</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'fade-in'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">showBackdrop</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">maxWidth</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">showDelay</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">hide</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">logout</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">setToken</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e ">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'#/auth/signin'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-22">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429a7160872096-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">notify</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1999</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">doRefresh</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">tab</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">tab</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchAll'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchCompleted'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'scroll.refreshComplete'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-38">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429a7160872096-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">setToken</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">token</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">localStorage</span><span class="crayon-sy">.</span><span class="crayon-v">token</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">token</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-42">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429a7160872096-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">getToken</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">localStorage</span><span class="crayon-sy">.</span><span class="crayon-v">token</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-46">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429a7160872096-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">isSessionActive</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">localStorage</span><span class="crayon-sy">.</span><span class="crayon-i">token</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-50">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429a7160872096-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">signin</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">form</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/auth/login'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">signup</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">form</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/auth/register'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getAll</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/data/list'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">method</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getOne</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/data/item/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">method</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">saveItem</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">form</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/data/item'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">method</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'POST'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">putItem</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">put</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/data/item/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">method</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'PUT'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">deleteItem</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">delete</span><span class="crayon-sy">(</span><span class="crayon-v">base</span><span class="crayon-o">+</span><span class="crayon-s">'/api/v1/bucketList/data/item/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">method</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'DELETE'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">params</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">email</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429a7160872096-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429a7160872096-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0281 seconds] -->
<p>DO NOT forget to update the base variable to your local endpoint on <strong>line 3</strong>.</p>
<p>We are using localStorage to save the user&#8217;s email. This will be serving as a token when we interact with the REST API, as well as for the client to know if the user is logged in or not.</p>
<p>Next, we have the <em>controllers.js. </em>Here we define the functionality as what needs to be done when a particular view is triggered. We will leverage the methods from <em>services.js</em> to perform basic operation. You can read the file and understand what each controller does. The updated <em>controllers.js</em> would be</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119429c4803645212" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">controllers.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('bucketList.controllers', ['bucketList.services'])
.controller('SignInCtrl', function ($rootScope, $scope, API, $window) {
// if the user is already logged in, take him to his bucketlist
if ($rootScope.isSessionActive()) {
$window.location.href = ('#/bucket/list');
}
$scope.user = {
email: "",
password: ""
};
$scope.validateUser = function () {
var email = this.user.email;
var password = this.user.password;
if(!email || !password) {
$rootScope.notify("Please enter valid credentials");
return false;
}
$rootScope.show('Please wait.. Authenticating');
API.signin({
email: email,
password: password
}).success(function (data) {
$rootScope.setToken(email); // create a session kind of thing on the client side
$rootScope.hide();
$window.location.href = ('#/bucket/list');
}).error(function (error) {
$rootScope.hide();
$rootScope.notify("Invalid Username or password");
});
}
})
.controller('SignUpCtrl', function ($rootScope, $scope, API, $window) {
$scope.user = {
email: "",
password: "",
name: ""
};
$scope.createUser = function () {
var email = this.user.email;
var password = this.user.password;
var uName = this.user.name;
if(!email || !password || !uName) {
$rootScope.notify("Please enter valid data");
return false;
}
$rootScope.show('Please wait.. Registering');
API.signup({
email: email,
password: password,
name: uName
}).success(function (data) {
$rootScope.setToken(email); // create a session kind of thing on the client side
$rootScope.hide();
$window.location.href = ('#/bucket/list');
}).error(function (error) {
$rootScope.hide();
if(error.error &amp;&amp; error.error.code == 11000)
{
$rootScope.notify("A user with this email already exists");
}
else
{
$rootScope.notify("Oops something went wrong, Please try again!");
}
});
}
})
.controller('myListCtrl', function ($rootScope, $scope, API, $timeout, $ionicModal, $window) {
$rootScope.$on('fetchAll', function(){
API.getAll($rootScope.getToken()).success(function (data, status, headers, config) {
$rootScope.show("Please wait... Processing");
$scope.list = [];
for (var i = 0; i &lt; data.length; i++) {
if (data[i].isCompleted == false) {
$scope.list.push(data[i]);
}
};
if($scope.list.length == 0)
{
$scope.noData = true;
}
else
{
$scope.noData = false;
}
$ionicModal.fromTemplateUrl('templates/newItem.html', function (modal) {
$scope.newTemplate = modal;
});
$scope.newTask = function () {
$scope.newTemplate.show();
};
$rootScope.hide();
}).error(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.notify("Oops something went wrong!! Please try again later");
});
});
$rootScope.$broadcast('fetchAll');
$scope.markCompleted = function (id) {
$rootScope.show("Please wait... Updating List");
API.putItem(id, {
isCompleted: true
}, $rootScope.getToken())
.success(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.doRefresh(1);
}).error(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.notify("Oops something went wrong!! Please try again later");
});
};
$scope.deleteItem = function (id) {
$rootScope.show("Please wait... Deleting from List");
API.deleteItem(id, $rootScope.getToken())
.success(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.doRefresh(1);
}).error(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.notify("Oops something went wrong!! Please try again later");
});
};
})
.controller('completedCtrl', function ($rootScope,$scope, API, $window) {
$rootScope.$on('fetchCompleted', function () {
API.getAll($rootScope.getToken()).success(function (data, status, headers, config) {
$scope.list = [];
for (var i = 0; i &lt; data.length; i++) {
if (data[i].isCompleted == true) {
$scope.list.push(data[i]);
}
};
if(data.length &gt; 0 &amp; $scope.list.length == 0)
{
$scope.incomplete = true;
}
else
{
$scope.incomplete= false;
}
if(data.length == 0)
{
$scope.noData = true;
}
else
{
$scope.noData = false;
}
}).error(function (data, status, headers, config) {
$rootScope.notify("Oops something went wrong!! Please try again later");
});
});
$rootScope.$broadcast('fetchCompleted');
$scope.deleteItem = function (id) {
$rootScope.show("Please wait... Deleting from List");
API.deleteItem(id, $rootScope.getToken())
.success(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.doRefresh(2);
}).error(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.notify("Oops something went wrong!! Please try again later");
});
};
})
.controller('newCtrl', function ($rootScope, $scope, API, $window) {
$scope.data = {
item: ""
};
$scope.close = function () {
$scope.modal.hide();
};
$scope.createNew = function () {
var item = this.data.item;
if (!item) return;
$scope.modal.hide();
$rootScope.show();
$rootScope.show("Please wait... Creating new");
var form = {
item: item,
isCompleted: false,
user: $rootScope.getToken(),
created: Date.now(),
updated: Date.now()
}
API.saveItem(form, form.user)
.success(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.doRefresh(1);
})
.error(function (data, status, headers, config) {
$rootScope.hide();
$rootScope.notify("Oops something went wrong!! Please try again later");
});
};
})</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119429c4803645212-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-2">2</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-4">4</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-6">6</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-8">8</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-10">10</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-12">12</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-14">14</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-16">16</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-18">18</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-20">20</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-22">22</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-24">24</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-26">26</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-28">28</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-30">30</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-32">32</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-34">34</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-36">36</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-38">38</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-40">40</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-42">42</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-44">44</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-46">46</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-48">48</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-50">50</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-52">52</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-54">54</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-56">56</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-58">58</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-60">60</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-62">62</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-64">64</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-66">66</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-68">68</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-70">70</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-72">72</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-74">74</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-76">76</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-78">78</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-80">80</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-82">82</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-84">84</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-86">86</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-88">88</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-90">90</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-92">92</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-94">94</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-96">96</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-98">98</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-100">100</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-102">102</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-104">104</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-106">106</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-108">108</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-110">110</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-112">112</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-114">114</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-116">116</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-118">118</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-120">120</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-122">122</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-124">124</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-126">126</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-128">128</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-130">130</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-132">132</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-134">134</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-136">136</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-138">138</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-140">140</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-142">142</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-144">144</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-146">146</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-148">148</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-150">150</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-152">152</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-154">154</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-156">156</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-158">158</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-160">160</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-162">162</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-164">164</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-166">166</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-168">168</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-170">170</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-172">172</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-174">174</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-176">176</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-178">178</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-180">180</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-182">182</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-184">184</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-186">186</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-188">188</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-190">190</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-192">192</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-194">194</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-196">196</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-198">198</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-200">200</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-202">202</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-204">204</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-206">206</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-208">208</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-210">210</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-212">212</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-214">214</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-216">216</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-218">218</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-220">220</div><div class="crayon-num" data-line="crayon-5a104119429c4803645212-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119429c4803645212-222">222</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119429c4803645212-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'bucketList.controllers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'bucketList.services'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-2">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-3"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'SignInCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// if the user is already logged in, take him to his bucketlist</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">isSessionActive</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'#/bucket/list'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-8">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">validateUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">password</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Please enter valid credentials"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Please wait.. Authenticating'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">signin</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">password</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">setToken</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// create a session kind of thing on the client side</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'#/bucket/list'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Invalid Username or password"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-34">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-35"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-36">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-37"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'SignUpCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">createUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">uName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">uName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Please enter valid data"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Please wait.. Registering'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">signup</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">uName</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">setToken</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// create a session kind of thing on the client side</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'#/bucket/list'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">error</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">11000</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"A user with this email already exists"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong, Please try again!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-74"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-76"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'myListCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">timeout</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicModal</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchAll'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">getAll</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait... Processing"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">isCompleted</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">noData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">noData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-94">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicModal</span><span class="crayon-sy">.</span><span class="crayon-e">fromTemplateUrl</span><span class="crayon-sy">(</span><span class="crayon-s">'templates/newItem.html'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">modal</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">newTemplate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">modal</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-98">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">newTask</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">newTemplate</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-108">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchAll'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-110">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">markCompleted</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait... Updating List"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">putItem</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isCompleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">doRefresh</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-124">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-126">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">deleteItem</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait... Deleting from List"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">deleteItem</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">doRefresh</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-138">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-139"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-140">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-141"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'completedCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchCompleted'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">getAll</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">isCompleted</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">incomplete</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">incomplete</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">noData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-163"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">noData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-170">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-173"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'fetchCompleted'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-174"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">deleteItem</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait... Deleting from List"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">deleteItem</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-177"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-179"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">doRefresh</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-180"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-181"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-182"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-183"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-184"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-185"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-186">&nbsp;</div><div class="crayon-line" id="crayon-5a104119429c4803645212-187"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'newCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">API</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-188"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-189"><span class="crayon-h">	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-190"><span class="crayon-h">	&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-191">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-192"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">close</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-193"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">modal</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-194"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-195">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-196"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">createNew</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-197"><span class="crayon-h">			</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">item</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-198"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">item</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-199"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">modal</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-200"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-201"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-202"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">"Please wait... Creating new"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-203">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-204"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-205"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">item</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-206"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isCompleted</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-207"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">user</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getToken</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-208"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">created</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Date</span><span class="crayon-sy">.</span><span class="crayon-e">now</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-209"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">updated</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Date</span><span class="crayon-sy">.</span><span class="crayon-e">now</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-210"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-211">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-212"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">API</span><span class="crayon-sy">.</span><span class="crayon-e">saveItem</span><span class="crayon-sy">(</span><span class="crayon-v">form</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">form</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-213"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">success</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">doRefresh</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-217"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">status</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-218"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-219"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">"Oops something went wrong!! Please try again later"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-220"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119429c4803645212-221"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119429c4803645212-222"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0558 seconds] -->
<p>The 
<span id="crayon-5a104119429ea895849566" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> , 
<span id="crayon-5a104119429ff539522899" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>  and 
<span id="crayon-5a10411942a08263271806" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>  are declared in <em>services.js</em> and are used to show messages to the user.</p>
<p>Now, lets add all the required templates to complete our client. Create the below files and content inside the templates folder</p>
<p><strong>auth.html</strong> : The tab parent for the Sign In and Sign Up tabs</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a0f623087058" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">auth.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-tabs class="tabs-icon-top"&gt;
&lt;ion-tab title="Sign In" icon-on="ion-ios7-locked" 
icon-off="ion-ios7-locked-outline" href="#/auth/signin"&gt;
&lt;ion-nav-view name="auth-signin"&gt;&lt;/ion-nav-view&gt;
&lt;/ion-tab&gt;
&lt;ion-tab title="Sign Up" icon-on="ion-ios7-personadd" 
icon-off="ion-ios7-personadd-outline" href="#/auth/signup"&gt;
&lt;ion-nav-view name="auth-signup"&gt;&lt;/ion-nav-view&gt;
&lt;/ion-tab&gt;
&lt;/ion-tabs&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a0f623087058-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a0f623087058-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a0f623087058-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a0f623087058-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a0f623087058-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a0f623087058-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a0f623087058-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a0f623087058-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a0f623087058-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a0f623087058-10">10</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a0f623087058-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tabs </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"tabs-icon-top"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a0f623087058-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tab </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Sign In"</span><span class="crayon-h"> </span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">on</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-locked"</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a10411942a0f623087058-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">off</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-locked-outline"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/auth/signin"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a0f623087058-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"auth-signin"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a0f623087058-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tab</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a0f623087058-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tab </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Sign Up"</span><span class="crayon-h"> </span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">on</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-personadd"</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a10411942a0f623087058-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">off</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-personadd-outline"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/auth/signup"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a0f623087058-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"auth-signup"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a0f623087058-9"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tab</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a0f623087058-10"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tabs</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0034 seconds] -->
<p><strong>auth-signin.html</strong> : The tab contents of the Sign In tab</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a22572607286" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">auth-signin.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-header-bar class="bar-positive"&gt;
&lt;h1 class="title"&gt;Sign In&lt;/h1&gt;
&lt;/ion-header-bar&gt;
&lt;ion-content class="has-header padding"&gt;
&lt;div class="list"&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Email&lt;/span&gt;
&lt;input type="text" ng-model="user.email"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Password&lt;/span&gt;
&lt;input type="password" ng-model="user.password"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;button class="button button-block button-positive" ng-click="validateUser()"&gt;
Sign In
&lt;/button&gt;
&lt;/label&gt;
&lt;/div&gt;
&lt;/ion-content&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a22572607286-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-10">10</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-12">12</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-14">14</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-16">16</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-18">18</div><div class="crayon-num" data-line="crayon-5a10411942a22572607286-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a22572607286-20">20</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a22572607286-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-positive"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Sign </span><span class="crayon-st">In</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-3"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-4"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Email</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"user.email"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Password</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"password"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"user.password"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-block button-positive"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"validateUser()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Sign </span><span class="crayon-st">In</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a22572607286-19"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a22572607286-20"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0053 seconds] -->
<p><strong>auth-signup.html</strong> : The tab contents of the Sign Up tab</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a2b749559590" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">auth-signup.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-header-bar class="bar-positive"&gt;
&lt;h1 class="title"&gt;Sign Up&lt;/h1&gt;
&lt;/ion-header-bar&gt;
&lt;ion-content class="has-header padding"&gt;
&lt;div class="list"&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Name&lt;/span&gt;
&lt;input type="text" ng-model="user.name"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Email&lt;/span&gt;
&lt;input type="text" ng-model="user.email"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Password&lt;/span&gt;
&lt;input type="password" ng-model="user.password"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;button class="button button-block button-positive" ng-click="createUser()"&gt;
Sign Up
&lt;/button&gt;
&lt;/label&gt;
&lt;/div&gt;
&lt;/ion-content&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-10">10</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-12">12</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-14">14</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-16">16</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-18">18</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-20">20</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-22">22</div><div class="crayon-num" data-line="crayon-5a10411942a2b749559590-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a2b749559590-24">24</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a2b749559590-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-positive"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Sign </span><span class="crayon-v">Up</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-3"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-4"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Name</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"user.name"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Email</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"user.email"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Password</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"password"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"user.password"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-block button-positive"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"createUser()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Sign </span><span class="crayon-v">Up</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a2b749559590-23"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a2b749559590-24"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0057 seconds] -->
<p><strong> bucket.html</strong> : The parent tab container for Bucket list tabs</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a35259054351" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">bucket.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-tabs class="tabs-icon-top"&gt;
&lt;ion-tab title="My List" icon-on="ion-ios7-browsers" 
icon-off="ion-ios7-browsers-outline" href="#/bucket/list"&gt;
&lt;ion-nav-view name="bucket-list"&gt;&lt;/ion-nav-view&gt;
&lt;/ion-tab&gt;
&lt;ion-tab title="Completed" icon-on="ion-ios7-checkmark" 
icon-off="ion-ios7-checkmark-outline" href="#/bucket/completed"&gt;
&lt;ion-nav-view name="bucket-completed"&gt;&lt;/ion-nav-view&gt;
&lt;/ion-tab&gt;
&lt;/ion-tabs&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a35259054351-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a35259054351-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a35259054351-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a35259054351-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a35259054351-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a35259054351-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a35259054351-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a35259054351-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a35259054351-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a35259054351-10">10</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a35259054351-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tabs </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"tabs-icon-top"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a35259054351-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tab </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"My List"</span><span class="crayon-h"> </span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">on</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-browsers"</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a10411942a35259054351-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">off</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-browsers-outline"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/bucket/list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a35259054351-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"bucket-list"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a35259054351-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tab</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a35259054351-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">tab </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Completed"</span><span class="crayon-h"> </span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">on</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-checkmark"</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a10411942a35259054351-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">off</span><span class="crayon-o">=</span><span class="crayon-s">"ion-ios7-checkmark-outline"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/bucket/completed"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a35259054351-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"bucket-completed"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a35259054351-9"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tab</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a35259054351-10"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">tabs</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0034 seconds] -->
<p><strong>bucket-list.html</strong> : The tab contents to show all the bucket list items</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a3e147706019" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">bucket-list.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-header-bar class="bar-positive"&gt;
&lt;button class="button button-clear" ng-click="newTask()"&gt;New&lt;/button&gt;
&lt;h1 class="title"&gt;My Bucket List&lt;/h1&gt;
&lt;button class="button button-clear" ng-click="logout()"&gt;Logout&lt;/button&gt;
&lt;/ion-header-bar&gt;
&lt;ion-content class="has-header padding" has-tabs="true" on-refresh="onRefresh()"&gt;
&lt;ion-refresher ng-hide="noData" on-refresh="doRefresh('1')"&gt;&lt;/ion-refresher&gt;
&lt;div class="card" ng-repeat="item in list" &gt;
&lt;div class="item item-text-wrap"&gt;
&lt;span&gt;
{{ item.item }}
&lt;/span&gt;
&lt;br/&gt;  &lt;br/&gt;
&lt;p class="actions padding"&gt;
&lt;i class="ion-checkmark-circled icon-actions margin" ng-click="markCompleted('{{item._id}}')"&gt;&lt;/i&gt;
&lt;i class="ion-trash-b icon-actions margin" ng-click="deleteItem('{{item._id}}')"&gt;&lt;/i&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="card" &gt;
&lt;div class="item item-text-wrap" ng-show="noData"&gt;
&lt;span&gt;
No Items in your bucket List. Click  &lt;a href="javascript:" ng-click="newTask()"&gt;Here&lt;/a&gt; and create one
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/ion-content&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-10">10</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-12">12</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-14">14</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-16">16</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-18">18</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-20">20</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-22">22</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-24">24</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a3e147706019-26">26</div><div class="crayon-num" data-line="crayon-5a10411942a3e147706019-27">27</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a3e147706019-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-positive"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-clear"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"newTask()"</span><span class="crayon-o">&gt;</span><span class="crayon-r">New</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-3"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-e">My </span><span class="crayon-e">Bucket </span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-4"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-clear"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"logout()"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Logout</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-5"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-6"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header padding"</span><span class="crayon-h"> </span><span class="crayon-v">has</span><span class="crayon-o">-</span><span class="crayon-v">tabs</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">on</span><span class="crayon-o">-</span><span class="crayon-v">refresh</span><span class="crayon-o">=</span><span class="crayon-s">"onRefresh()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-7"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">refresher </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">hide</span><span class="crayon-o">=</span><span class="crayon-s">"noData"</span><span class="crayon-h"> </span><span class="crayon-v">on</span><span class="crayon-o">-</span><span class="crayon-v">refresh</span><span class="crayon-o">=</span><span class="crayon-s">"doRefresh('1')"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">refresher</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-8"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"card"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"item in list"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-text-wrap"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-i">item</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"actions padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ion-checkmark-circled icon-actions margin"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"markCompleted('{{item._id}}')"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ion-trash-b icon-actions margin"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"deleteItem('{{item._id}}')"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-19"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-20"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"card"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-text-wrap"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"noData"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">No </span><span class="crayon-e">Items </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-e">bucket </span><span class="crayon-v">List</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">Click</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"javascript:"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"newTask()"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Here</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-e">create </span><span class="crayon-v">one</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a3e147706019-26"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a3e147706019-27"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0172 seconds] -->
<p><strong> bucket-completed.html</strong> : The tab contents to show the completed bucket list items</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a49518532167" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">bucket-completed.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
bucket-completed.html&lt;ion-header-bar class="bar-positive"&gt;
&lt;h1 class="title"&gt;Completed Items&lt;/h1&gt;
&lt;button class="button button-clear" ng-click="logout()"&gt;Logout&lt;/button&gt;
&lt;/ion-header-bar&gt;
&lt;ion-content class="has-header padding" has-tabs="true" on-refresh="onRefresh()"&gt;
&lt;ion-refresher ng-hide="noData || incomplete" on-refresh="doRefresh('2')"&gt;&lt;/ion-refresher&gt;
&lt;div class="card" ng-repeat="item in list" &gt;
&lt;div class="item item-text-wrap"&gt;
&lt;span&gt;
{{ item.item }}
&lt;/span&gt;
&lt;br/&gt;  &lt;br/&gt;
&lt;p class="actions padding"&gt;
&lt;i class="ion-trash-b icon-actions margin" ng-click="deleteItem('{{item._id}}')"&gt;&lt;/i&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="card" &gt;
&lt;div class="item item-text-wrap" ng-show="noData || incomplete"&gt;
&lt;span ng-show="incomplete"&gt;
You can have not completed any of your Bucket List items yet. Try harder!!
&lt;/span&gt;
&lt;span ng-show="noData"&gt;
No Items in your bucket List.
&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/ion-content&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a49518532167-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-10">10</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-12">12</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-14">14</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-16">16</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-18">18</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-20">20</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-22">22</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-24">24</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-26">26</div><div class="crayon-num" data-line="crayon-5a10411942a49518532167-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a49518532167-28">28</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a49518532167-1"><span class="crayon-v">bucket</span><span class="crayon-o">-</span><span class="crayon-v">completed</span><span class="crayon-sy">.</span><span class="crayon-v">html</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-positive"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Completed </span><span class="crayon-v">Items</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-3"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-clear"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"logout()"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Logout</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-4"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">header</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-5"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header padding"</span><span class="crayon-h"> </span><span class="crayon-v">has</span><span class="crayon-o">-</span><span class="crayon-v">tabs</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">on</span><span class="crayon-o">-</span><span class="crayon-v">refresh</span><span class="crayon-o">=</span><span class="crayon-s">"onRefresh()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">refresher </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">hide</span><span class="crayon-o">=</span><span class="crayon-s">"noData || incomplete"</span><span class="crayon-h"> </span><span class="crayon-v">on</span><span class="crayon-o">-</span><span class="crayon-v">refresh</span><span class="crayon-o">=</span><span class="crayon-s">"doRefresh('2')"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">refresher</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-7"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"card"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"item in list"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-text-wrap"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">.</span><span class="crayon-i">item</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"actions padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ion-trash-b icon-actions margin"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"deleteItem('{{item._id}}')"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-17"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-18"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"card"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-text-wrap"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"noData || incomplete"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"incomplete"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">You </span><span class="crayon-e">can </span><span class="crayon-e">have </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-e">completed </span><span class="crayon-e">any </span><span class="crayon-e">of </span><span class="crayon-e">your </span><span class="crayon-e">Bucket </span><span class="crayon-e">List </span><span class="crayon-e">items </span><span class="crayon-v">yet</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-st">Try</span><span class="crayon-h"> </span><span class="crayon-v">harder</span><span class="crayon-o">!</span><span class="crayon-o">!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"noData"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">No </span><span class="crayon-e">Items </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-e">bucket </span><span class="crayon-v">List</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a49518532167-27"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a49518532167-28"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0079 seconds] -->
<p>And finally <strong>newItem.html</strong> : The template for creating a new Bucket List item.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a65853594603" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">newItem.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;div class="modal slide-in-up" ng-controller="newCtrl"&gt;
&lt;header class="bar bar-header bar-secondary"&gt;
&lt;button class="button button-clear button-primary" ng-click="close()"&gt;Cancel&lt;/button&gt;
&lt;h1 class="title"&gt;New Item&lt;/h1&gt;
&lt;button class="button button-positive" ng-click="createNew()"&gt;Done&lt;/button&gt;
&lt;/header&gt;
&lt;ion-content class="padding has-header"&gt;
&lt;input type="text" placeholder="I need to do..." ng-model="data.item"&gt;
&lt;/ion-content&gt;
&lt;/div&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a65853594603-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a65853594603-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a65853594603-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a65853594603-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a65853594603-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a65853594603-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a65853594603-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a65853594603-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a65853594603-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a65853594603-10">10</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a65853594603-1"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"modal slide-in-up"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"newCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a65853594603-2"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-e">header </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar bar-header bar-secondary"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a65853594603-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-clear button-primary"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"close()"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Cancel</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a65853594603-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-r">New</span><span class="crayon-h"> </span><span class="crayon-v">Item</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a65853594603-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-positive"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"createNew()"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Done</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a65853594603-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">header</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a65853594603-7"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"padding has-header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a65853594603-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"I need to do..."</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"data.item"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10411942a65853594603-9"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a65853594603-10"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0032 seconds] -->
<p>I have also added a few styles inside the <em>css/style.css</em>, padding margin stuff.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a6e602025228" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">style.css</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
.margin {
margin - left: 9px;
margin - right: 9px;
}
.icon-actions {
font-size: 23px;
}
.checkbox {
vertical-align: middle;
}
.actions {
float: right;
}
.item-text-wrap {
overflow: auto;
}
.ion-checkmark-circled.icon-actions.margin
{
margin-right: 35px;
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-2">2</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-4">4</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-6">6</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-8">8</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-10">10</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-12">12</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-14">14</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-16">16</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-18">18</div><div class="crayon-num" data-line="crayon-5a10411942a6e602025228-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411942a6e602025228-20">20</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a6e602025228-1"><span class="crayon-sy">.</span><span class="crayon-i">margin</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">margin</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">left</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">margin</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">right</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">9px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-4"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-5"><span class="crayon-sy">.</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-e">actions</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">font</span><span class="crayon-o">-</span><span class="crayon-v">size</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">23px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-7"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-8"><span class="crayon-sy">.</span><span class="crayon-i">checkbox</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vertical</span><span class="crayon-o">-</span><span class="crayon-v">align</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">middle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-10"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-11"><span class="crayon-sy">.</span><span class="crayon-i">actions</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">float</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">right</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-14"><span class="crayon-sy">.</span><span class="crayon-v">item</span><span class="crayon-o">-</span><span class="crayon-e">text</span><span class="crayon-o">-</span><span class="crayon-e">wrap</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">overflow</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-16"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-17"><span class="crayon-sy">.</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">checkmark</span><span class="crayon-o">-</span><span class="crayon-v">circled</span><span class="crayon-sy">.</span><span class="crayon-v">icon</span><span class="crayon-o">-</span><span class="crayon-v">actions</span><span class="crayon-sy">.</span><span class="crayon-i">margin</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-18"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411942a6e602025228-19"><span class="crayon-h">	</span><span class="crayon-v">margin</span><span class="crayon-o">-</span><span class="crayon-v">right</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">35px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411942a6e602025228-20"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0031 seconds] -->
<p>Thats it!! we are done with the development.</p>
<h2 id="deploy">Deploying the App</h2>
<p>Its time to deploy the app, so that others can see and use it. First we are going to deploy our DB. I picked MongoLab as my hosting service. I have created a new database and updated the connection string on <strong>Line 4</strong> in <em>server.js.</em></p>
<p>Next, I have used Heroku to host my REST API. Before we do that, we need to make sure our code is ready to be deployed to Heroku.</p>
<p>Create two new folders named <em>server</em> and <em>client</em> inside the prod folder. Copy all the contents of <em>dev/server</em> folder except <em>node_modules</em> into the <em>prod/server</em> folder.</p>
<p>Then create a new file here named Procfile at the root of the prod/server folder and fill it with</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411942a78814980798" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Procfile</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
web: node server.js</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411942a78814980798-1">1</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411942a78814980798-1"><span class="crayon-v">web</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">node </span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>This is all you need to get your project ready to push to Heroku. You can follow the remaining steps from <a title="Deploying Node Applications to Heroku" href="./deploying-node-application/" target="_blank">here</a> to continue.</p>
<p>Finally our client. Navigate to dev/client/bucketListApp/<em>www/js/services.js </em>and update the base URL on <strong>line 3</strong>, to the above Heroku server URL. Next, copy the contents of <em>dev/client/bucketListApp/www</em> folder to <em>prod/client. </em>Head to GitHub, create a new repo. Then run the following commands inside the <em>prod/client</em> folder</p>
<p style="text-align: center;">
<span id="crayon-5a10411942a8d401031599" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">git </span><span class="crayon-v">init</span></span></span></p>
<p style="text-align: center;">
<span id="crayon-5a10411942a95844916809" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">git </span><span class="crayon-v">add</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">A</span></span></span></p>
<p style="text-align: center;">
<span id="crayon-5a10411942a9d255775609" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">git </span><span class="crayon-v">commit</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">am</span><span class="crayon-h"> </span><span class="crayon-s">"Initial Commit"</span></span></span></p>
<p style="text-align: center;">
<span id="crayon-5a10411942aa6550130452" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">git </span><span class="crayon-e">remote </span><span class="crayon-e">add </span><span class="crayon-v">origin</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-e">newly </span><span class="crayon-e">created </span><span class="crayon-e">repo </span><span class="crayon-e">url </span><span class="crayon-v">here</span><span class="crayon-o">&gt;&gt;</span></span></span></p>
<p style="text-align: center;">
<span id="crayon-5a10411942aae171698218" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">git </span><span class="crayon-e">push </span><span class="crayon-e">origin </span><span class="crayon-v">master</span></span></span></p>
<p>Once the code is pushed to the remote repo, you can submit the repo URL to PhoneGap Build <a href="https://build.phonegap.com/apps" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://build.phonegap.com/apps', 'here');" title="PhoneGap Build"  target="_blank">here</a>.</p>
<p>You can find the complete code we have developed so far <a href="https://github.com/arvindr21/BucketListApp" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/BucketListApp', 'here');" title="GitHub"  target="_blank">here</a> .</p>
<p>Thats it!! You are all done to show off your new Hybrid app.</p>
<p>Hope this post has given you an understanding of how to go about building a Hybrid App with your own service.</p>
<hr style="color: #333333;" />
<p style="color: #333333;">Thanks for reading! Do comment.<br />
@arvindr21</p>
<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./an-end-to-end-hybrid-app/&amp;text=Ionic+Restify+MongoDB+%E2%80%93+An+End+to+End+Hybrid+App+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./an-end-to-end-hybrid-app/&amp;text=Ionic+Restify+MongoDB+%E2%80%93+An+End+to+End+Hybrid+App+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./an-end-to-end-hybrid-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./an-end-to-end-hybrid-app/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">8</span><a href="https://plus.google.com/share?url=./an-end-to-end-hybrid-app/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./an-end-to-end-hybrid-app/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./an-end-to-end-hybrid-app/&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./an-end-to-end-hybrid-app/&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./an-end-to-end-hybrid-app/&amp;text=From The Jackal of Javascript Ionic Restify MongoDB &#8211; An End to End Hybrid App" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./an-end-to-end-hybrid-app/&amp;text=From The Jackal of Javascript Ionic Restify MongoDB &#8211; An End to End Hybrid App', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Ionic Restify MongoDB &#8211; An End to End Hybrid App&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#caf5b9bfa8a0afa9bef783a5a4a3a9ea98afb9bea3acb3ea87a5a4ada58e88eaeff8fce9f2f8fbfbf1ea8ba4ea8fa4aeeabea5ea8fa4aeea82b3a8b8a3aeea8bbabaecaba7baf1a8a5aeb3f78cb8a5a7ea9ea2afea80aba9a1aba6eaa5acea80abbcabb9a9b8a3babeeff8faa2bebebaf0e5e5bea2afa0aba9a1aba6a5aca0abbcabb9a9b8a3babee4a9a5a7e5aba4e7afa4aee7bea5e7afa4aee7a2b3a8b8a3aee7abbabae5"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-1241-5a10411a44f8c' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=1241&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-1241-5a10411a44f8c' data-name='like-post-frame-70838519-1241-5a10411a44f8c'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
<div class="entry-content">
</div><!-- .entry-content -->
<footer class="entry-meta">
<span class="post-date"><a href="./an-end-to-end-hybrid-app/" title="11:25 pm" rel="bookmark"><time class="entry-date" datetime="2014-04-27T23:25:14+00:00">April 27, 2014</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="./author/arvind-ravulavaru/" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
<nav class="navigation post-navigation" role="navigation">
<h1 class="screen-reader-text">Post navigation</h1>
<div class="nav-links">
<div class="nav-previous"><a href="./journey-of-a-firefox-os-app/" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="./uploading-files-made-fun/" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
</nav><!-- .navigation -->
<div id="disqus_thread">
<div id="dsq-content">
<ul id="dsq-comments">
<li class="comment even thread-even depth-1" id="dsq-comment-3355">
<div id="dsq-comment-header-3355" class="dsq-comment-header">
<cite id="dsq-cite-3355">
<span id="dsq-author-user-3355">ironside</span>
</cite>
</div>
<div id="dsq-comment-body-3355" class="dsq-comment-body">
<div id="dsq-comment-message-3355" class="dsq-comment-message"><p>Where I find the Heroku server URL ? I&#8217;ve creste the heroku count. </p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3319">
<div id="dsq-comment-header-3319" class="dsq-comment-header">
<cite id="dsq-cite-3319">
<span id="dsq-author-user-3319">ravi</span>
</cite>
</div>
<div id="dsq-comment-body-3319" class="dsq-comment-body">
<div id="dsq-comment-message-3319" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Not able to get the api&#8217;s working after deploying on heroku and mongolab.<br />
Getting status code 500 when hitting login api, and 503 when registering. </p>
<p>Went through all the comments and went through all the instructions in the blog. Please request to take a look and correct me. Will post the client and server code on github and share.</p>
<p>Regards,<br />
Ravi</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3272">
<div id="dsq-comment-header-3272" class="dsq-comment-header">
<cite id="dsq-cite-3272">
<span id="dsq-author-user-3272">Sabari Sri</span>
</cite>
</div>
<div id="dsq-comment-body-3272" class="dsq-comment-body">
<div id="dsq-comment-message-3272" class="dsq-comment-message"><p>Hi Arvind, I tried out this example. I am clear upto server side and client side development. But while deploying the app to heroku I am bit confused. (Thanks a lot I got clear about what heroku is all about!) My confusion is, at what folder level should I start deploying to the heroku. Because if I take from the &#8216;BucketListApp&#8217; folder level, then it contains two folders dev and prod. If i take from &#8216;dev&#8217; level, then again it doesnt contain package.json or procfile , for deployment. So finally, if I take from /dev/server level as folder for deployment to heroku, then how can I get access to my client webpages? I am totally confused here. Please add detail to your script. Thanks again!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3267">
<div id="dsq-comment-header-3267" class="dsq-comment-header">
<cite id="dsq-cite-3267">
<span id="dsq-author-user-3267">anonymous</span>
</cite>
</div>
<div id="dsq-comment-body-3267" class="dsq-comment-body">
<div id="dsq-comment-message-3267" class="dsq-comment-message"><p>Somehow I am getting erros doing the &#8220;nmp install mongojs restify bcrypt&#8221;. Also MongoDB is a bit of a bitch to install&#8230; I dont know if it working well or not Iv tried a bunch of tutorials. I made a config file, also added the shortcut to the advanced system settings. It seems I can launch it only via &#8220;mongod &#8211;dbpath [path/data/db]&#8221;. I can then connect to it with mongo from a different console. Any way of avoiding to have to specify it every time? I did the &#8211;config install thingy on smp as well.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3248">
<div id="dsq-comment-header-3248" class="dsq-comment-header">
<cite id="dsq-cite-3248">
<span id="dsq-author-user-3248">Rajkumar</span>
</cite>
</div>
<div id="dsq-comment-body-3248" class="dsq-comment-body">
<div id="dsq-comment-message-3248" class="dsq-comment-message"><p>Hi,<br />
I am getting below error, could you pelase help.</p>
<p>js-bson: Failed to load c++ bson extension, using pure JS version<br />
J:UsersKannuDownloadsBucketListApp-masterBucketListApp-masterprodservern<br />
ode_modulesmongojsindex.js:494<br />
var p = Proxy.create({<br />
^</p>
<p>TypeError: Proxy.create is not a function<br />
at connect (J:UsersKannuDownloadsBucketListApp-masterBucketListApp-mast<br />
erprodservernode_modulesmongojsindex.js:494:17)</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-3371">
<div id="dsq-comment-header-3371" class="dsq-comment-header">
<cite id="dsq-cite-3371">
<span id="dsq-author-user-3371">Elvis Vilasbôas Rosa</span>
</cite>
</div>
<div id="dsq-comment-body-3371" class="dsq-comment-body">
<div id="dsq-comment-message-3371" class="dsq-comment-message"><p>Having the same error here =/ I initially thought it wasn&#8217;t connecting to the database&#8230; so I created the db and collections&#8230; but nothing yet =(</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3232">
<div id="dsq-comment-header-3232" class="dsq-comment-header">
<cite id="dsq-cite-3232">
<span id="dsq-author-user-3232">Apurva</span>
</cite>
</div>
<div id="dsq-comment-body-3232" class="dsq-comment-body">
<div id="dsq-comment-message-3232" class="dsq-comment-message"><p>Hi<br />
Are you still there to reply ?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-3056">
<div id="dsq-comment-header-3056" class="dsq-comment-header">
<cite id="dsq-cite-3056">
<span id="dsq-author-user-3056">Raviteja Gunda</span>
</cite>
</div>
<div id="dsq-comment-body-3056" class="dsq-comment-body">
<div id="dsq-comment-message-3056" class="dsq-comment-message"><p>Hi Arvind. I tried deploying the app to heroku (referring this <a href="./deploying-node-application/" rel="nofollow">./deploying-node-application/</a> ) and when I access the <a href="https://dry-beach-6937.herokuapp.com" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://dry-beach-6937.herokuapp.com', 'https://dry-beach-6937.herokuapp.com');" rel="nofollow">https://dry-beach-6937.herokuapp.com</a> in the browser i see this error. </p>
<p>{&#8220;code&#8221;:&#8221;ResourceNotFound&#8221;,&#8221;message&#8221;:&#8221;/ does not exist&#8221;}</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-3057">
<div id="dsq-comment-header-3057" class="dsq-comment-header">
<cite id="dsq-cite-3057">
./                <span id="dsq-author-user-3057">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-3057" class="dsq-comment-body">
<div id="dsq-comment-message-3057" class="dsq-comment-message"><p>Hey Raviteja, </p>
<p>You must have deployed the API server on to Heroku. There is no UI in that, hence the error when you fire that request. You can try accessing the REST endpoints. </p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-3058">
<div id="dsq-comment-header-3058" class="dsq-comment-header">
<cite id="dsq-cite-3058">
<span id="dsq-author-user-3058">Raviteja Gunda</span>
</cite>
</div>
<div id="dsq-comment-body-3058" class="dsq-comment-body">
<div id="dsq-comment-message-3058" class="dsq-comment-message"><p>I tried in another app that has UI also but still the same response. No response accessing the REST points . I will try doing it again. Thanks for the response</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3011">
<div id="dsq-comment-header-3011" class="dsq-comment-header">
<cite id="dsq-cite-3011">
<span id="dsq-author-user-3011">Emil Eubboline</span>
</cite>
</div>
<div id="dsq-comment-body-3011" class="dsq-comment-body">
<div id="dsq-comment-message-3011" class="dsq-comment-message"><p>I get almost for everything not compatible version error while trying to install these npm packages&#8230; any ideas?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-3010">
<div id="dsq-comment-header-3010" class="dsq-comment-header">
<cite id="dsq-cite-3010">
<span id="dsq-author-user-3010">Nitin Singh Solanky</span>
</cite>
</div>
<div id="dsq-comment-body-3010" class="dsq-comment-body">
<div id="dsq-comment-message-3010" class="dsq-comment-message"><p>Thanks @arvindravulavaru:disqus. Nice tutorial.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-3009">
<div id="dsq-comment-header-3009" class="dsq-comment-header">
<cite id="dsq-cite-3009">
<span id="dsq-author-user-3009">Nitin Singh Solanky</span>
</cite>
</div>
<div id="dsq-comment-body-3009" class="dsq-comment-body">
<div id="dsq-comment-message-3009" class="dsq-comment-message"><p>Hi Arvind, I have done all the steps safely. But, i want to run it on local server. How can i do that ?<br />
Please reply asap.</p>
<p>Thanks</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2851">
<div id="dsq-comment-header-2851" class="dsq-comment-header">
<cite id="dsq-cite-2851">
<span id="dsq-author-user-2851">Artem Pasichnyk</span>
</cite>
</div>
<div id="dsq-comment-body-2851" class="dsq-comment-body">
<div id="dsq-comment-message-2851" class="dsq-comment-message"><p>Hi Arvind, thanks for a great tutorial. I&#8217;m already debugging my app on the real device, on my iPhone 5. I have stated my dev/server/server.js with nodemon and compiled the app with Xcode and ran it on my device. Now on signing in I&#8217;m having some problems: with console.log in success and error functions in my SignInCtrl it seems to log out an error, but it logs null. Waiting for your reply, thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2852">
<div id="dsq-comment-header-2852" class="dsq-comment-header">
<cite id="dsq-cite-2852">
./                <span id="dsq-author-user-2852">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2852" class="dsq-comment-body">
<div id="dsq-comment-message-2852" class="dsq-comment-message"><p>Hello Artem, Can you tell me what exactly is printed in the console?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2878">
<div id="dsq-comment-header-2878" class="dsq-comment-header">
<cite id="dsq-cite-2878">
<span id="dsq-author-user-2878">Artem Pasichnyk</span>
</cite>
</div>
<div id="dsq-comment-body-2878" class="dsq-comment-body">
<div id="dsq-comment-message-2878" class="dsq-comment-message"><p>I&#8217;ve placed various console.log in validateUser function. When it cheks that email and password are not empty im logging in a user and it jumps directly to the error and logs out Error: null</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2882">
<div id="dsq-comment-header-2882" class="dsq-comment-header">
<cite id="dsq-cite-2882">
./                <span id="dsq-author-user-2882">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2882" class="dsq-comment-body">
<div id="dsq-comment-message-2882" class="dsq-comment-message"><p>Can you paste the function and the console logs here? </p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-5" id="dsq-comment-2884">
<div id="dsq-comment-header-2884" class="dsq-comment-header">
<cite id="dsq-cite-2884">
<span id="dsq-author-user-2884">Artem Pasichnyk</span>
</cite>
</div>
<div id="dsq-comment-body-2884" class="dsq-comment-body">
<div id="dsq-comment-message-2884" class="dsq-comment-message"><p>Sign in function:</p>
<p>$scope.validateUser = function () {<br />
var email    = this.user.email;<br />
var password = this.user.password;<br />
if(!email || !password) {<br />
$rootScope.notify(&#8216;Please enter valid credentials&#8217;);<br />
return false;<br />
} else {<br />
console.log(&#8216;Signing In&#8217;);<br />
console.log(&#8216;Email: &#8216; + email);<br />
console.log(&#8216;Password: &#8216; + password);<br />
$rootScope.show(&#8216;Please wait&#8230; Authenticating&#8217;);<br />
$barsApi.signin({<br />
email    : email,<br />
password : password<br />
}).success(function (data) {<br />
console.log(&#8216;Data: &#8216; + data);<br />
$rootScope.setToken(email); // create a session kind of thing on the client side<br />
$rootScope.hide();<br />
$window.location.href = (&#8216;#/bars/list&#8217;);<br />
}).error(function (error) {<br />
console.log(&#8216;Error: &#8216; + error);<br />
$rootScope.hide();<br />
$rootScope.notify(&#8216;Invalid Username or Password&#8217;);<br />
});<br />
}<br />
}</p>
<p>And the console logs:</p>
<p>2015-08-10 11:20:26.886 Bars App[4343:1837665] Signing In<br />
2015-08-10 11:20:26.886 Bars App[4343:1837665] Email: <a href="/cdn-cgi/l/email-protection#3455464051597459511a575b59"><span class="__cf_email__" data-cfemail="d2b3a0a6b7bf92bfb7fcb1bdbf">[email&#160;protected]</span></a><br />
2015-08-10 11:20:26.887 Bars App[4343:1837665] Password: qwe123<br />
2015-08-10 11:20:26.923 Bars App[4343:1837665] Error: null</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-2902">
<div id="dsq-comment-header-2902" class="dsq-comment-header">
<cite id="dsq-cite-2902">
<span id="dsq-author-user-2902">Artem Pasichnyk</span>
</cite>
</div>
<div id="dsq-comment-body-2902" class="dsq-comment-body">
<div id="dsq-comment-message-2902" class="dsq-comment-message"><p>I solved this issue right now! </p>
<p>The trick is to put en IP direction of your PC as base variable in services.js file, so this way when you are running a server on your local machine, an app on the iPhone or Android makes a request on your PC and they can talk to each other.</p>
<p>In the actual code an Ionic app talks to it self and can&#8217;t make requests to the REST service.</p>
<p>I hope this will help you, friends!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2843">
<div id="dsq-comment-header-2843" class="dsq-comment-header">
<cite id="dsq-cite-2843">
<span id="dsq-author-user-2843">designscripting</span>
</cite>
</div>
<div id="dsq-comment-body-2843" class="dsq-comment-body">
<div id="dsq-comment-message-2843" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Thanks for the incredible tutorial and time you spent in creating this.</p>
<p>I could be able to replicate the same. </p>
<p>But when I try to run the client on device or emulator. The login or registration is not firing a service call. But works well in web</p>
<p>Could you look in to detail: &#8220;https://github.com/designscripting/deals/&#8221; where I am missing?</p>
<p>Thanks for the help.<br />
Saravanan B</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2844">
<div id="dsq-comment-header-2844" class="dsq-comment-header">
<cite id="dsq-cite-2844">
./                <span id="dsq-author-user-2844">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2844" class="dsq-comment-body">
<div id="dsq-comment-message-2844" class="dsq-comment-message"><p>Thanks Saravanan. You need to add the white list plugin for this to work. This is new in Cordova. Refer : <a href="https://github.com/apache/cordova-plugin-whitelist" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/apache/cordova-plugin-whitelist', 'https://github.com/apache/cordova-plugin-whitelist');" rel="nofollow">https://github.com/apache/cordova-plugin-whitelist</a> </p>
<p>Let me know if this works.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2886">
<div id="dsq-comment-header-2886" class="dsq-comment-header">
<cite id="dsq-cite-2886">
<span id="dsq-author-user-2886">designscripting</span>
</cite>
</div>
<div id="dsq-comment-body-2886" class="dsq-comment-body">
<div id="dsq-comment-message-2886" class="dsq-comment-message"><p>Thanks Arvind, Worked like charm <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2801">
<div id="dsq-comment-header-2801" class="dsq-comment-header">
<cite id="dsq-cite-2801">
<span id="dsq-author-user-2801">Wilson Novido</span>
</cite>
</div>
<div id="dsq-comment-body-2801" class="dsq-comment-body">
<div id="dsq-comment-message-2801" class="dsq-comment-message"><p>Hi,</p>
<p>Did this:<br />
npm install &#8211;save mongojs restify bcrypt morgan</p>
<p>But I got this error:</p>
<p>c:IonicbucketListdevservernode_modulesbcrypt {git}<br />
{lamb} if not defined npm_config_node_gyp (node &#8220;C:Userswilso_000AppDataRoamingnpmnode_modulesnpmbinnode-gyp-bin\&#8230;.node_modulesnode-gypbinnode-gyp.js&#8221; rebuild )  else (rebuild)                                             </p>
<p>Building the projects in this solution one at a time. To enable parallel build, please add the &#8220;/m&#8221; switch.                                                                                                                                   </p>
<p>C:Program Files (x86)MSBuildMicrosoft.Cppv4.0V120Microsoft.Cpp.Platform.targets(64,5): error MSB8020: The build tools for Visual Studio 2010 (Platform Toolset = &#8216;v100&#8242;) cannot be found. To build using the v100 build tools, please install Visual Studio 2010 build tools.  Alternatively, you may upgrade to the current Visual Studio tools by selecting the Project menu or right-click the solution, and then selecting &#8220;Upgrade Solution&#8230;&#8221;. [c:IonicbucketListdevservernode_modulesbcryptbuildbcrypt_lib.vcxproj]                                                                                                                                                                                               </p>
<p>gyp ERR! build error<br />
gyp ERR! stack Error: <code>C:Program Files (x86)MSBuild12.0binmsbuild.exe</code> failed with exit code: 1</p>
<p>Not sure how to proceed.</p>
<p>Thanks,<br />
Wilson</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-3050">
<div id="dsq-comment-header-3050" class="dsq-comment-header">
<cite id="dsq-cite-3050">
<span id="dsq-author-user-3050">Sabari Sri</span>
</cite>
</div>
<div id="dsq-comment-body-3050" class="dsq-comment-body">
<div id="dsq-comment-message-3050" class="dsq-comment-message"><p>Hi you got any solution for this? I see same error.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-3051">
<div id="dsq-comment-header-3051" class="dsq-comment-header">
<cite id="dsq-cite-3051">
<span id="dsq-author-user-3051">Sabari Sri</span>
</cite>
</div>
<div id="dsq-comment-body-3051" class="dsq-comment-body">
<div id="dsq-comment-message-3051" class="dsq-comment-message"><p>I also referred to the below link.. to the solution given by &#8216;diproart&#8217;</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-3052">
<div id="dsq-comment-header-3052" class="dsq-comment-header">
<cite id="dsq-cite-3052">
./                <span id="dsq-author-user-3052">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-3052" class="dsq-comment-body">
<div id="dsq-comment-message-3052" class="dsq-comment-message"><p>Take a look at : <a href="https://www.robertkehoe.com/2015/03/fix-node-gyp-rebuild-error-on-windows/" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://www.robertkehoe.com/2015/03/fix-node-gyp-rebuild-error-on-windows/', 'https://www.robertkehoe.com/2015/03/fix-node-gyp-rebuild-error-on-windows/');" rel="nofollow">https://www.robertkehoe.com/2015/03/fix-node-gyp-rebuild-error-on-windows/</a></p>
</div>
</div>
<ul class="children">
<li class="comment even depth-5" id="dsq-comment-3055">
<div id="dsq-comment-header-3055" class="dsq-comment-header">
<cite id="dsq-cite-3055">
<span id="dsq-author-user-3055">Sabari Sri</span>
</cite>
</div>
<div id="dsq-comment-body-3055" class="dsq-comment-body">
<div id="dsq-comment-message-3055" class="dsq-comment-message"><p>Thank you Arvind</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2760">
<div id="dsq-comment-header-2760" class="dsq-comment-header">
<cite id="dsq-cite-2760">
<span id="dsq-author-user-2760">Chitrank Dixit</span>
</cite>
</div>
<div id="dsq-comment-body-2760" class="dsq-comment-body">
<div id="dsq-comment-message-2760" class="dsq-comment-message"><p>Hello Arvind very nice tutorial you have made I also read your other tutorials on phonegap, awesome work you are doing. I just want to ask you where should I host my ionic client so that I may showcase my work to employers</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2761">
<div id="dsq-comment-header-2761" class="dsq-comment-header">
<cite id="dsq-cite-2761">
./                <span id="dsq-author-user-2761">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2761" class="dsq-comment-body">
<div id="dsq-comment-message-2761" class="dsq-comment-message"><p>Hello Chitrank, Thanks! </p>
<p>The client is your mobile app. You need to generate Android/iOS installers and distribute it. This project is not for web hosting!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2762">
<div id="dsq-comment-header-2762" class="dsq-comment-header">
<cite id="dsq-cite-2762">
<span id="dsq-author-user-2762">Chitrank Dixit</span>
</cite>
</div>
<div id="dsq-comment-body-2762" class="dsq-comment-body">
<div id="dsq-comment-message-2762" class="dsq-comment-message"><p>Thanks Arvind for reply, But Just like you hosted the API on heroku. You also shared the client at this link: <a href="http://arvindr21.github.io/BucketListApp/" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://arvindr21.github.io/BucketListApp/', 'http://arvindr21.github.io/BucketListApp/');" rel="nofollow">http://arvindr21.github.io/BucketListApp/</a>.</p>
<p>I also want to showcase my work the same way, If possible please let me know the best way to do it. Cause I have api and db server up and running at heroku and mongolab , just I need to host the client.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2779">
<div id="dsq-comment-header-2779" class="dsq-comment-header">
<cite id="dsq-cite-2779">
./                <span id="dsq-author-user-2779">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2779" class="dsq-comment-body">
<div id="dsq-comment-message-2779" class="dsq-comment-message"><p>You can use GitHub pages for that. Checkout: <a href="./your-portfolio-website-with-github-pages/" rel="nofollow">./your-portfolio-website-with-github-pages/</a> You can also checkout the above repo itself on how to host it.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2735">
<div id="dsq-comment-header-2735" class="dsq-comment-header">
<cite id="dsq-cite-2735">
<span id="dsq-author-user-2735">Ignacio Talavera</span>
</cite>
</div>
<div id="dsq-comment-body-2735" class="dsq-comment-body">
<div id="dsq-comment-message-2735" class="dsq-comment-message"><p>Hi Arvind,first of all congratulations! 😀 very helpful and complete tutorial. I  built it from the scracth following the steps, but when I run it with the latest version of the framework (1.0.0 uranum) the headers of bucket-list.html are missing. Any idea?<br />
Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2732">
<div id="dsq-comment-header-2732" class="dsq-comment-header">
<cite id="dsq-cite-2732">
<span id="dsq-author-user-2732">Ignacio Talavera</span>
</cite>
</div>
<div id="dsq-comment-body-2732" class="dsq-comment-body">
<div id="dsq-comment-message-2732" class="dsq-comment-message"><p>Very helpful tutorial, but I tried it with the latest  version of ionic (uranium-unicorn1.0.0) and the header of pages like bucket-list.html are missing. Any idea? Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2750">
<div id="dsq-comment-header-2750" class="dsq-comment-header">
<cite id="dsq-cite-2750">
./                <span id="dsq-author-user-2750">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2750" class="dsq-comment-body">
<div id="dsq-comment-message-2750" class="dsq-comment-message"><p>Thanks Ignacio. I will look into that. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2717">
<div id="dsq-comment-header-2717" class="dsq-comment-header">
<cite id="dsq-cite-2717">
<span id="dsq-author-user-2717">mcl</span>
</cite>
</div>
<div id="dsq-comment-body-2717" class="dsq-comment-body">
<div id="dsq-comment-message-2717" class="dsq-comment-message"><p>Great! It helps me a lot,thank you .</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2554">
<div id="dsq-comment-header-2554" class="dsq-comment-header">
<cite id="dsq-cite-2554">
<span id="dsq-author-user-2554">Chitrank Dixit</span>
</cite>
</div>
<div id="dsq-comment-body-2554" class="dsq-comment-body">
<div id="dsq-comment-message-2554" class="dsq-comment-message"><p>Hello Arvind , I have followed the step by step tutorial but When I use to register or signup the loading feature of ionic hangs up  saying &#8220;please wait registering&#8221;, and it hangs forever.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2555">
<div id="dsq-comment-header-2555" class="dsq-comment-header">
<cite id="dsq-cite-2555">
./                <span id="dsq-author-user-2555">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2555" class="dsq-comment-body">
<div id="dsq-comment-message-2555" class="dsq-comment-message"><p>Do you see any script errors on the page?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2556">
<div id="dsq-comment-header-2556" class="dsq-comment-header">
<cite id="dsq-cite-2556">
<span id="dsq-author-user-2556">Chitrank Dixit</span>
</cite>
</div>
<div id="dsq-comment-body-2556" class="dsq-comment-body">
<div id="dsq-comment-message-2556" class="dsq-comment-message"><p>thanks for Quick reply Arvind </p>
<p>I get the following error in my developer console on chrome</p>
<p>TypeError: undefined is not a function</p>
<p>    at Scope.$rootScope.hide</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2558">
<div id="dsq-comment-header-2558" class="dsq-comment-header">
<cite id="dsq-cite-2558">
./                <span id="dsq-author-user-2558">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2558" class="dsq-comment-body">
<div id="dsq-comment-message-2558" class="dsq-comment-message"><p>Is this the same error : <a href="./an-end-to-end-hybrid-app/#comment-1502892340" rel="nofollow">./an-end-to-end-hybrid-app/#comment-1502892340</a> </p>
<p>If yes, you need to check if app.js is loaded before controllers.js and services.js.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2549">
<div id="dsq-comment-header-2549" class="dsq-comment-header">
<cite id="dsq-cite-2549">
<span id="dsq-author-user-2549">Rajeev Kumar</span>
</cite>
</div>
<div id="dsq-comment-body-2549" class="dsq-comment-body">
<div id="dsq-comment-message-2549" class="dsq-comment-message"><p>Hi Arvind, firstly thank you for this awesome post. However, I need some help to understand few things:</p>
<p>1. When I ran your code, I am able to see appUsers collection but not bucketlist collection. Is that expected? or Am I doing something wrong? This does not affect the app and I am able to run it.</p>
<p>2. Is there a way to get the bucketList for all the users? for example if I register 1, 2, 3 users and log in as user A, I want to see all the bucketlist created by the other user. Can you please help me achieve this?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2550">
<div id="dsq-comment-header-2550" class="dsq-comment-header">
<cite id="dsq-cite-2550">
./                <span id="dsq-author-user-2550">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2550" class="dsq-comment-body">
<div id="dsq-comment-message-2550" class="dsq-comment-message"><p>Thanks Rajeev. To answer your questions</p>
<p>1. MongoDB collections are created only when you have some data to save</p>
<p>2. Yes, you can modify your query like </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411950579443255826" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
db.bucketLists.find(function(err, docs){
// docs - will have all the documents in the bucketLists collection
});
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411950579443255826-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950579443255826-2">2</div><div class="crayon-num" data-line="crayon-5a10411950579443255826-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950579443255826-4">4</div><div class="crayon-num" data-line="crayon-5a10411950579443255826-5">5</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411950579443255826-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950579443255826-2"><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">docs</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411950579443255826-3"><span class="crayon-c">// docs - will have all the documents in the bucketLists collection</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950579443255826-4"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411950579443255826-5">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2553">
<div id="dsq-comment-header-2553" class="dsq-comment-header">
<cite id="dsq-cite-2553">
<span id="dsq-author-user-2553">Rajeev Kumar</span>
</cite>
</div>
<div id="dsq-comment-body-2553" class="dsq-comment-body">
<div id="dsq-comment-message-2553" class="dsq-comment-message"><p>Thank you for the response Arvind. I tried your solution in manageList.js </p>
<p>Something like this: </p>
<p>server.get(&#8220;/api/v1/bucketList/data/list&#8221;, function (req, res, next) {<br />
validateRequest.validate(req, res, db, function () {<br />
db.bucketLists.find(,function (err, list) {<br />
res.writeHead(200, {<br />
&#8216;Content-Type': &#8216;application/json; charset=utf-8&#8242;<br />
});<br />
res.end(JSON.stringify(list));<br />
});<br />
});<br />
return next();<br />
});</p>
<p>But this is still not retrieving all the users bucketList.<br />
Also in the client service.js file we have</p>
<p>getAll: function (email) {<br />
return $http.get(base+&#8217;/api/v1/bucketList/data/list&#8217;, {<br />
method: &#8216;GET&#8217;,<br />
params: {<br />
token: email<br />
}<br />
});<br />
}<br />
This takes an email as a token. I saw the BucketList API and in that page it is mentioned that List API required a token. </p>
<p>Can you please help me with some code example that shows , when the user logs into the app, he should be able to see the bucket list of his and other users as well.?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2518">
<div id="dsq-comment-header-2518" class="dsq-comment-header">
<cite id="dsq-cite-2518">
<span id="dsq-author-user-2518">Turni</span>
</cite>
</div>
<div id="dsq-comment-body-2518" class="dsq-comment-body">
<div id="dsq-comment-message-2518" class="dsq-comment-message"><p>Hi, what a nice tutorial !! Ii&#8217;ve learn a lot but i can&#8217;t work it, i&#8217;ve got a problem with the REST server. When i try to go to <a href="http://localhost:9804/api/v1/bucketList/auth/register" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:9804/api/v1/bucketList/auth/register', 'http://localhost:9804/api/v1/bucketList/auth/register');" rel="nofollow">http://localhost:9804/api/v1/bucketList/auth/register</a>  I got a :</p>
<p>{&#8220;code&#8221;:&#8221;MethodNotAllowedError&#8221;,&#8221;message&#8221;:&#8221;GET is not allowed&#8221;} </p>
<p>it should not be handled by this part ? : (from server.js)</p>
<p> // CORS<br />
server.use(function(req, res, next) {<br />
res.header(&#8216;Access-Control-Allow-Origin&#8217;, &#8220;*&#8221;);<br />
res.header(&#8216;Access-Control-Allow-Methods&#8217;, &#8216;GET,PUT,POST,DELETE&#8217;);<br />
res.header(&#8216;Access-Control-Allow-Headers&#8217;, &#8216;Origin, X-Requested-With, Content-Type, Accept, Content-Type&#8217;);<br />
next();<br />
});</p>
<p>I&#8217;ve tried res.header(&#8216;Access-Control-Allow-Methods&#8217;, &#8216;*&#8217;); but no change .</p>
<p>Thx again for this auto and keep doing this <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2519">
<div id="dsq-comment-header-2519" class="dsq-comment-header">
<cite id="dsq-cite-2519">
./                <span id="dsq-author-user-2519">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2519" class="dsq-comment-body">
<div id="dsq-comment-message-2519" class="dsq-comment-message"><p>Hello Turni, Thanks!</p>
<p>You need to make a HTTP POST request from postman or any rest client like curl. When you open the link in the browser, it becomes a GET request. Hence the error &#8220;GET is not allowed&#8221;</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2371">
<div id="dsq-comment-header-2371" class="dsq-comment-header">
<cite id="dsq-cite-2371">
<span id="dsq-author-user-2371">Alejanmat</span>
</cite>
</div>
<div id="dsq-comment-body-2371" class="dsq-comment-body">
<div id="dsq-comment-message-2371" class="dsq-comment-message"><p>Great tutorial man!!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2154">
<div id="dsq-comment-header-2154" class="dsq-comment-header">
<cite id="dsq-cite-2154">
<span id="dsq-author-user-2154">CdyP</span>
</cite>
</div>
<div id="dsq-comment-body-2154" class="dsq-comment-body">
<div id="dsq-comment-message-2154" class="dsq-comment-message"><p>Great tutorial, thank you.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2146">
<div id="dsq-comment-header-2146" class="dsq-comment-header">
<cite id="dsq-cite-2146">
<span id="dsq-author-user-2146">subbu</span>
</cite>
</div>
<div id="dsq-comment-body-2146" class="dsq-comment-body">
<div id="dsq-comment-message-2146" class="dsq-comment-message"><p>Awesome post, great help</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2066">
<div id="dsq-comment-header-2066" class="dsq-comment-header">
<cite id="dsq-cite-2066">
<span id="dsq-author-user-2066">JoeDoh</span>
</cite>
</div>
<div id="dsq-comment-body-2066" class="dsq-comment-body">
<div id="dsq-comment-message-2066" class="dsq-comment-message"><p>Hi Arvind, great tutorial.I am bit stuck of the manageList api though. Mainly with the DELETE. After entering the token value as user&#8217;s email and the id value of the items ObjectId as such, 54b6085e52c19ca836821eaa, I am getting the following error in POSTMAN:<br />
{<br />
&#8220;code&#8221;: &#8220;InternalError&#8221;,<br />
&#8220;message&#8221;: &#8220;Argument passed in must be a single String of 12 bytes or a string of 24 hex characters&#8221;<br />
}</p>
<p>I have tried everything but nothing seems to perform the DELETE operation on the document. Any help is much appreciated!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2067">
<div id="dsq-comment-header-2067" class="dsq-comment-header">
<cite id="dsq-cite-2067">
./                <span id="dsq-author-user-2067">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2067" class="dsq-comment-body">
<div id="dsq-comment-message-2067" class="dsq-comment-message"><p>Hey JoeDoh,</p>
<p>Thanks! This seems to be an error from MongoDB end. (Take a look at : <a href="http://stackoverflow.com/a/26453755/1015046" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://stackoverflow.com/a/26453755/1015046', 'http://stackoverflow.com/a/26453755/1015046');" rel="nofollow">http://stackoverflow.com/a/26453755/1015046</a> )</p>
<p>In the server side <code>delete</code> code,</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411950bc7926214408" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
server.del('/api/v1/bucketList/data/item/:id', function (req, res, next) {
validateRequest.validate(req, res, db, function () {
db.bucketLists.remove({
_id: db.ObjectId(req.params.id)
}, function (err, data) {
res.writeHead(200, {
'Content-Type': 'application/json; charset=utf-8'
});
res.end(JSON.stringify(data));
});
return next();
});
});
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-2">2</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-4">4</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-6">6</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-8">8</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-10">10</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-12">12</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411950bc7926214408-14">14</div><div class="crayon-num" data-line="crayon-5a10411950bc7926214408-15">15</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411950bc7926214408-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-2"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">del</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/data/item/:id'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">validateRequest</span><span class="crayon-sy">.</span><span class="crayon-e">validate</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">bucketLists</span><span class="crayon-sy">.</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">ObjectId</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/json; charset=utf-8'</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">next</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411950bc7926214408-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411950bc7926214408-15">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0037 seconds] -->
<p></p>
<p>Check if <code>req.params.id</code> is the list ID (<code>54b6085e52c19ca836821eaa</code>).</p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-1170">
<div id="dsq-comment-header-1170" class="dsq-comment-header">
<cite id="dsq-cite-1170">
<span id="dsq-author-user-1170">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1170" class="dsq-comment-body">
<div id="dsq-comment-message-1170" class="dsq-comment-message"><p>Awesome tutorial. Thanks.</p>
<p>I am facing a problem though in login API. Please find the screenshot for the same. It says :</p>
<p>{<br />
&#8220;code&#8221;: &#8220;InternalError&#8221;,<br />
&#8220;message&#8221;: &#8220;Cannot call method &#8216;trim&#8217; of undefined&#8221;<br />
}</p>
<p>It seems the email and password fields are remaining undefined in the login API.</p>
<p>The DB query gives the result after registering:</p>
<p>&gt; db.appUsers.find()</p>
<p>{ &#8220;_id&#8221; : ObjectId(&#8220;542b9e8841dadef56d770ccb&#8221;), &#8220;password&#8221; : null }</p>
<p>Any help would be highly appreciated.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1171">
<div id="dsq-comment-header-1171" class="dsq-comment-header">
<cite id="dsq-cite-1171">
./                <span id="dsq-author-user-1171">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1171" class="dsq-comment-body">
<div id="dsq-comment-message-1171" class="dsq-comment-message"><p>Thanks Amod. I did not find any screenshot in the comment. Can you re-post it? </p>
<p>Looking at the info, looks like some issue during registration process. Are you sure the sent the data is received on the server?</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-1172">
<div id="dsq-comment-header-1172" class="dsq-comment-header">
<cite id="dsq-cite-1172">
<span id="dsq-author-user-1172">Guest</span>
</cite>
</div>
<div id="dsq-comment-body-1172" class="dsq-comment-body">
<div id="dsq-comment-message-1172" class="dsq-comment-message"><p>Please find the screenshot.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-3" id="dsq-comment-1174">
<div id="dsq-comment-header-1174" class="dsq-comment-header">
<cite id="dsq-cite-1174">
<span id="dsq-author-user-1174">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1174" class="dsq-comment-body">
<div id="dsq-comment-message-1174" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Somehow the image is not attaching in the reply. </p>
<p>While registering, i did get the JSON response in postman having the _id and password=&#8221;&#8221;.</p>
<p>The DB query returns the following:</p>
<p>{ &#8220;_id&#8221; : ObjectId(&#8220;542b9e8841dadef56d770ccb&#8221;), &#8220;password&#8221; : null }</p>
<p>I am not sure whether the data is coming to server or not(I am a newbie to node, and don&#8217;t know proper debugging <img src="./wp-includes/images/smilies/frownie.png" alt=":(" class="wp-smiley" style="height: 1em; max-height: 1em;" /> ). Can you please suggest some workaround about how to check this ?</p>
<p>Also, I am checking the API in POSTMAN. For registering and login, I provided the data in x-www-form-urlencoded field. If I give the data in the form field, it throws error. Shall I put the data in raw field as a JSON ?</p>
<p>Thanks</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-1176">
<div id="dsq-comment-header-1176" class="dsq-comment-header">
<cite id="dsq-cite-1176">
./                <span id="dsq-author-user-1176">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1176" class="dsq-comment-body">
<div id="dsq-comment-message-1176" class="dsq-comment-message"><p>Hello Amod, NP. </p>
<p>Sure. You can use <code>console.log()</code> to log the values to the Node console (the terminal/prompt where you started the node app). Pls. update the register method as below</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1041195347d342863510" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
server.post('/api/v1/bucketList/auth/register', function (req, res, next) {
var user = req.params;
console.log("user &gt;&gt;", user); 
// snipp 
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1041195347d342863510-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041195347d342863510-2">2</div><div class="crayon-num" data-line="crayon-5a1041195347d342863510-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041195347d342863510-4">4</div><div class="crayon-num" data-line="crayon-5a1041195347d342863510-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1041195347d342863510-6">6</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1041195347d342863510-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1041195347d342863510-2"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-s">'/api/v1/bucketList/auth/register'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">next</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1041195347d342863510-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041195347d342863510-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"user &gt;&gt;"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a1041195347d342863510-5"><span class="crayon-c">// snipp </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1041195347d342863510-6">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<p>And in your node console, when the request is fired, you can see what is going on. Also do see if there are any other errors logged.</p>
<p>Thanks,</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-5" id="dsq-comment-1177">
<div id="dsq-comment-header-1177" class="dsq-comment-header">
<cite id="dsq-cite-1177">
<span id="dsq-author-user-1177">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1177" class="dsq-comment-body">
<div id="dsq-comment-message-1177" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Following is the console log for /auth/register:</p>
<p>user &gt;&gt; {}<br />
user.email &gt;&gt; undefined<br />
n undefined</p>
<p>Now it is clear that data is not coming to server somehow.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1183">
<div id="dsq-comment-header-1183" class="dsq-comment-header">
<cite id="dsq-cite-1183">
./                <span id="dsq-author-user-1183">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1183" class="dsq-comment-body">
<div id="dsq-comment-message-1183" class="dsq-comment-message"><p>And also make sure you have included </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411953340001643915" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
server.use(restify.acceptParser(server.acceptable));
server.use(restify.queryParser());
server.use(restify.bodyParser());
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411953340001643915-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411953340001643915-2">2</div><div class="crayon-num" data-line="crayon-5a10411953340001643915-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411953340001643915-4">4</div><div class="crayon-num" data-line="crayon-5a10411953340001643915-5">5</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411953340001643915-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411953340001643915-2"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">acceptParser</span><span class="crayon-sy">(</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">acceptable</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411953340001643915-3"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">queryParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10411953340001643915-4"><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-v">restify</span><span class="crayon-sy">.</span><span class="crayon-e">bodyParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10411953340001643915-5">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0012 seconds] -->
<p></p>
<p>in <code>server.js</code>. Without which the request parsing will not happen.</p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1187">
<div id="dsq-comment-header-1187" class="dsq-comment-header">
<cite id="dsq-cite-1187">
<span id="dsq-author-user-1187">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1187" class="dsq-comment-body">
<div id="dsq-comment-message-1187" class="dsq-comment-message"><p>Bingo ! got it to work.</p>
<p>The required data was to be passed as a JSON object from &#8216;raw&#8217; field of POSTMAN. The &#8216;x-www-form-urlencoded&#8217; field doesn&#8217;t work here.</p>
<p>I am getting another issue here &#8211;<br />
If the login credentials are correct, the API works like a charm, but if I pass a wrong email then the following response throws :<br />
{<br />
&#8220;code&#8221;: &#8220;InternalError&#8221;,<br />
&#8220;message&#8221;: &#8220;Cannot read property &#8216;password&#8217; of null&#8221;<br />
}</p>
<p>Here in manageUser.js, the method &#8211;<br />
pwdMgr.comparePassword(user.password, dbUser.password, function (err, isPasswordMatch) </p>
<p>&#8211; is getting the dbUser field as null(since db.appUser.find returns null).</p>
<p>Any pointers on this, please ?</p>
<p>And thanks for your prompt responses <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1188">
<div id="dsq-comment-header-1188" class="dsq-comment-header">
<cite id="dsq-cite-1188">
./                <span id="dsq-author-user-1188">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1188" class="dsq-comment-body">
<div id="dsq-comment-message-1188" class="dsq-comment-message"><p>Great!! </p>
<p>You can find the solution from the last comment of ImINaBAR. </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119531a0092952085" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
db.appUsers.findOne({
email: req.params.email
}, function (err, dbUser) {
if(!dbUser){//if the database finds no email, it will return null, but any falsey will also mean something's amiss
res.writeHead(403, contentTypeTipo);
res.end(JSON.stringify({
error: 'Invalid credentials. User not found.'
}));
}
//hre were errors
});
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119531a0092952085-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-2">2</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-4">4</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-6">6</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-8">8</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-10">10</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-12">12</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-14">14</div><div class="crayon-num" data-line="crayon-5a104119531a0092952085-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119531a0092952085-16">16</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119531a0092952085-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-2"><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">appUsers</span><span class="crayon-sy">.</span><span class="crayon-e">findOne</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-3"><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">params</span><span class="crayon-sy">.</span><span class="crayon-i">email</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-4"><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-5"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">dbUser</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">//if the database finds no email, it will return null, but any falsey will also mean something's amiss</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-6"><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">contentTypeTipo</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-7"><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">stringify</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-8"><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Invalid credentials. User not found.'</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-9"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-10"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-12"><span class="crayon-c">//hre were errors</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-14"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a104119531a0092952085-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119531a0092952085-16">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0023 seconds] -->
<p></p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1191">
<div id="dsq-comment-header-1191" class="dsq-comment-header">
<cite id="dsq-cite-1191">
<span id="dsq-author-user-1191">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1191" class="dsq-comment-body">
<div id="dsq-comment-message-1191" class="dsq-comment-message"><p>Thanks once again, got it to work <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /> You are the best <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1192">
<div id="dsq-comment-header-1192" class="dsq-comment-header">
<cite id="dsq-cite-1192">
./                <span id="dsq-author-user-1192">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1192" class="dsq-comment-body">
<div id="dsq-comment-message-1192" class="dsq-comment-message"><p>Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1476">
<div id="dsq-comment-header-1476" class="dsq-comment-header">
<cite id="dsq-cite-1476">
<span id="dsq-author-user-1476">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1476" class="dsq-comment-body">
<div id="dsq-comment-message-1476" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Small issue: after completing the deployment on heroku and mongolab, I tried checking the APIs from the application using chrome. It gives me 503 error as give :</p>
<p>Request URL: <a href="http://mybucketlistapp.herokuapp.com/api/v1/bucketList/auth/register" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://mybucketlistapp.herokuapp.com/api/v1/bucketList/auth/register', 'http://mybucketlistapp.herokuapp.com/api/v1/bucketList/auth/register');" rel="nofollow">http://mybucketlistapp.herokuapp.com/api/v1/bucketList/auth/register</a><br />
Request Method: POST<br />
Status Code: 503 Service Unavailable</p>
<p>I ran the following also : heroku ps:scale web=1.</p>
<p>Here are some recent logs of heroku :</p>
<p>2014-10-08T10:27:33.768810+00:00 heroku[api]: Scale to web=1 by <a href="/cdn-cgi/l/email-protection#791814161d0a11181712180b3901010101010101571a1614"><span class="__cf_email__" data-cfemail="aacbc7c5ced9c2cbc4c1cbd8ead2d2d2d2d2d2d284c9c5c7">[email&#160;protected]</span></a><br />
2014-10-08T10:27:53.586043+00:00 app[web.1]: user.email &gt;&gt; <a href="/cdn-cgi/l/email-protection#98f9f5f7fcebd8f7edecf4f7f7f3b6fbf7f5"><span class="__cf_email__" data-cfemail="73121e1c1700331c06071f1c1c185d101c1e">[email&#160;protected]</span></a><br />
2014-10-08T10:27:53.586030+00:00 app[web.1]: user &gt;&gt; { email: &#8216;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f6faf8f3e4d7f8e2e3fbf8f8fcb9f4f8fa">[email&#160;protected]</a>&#8217;, password: &#8216;orange&#8217;, name: &#8216;amod&#8217; }<br />
2014-10-08T10:27:53.670091+00:00 app[web.1]: n $2a$10$iWfu5NcZrHRIrM7WhVfUUOwRnNy4FjfJG0vgETMs.Dz9XK.FgGJDC<br />
2014-10-08T10:28:23.587710+00:00 heroku[router]: at=error code=H12 desc=&#8221;Request timeout&#8221; method=POST path=&#8221;/api/v1/bucketList/auth/register&#8221; host=mybucketlistapp.herokuapp.com request_id=1fe9369e-4021-4d47-8f5a-f2e69aef30ca fwd=&#8221;192.168.1.137,115.254.51.11&#8243; dyno=web.1 connect=2ms service=30276ms status=503 bytes=0<br />
2014-10-08T10:28:23.589115+00:00 app[web.1]: POST /api/v1/bucketList/auth/register &#8211; &#8211; ms &#8211; &#8211;<br />
2014-10-08T10:31:16.451083+00:00 heroku[router]: at=info method=GET path=&#8221;/&#8221; host=mybucketlistapp.herokuapp.com request_id=00ece350-f0ae-49fc-9920-fc60f50b06ca fwd=&#8221;192.168.1.137,115.254.51.11&#8243; dyno=web.1 connect=1ms service=2ms status=404 bytes=190</p>
<p>Any pointers ?<br />
Thanks,<br />
Amod</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1477">
<div id="dsq-comment-header-1477" class="dsq-comment-header">
<cite id="dsq-cite-1477">
./                <span id="dsq-author-user-1477">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1477" class="dsq-comment-body">
<div id="dsq-comment-message-1477" class="dsq-comment-message"><p>Hi Amod, Couple of observations</p>
<p>1. There are 2 script errors on the page (console tab)<br />
2. Are you running the page with a file:/// protocol? If you are making an Ajax call, you need to host the app.</p>
<p>And if I navigate to <a href="http://mybucketlistapp.herokuapp.com" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://mybucketlistapp.herokuapp.com', 'http://mybucketlistapp.herokuapp.com');" rel="nofollow">http://mybucketlistapp.herokuapp.com</a> , I get appropriate page as / is not defined. And looking at the error, looks like it is an app error.  Is the local instance working fine?</p>
<p>Also can you pls. verify if you have followed all the steps listed here : <a href="./deploying-node-application" rel="nofollow">./deploying-node-application</a></p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1480">
<div id="dsq-comment-header-1480" class="dsq-comment-header">
<cite id="dsq-cite-1480">
<span id="dsq-author-user-1480">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1480" class="dsq-comment-body">
<div id="dsq-comment-message-1480" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>About your observations:</p>
<p>1. First error is about cordova.js, and second is this 503 error.<br />
2. My bad, but same error persists even if I run from localhost:8100</p>
<p>Yes, <a href="http://mybucketlistapp.herokuapp.com" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://mybucketlistapp.herokuapp.com', 'http://mybucketlistapp.herokuapp.com');" rel="nofollow">http://mybucketlistapp.herokuapp.com</a> gives that error, I have no idea why. I followed all the instructions on that link. On local, everything works.</p>
<p>I saw your git repo of the complete code, the url you provided : <a href="http://bucketlistapplication.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://bucketlistapplication.herokuapp.com/', 'http://bucketlistapplication.herokuapp.com/');" rel="nofollow">http://bucketlistapplication.herokuapp.com/</a> -also gives the / not defined error.</p>
<p>I will deploy this on device and check once.<br />
Please make some guesses <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Thanks,<br />
Amod</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1481">
<div id="dsq-comment-header-1481" class="dsq-comment-header">
<cite id="dsq-cite-1481">
./                <span id="dsq-author-user-1481">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1481" class="dsq-comment-body">
<div id="dsq-comment-message-1481" class="dsq-comment-message"><p>BTW / not defined error is as expected.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1515">
<div id="dsq-comment-header-1515" class="dsq-comment-header">
<cite id="dsq-cite-1515">
<span id="dsq-author-user-1515">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1515" class="dsq-comment-body">
<div id="dsq-comment-message-1515" class="dsq-comment-message"><p>Hi Arvind ,</p>
<p>Sorry to trouble you again.</p>
<p>I have put logs inside the server in manageUser.js and can see the log printing upto</p>
<p>console.log(&#8220;n&#8221;, hash); </p>
<p>then at the function &#8211; db.appUsers.insert() , heroku throws a h12 timedout/503 error. By this it is clear that the APIs are accessible.</p>
<p> It seems the connection to the mongolab is being timedout. I tried the mongolab url from shell using the username and password, it logs me in.</p>
<p>Is there any way by which we can host a mongo database on heroku itself ? Also, any pointers on tackling with the nodejs timeout issue ?</p>
<p>Thanks,<br />
Amod.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1516">
<div id="dsq-comment-header-1516" class="dsq-comment-header">
<cite id="dsq-cite-1516">
./                <span id="dsq-author-user-1516">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1516" class="dsq-comment-body">
<div id="dsq-comment-message-1516" class="dsq-comment-message"><p>Hi Amod,</p>
<p>You can use MongoHQ <a href="https://addons.heroku.com/mongohq" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://addons.heroku.com/mongohq', 'https://addons.heroku.com/mongohq');" rel="nofollow">https://addons.heroku.com/mongohq</a> and you can use the MongoLab URL from your locally hosted app and check if it is saving in the DB as a confirmation.</p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1518">
<div id="dsq-comment-header-1518" class="dsq-comment-header">
<cite id="dsq-cite-1518">
<span id="dsq-author-user-1518">Amod Shankar</span>
</cite>
</div>
<div id="dsq-comment-body-1518" class="dsq-comment-body">
<div id="dsq-comment-message-1518" class="dsq-comment-message"><p>Hello Arvind,</p>
<p>Finally the end of eternity is here. Everything working.</p>
<p>I am an idiot. After updating the mongolab url into the server.js file,I was simply doing an &#8220;git push heroku master&#8221;, without committing it to git first. In order to see if the database url was updated into server.js or not, I cloned the heroku server code into a new folder and that showed that I was using the old url itself <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>In this process, I added mongohq into my heroku account and in order to make it work, lost some 30 rupees from my card(bigger idiocity 😛 ). Now things work using mongolab only <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Once again, I take this opportunity to thank you a million times for taking time for quick responses. You are a life saver <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1520">
<div id="dsq-comment-header-1520" class="dsq-comment-header">
<cite id="dsq-cite-1520">
./                <span id="dsq-author-user-1520">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1520" class="dsq-comment-body">
<div id="dsq-comment-message-1520" class="dsq-comment-message"><p>Great! Glad I could be of help! Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-3175">
<div id="dsq-comment-header-3175" class="dsq-comment-header">
<cite id="dsq-cite-3175">
http://pulpoficcion.tumblr.com/                <span id="dsq-author-user-3175">J.Balczar</span>
</cite>
</div>
<div id="dsq-comment-body-3175" class="dsq-comment-body">
<div id="dsq-comment-message-3175" class="dsq-comment-message"><p>Hi! I had the same problem, but i did what you did and the app works pefect on my localhost but in heroku doesn&#8217;t any idea? Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-2321">
<div id="dsq-comment-header-2321" class="dsq-comment-header">
<cite id="dsq-cite-2321">
<span id="dsq-author-user-2321">alexfs</span>
</cite>
</div>
<div id="dsq-comment-body-2321" class="dsq-comment-body">
<div id="dsq-comment-message-2321" class="dsq-comment-message"><p>Hi, very new to ionic and mongoDB, can you please send me a full project for test, please?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-2323">
<div id="dsq-comment-header-2323" class="dsq-comment-header">
<cite id="dsq-cite-2323">
./                <span id="dsq-author-user-2323">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2323" class="dsq-comment-body">
<div id="dsq-comment-message-2323" class="dsq-comment-message"><p>Hello alexfs, the source code link is provided at the top of the post. Nevertheless, here it is : <a href="https://github.com/arvindr21/BucketListApp" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp', 'https://github.com/arvindr21/BucketListApp');" rel="nofollow">https://github.com/arvindr21/BucketListApp</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-2325">
<div id="dsq-comment-header-2325" class="dsq-comment-header">
<cite id="dsq-cite-2325">
<span id="dsq-author-user-2325">alexfs</span>
</cite>
</div>
<div id="dsq-comment-body-2325" class="dsq-comment-body">
<div id="dsq-comment-message-2325" class="dsq-comment-message"><p>thank you very much Arvind!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-744">
<div id="dsq-comment-header-744" class="dsq-comment-header">
<cite id="dsq-cite-744">
<span id="dsq-author-user-744">Somebody</span>
</cite>
</div>
<div id="dsq-comment-body-744" class="dsq-comment-body">
<div id="dsq-comment-message-744" class="dsq-comment-message"><p>You are incredible. Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-746">
<div id="dsq-comment-header-746" class="dsq-comment-header">
<cite id="dsq-cite-746">
./                <span id="dsq-author-user-746">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-746" class="dsq-comment-body">
<div id="dsq-comment-message-746" class="dsq-comment-message"><p>Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-504">
<div id="dsq-comment-header-504" class="dsq-comment-header">
<cite id="dsq-cite-504">
<span id="dsq-author-user-504">Anson</span>
</cite>
</div>
<div id="dsq-comment-body-504" class="dsq-comment-body">
<div id="dsq-comment-message-504" class="dsq-comment-message"><p>Hi Arvind, when I use a blank parameters to test the login api (/api/v1/bucketList/auth/login),  there will be an error 500. And the error message is  &#8220;Cannot call method &#8216;trim&#8217; of undefined&#8221;. I guess that on the server/aut/manageUser.js file line 41-42,  the user variable is undefined, not a string, which can use the trim() method. Is it that right, hope your reply</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-411">
<div id="dsq-comment-header-411" class="dsq-comment-header">
<cite id="dsq-cite-411">
<span id="dsq-author-user-411">Denis C de Azevedo</span>
</cite>
</div>
<div id="dsq-comment-body-411" class="dsq-comment-body">
<div id="dsq-comment-message-411" class="dsq-comment-message"><p>What a wonderful tutorial! Thank you for writing! So detailed and easy to follow.</p>
<p>I was wondering how an hybrid app like this one (with AngularJS and PhoneGap) could work offline.<br />
Imagine there is no internet connection during a few hours. What is necessary to keep using the app (saving/editing items) and synchronize later, right after re-establish the connection?</p>
<p>Thank you</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-413">
<div id="dsq-comment-header-413" class="dsq-comment-header">
<cite id="dsq-cite-413">
./                <span id="dsq-author-user-413">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-413" class="dsq-comment-body">
<div id="dsq-comment-message-413" class="dsq-comment-message"><p>Thanks @deniscdeazevedo:disqus! </p>
<p>If you are looking for saving data offline, I would suggest using the Firebase version of this app. Firebase has the power to persist the changes locally and sync with the server when the network is back on. </p>
<p>Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-402">
<div id="dsq-comment-header-402" class="dsq-comment-header">
<cite id="dsq-cite-402">
<span id="dsq-author-user-402">George</span>
</cite>
</div>
<div id="dsq-comment-body-402" class="dsq-comment-body">
<div id="dsq-comment-message-402" class="dsq-comment-message"><p>Hi Arvind,</p>
<p>Great tutorial. I tried to run your git code and I am get this error when I run the client app.</p>
<p>TypeError: undefined is not a function<br />
at Scope.$rootScope.hide (<a href="http://localhost:8000/js/services.js:15:27" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/js/services.js:15:27', 'http://localhost:8000/js/services.js:15:27');" rel="nofollow">http://localhost:8000/js/services.js:15:27</a>)<br />
at <a href="http://localhost:8000/js/controllers.js:27:24" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/js/controllers.js:27:24', 'http://localhost:8000/js/controllers.js:27:24');" rel="nofollow">http://localhost:8000/js/controllers.js:27:24</a><br />
at <a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:15046:11" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:15046:11', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:15046:11');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:15046:11</a><br />
at wrappedCallback (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81</a>)<br />
at wrappedCallback (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:18435:81</a>)<br />
at <a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:18521:26" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18521:26', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:18521:26');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:18521:26</a><br />
at Scope.$eval (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:19447:28" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19447:28', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19447:28');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:19447:28</a>)<br />
at Scope.$digest (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:19273:31" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19273:31', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19273:31');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:19273:31</a>)<br />
at Scope.$apply (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:19553:24" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19553:24', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:19553:24');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:19553:24</a>)<br />
at done (<a href="http://localhost:8000/lib/ionic/js/ionic.bundle.js:15311:45" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:15311:45', 'http://localhost:8000/lib/ionic/js/ionic.bundle.js:15311:45');" rel="nofollow">http://localhost:8000/lib/ionic/js/ionic.bundle.js:15311:45</a>)</p>
<p>I testing the client app on the browser.</p>
<p>Thanks</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-403">
<div id="dsq-comment-header-403" class="dsq-comment-header">
<cite id="dsq-cite-403">
<span id="dsq-author-user-403">George</span>
</cite>
</div>
<div id="dsq-comment-body-403" class="dsq-comment-body">
<div id="dsq-comment-message-403" class="dsq-comment-message"><p>Just ignore this issue, looks like the older version of ionic, has problems with $rootScope. Update ionic seems to have solved the problem. Thanks</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-412">
<div id="dsq-comment-header-412" class="dsq-comment-header">
<cite id="dsq-cite-412">
./                <span id="dsq-author-user-412">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-412" class="dsq-comment-body">
<div id="dsq-comment-message-412" class="dsq-comment-message"><p>Great! Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even depth-2" id="dsq-comment-408">
<div id="dsq-comment-header-408" class="dsq-comment-header">
<cite id="dsq-cite-408">
./                <span id="dsq-author-user-408">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-408" class="dsq-comment-body">
<div id="dsq-comment-message-408" class="dsq-comment-message"><p>Hello @disqus_Hpt7By9gji:disqus, Thanks!</p>
<p>Looks like <code>app.js</code> is not included before <code>services.js</code>, hence the error </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a104119539c7484805444" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
TypeError: undefined is not a function
at Scope.$rootScope.hide (http://localhost:8000/js/services.js:15:27)
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a104119539c7484805444-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119539c7484805444-2">2</div><div class="crayon-num" data-line="crayon-5a104119539c7484805444-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a104119539c7484805444-4">4</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a104119539c7484805444-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a104119539c7484805444-2"><span class="crayon-v">TypeError</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">undefined </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-t">function</span></div><div class="crayon-line" id="crayon-5a104119539c7484805444-3"><span class="crayon-e">at </span><span class="crayon-v">Scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//localhost:8000/js/services.js:15:27)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a104119539c7484805444-4">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p><code>hide()</code> is defined in <code>app.js</code></p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-325">
<div id="dsq-comment-header-325" class="dsq-comment-header">
<cite id="dsq-cite-325">
<span id="dsq-author-user-325">vamshisuram</span>
</cite>
</div>
<div id="dsq-comment-body-325" class="dsq-comment-body">
<div id="dsq-comment-message-325" class="dsq-comment-message"><p>thanks a lot for the nice tutorial.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-326">
<div id="dsq-comment-header-326" class="dsq-comment-header">
<cite id="dsq-cite-326">
./                <span id="dsq-author-user-326">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-326" class="dsq-comment-body">
<div id="dsq-comment-message-326" class="dsq-comment-message"><p>Thanks @vamshisuram:disqus</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-277">
<div id="dsq-comment-header-277" class="dsq-comment-header">
<cite id="dsq-cite-277">
<span id="dsq-author-user-277">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-277" class="dsq-comment-body">
<div id="dsq-comment-message-277" class="dsq-comment-message"><p>Hi Arvind, Thanks for this awesome tutorial. I followed all the steps but somehow I cannot connect to my mongolab instance. The error that I get on heroku is</p>
<p>/app/auth/manageUser.js:5<br />
db.appUsers.ensureIndex({<br />
at Module.load (module.js:356:32)</p>
<p>thoughts?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-278">
<div id="dsq-comment-header-278" class="dsq-comment-header">
<cite id="dsq-cite-278">
./                <span id="dsq-author-user-278">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-278" class="dsq-comment-body">
<div id="dsq-comment-message-278" class="dsq-comment-message"><p>Thanks Gerbie. Can you try the same removing </p>
<p> db.appUsers.ensureIndex({<br />
email: 1<br />
}, {<br />
unique: true<br />
});</p>
<p>from managerUser.js.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-281">
<div id="dsq-comment-header-281" class="dsq-comment-header">
<cite id="dsq-cite-281">
<span id="dsq-author-user-281">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-281" class="dsq-comment-body">
<div id="dsq-comment-message-281" class="dsq-comment-message"><p>Hi Arvind! Thanks for responding <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /> I did just that but now it&#8217;s complaining about </p>
<p>&#8220;Cannot call method &#8216;insert&#8217; of undefined&#8221;</p>
<p>I don&#8217;t think it&#8217;s able to connect to the mongolab instance. I used your code that you have on github.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-282">
<div id="dsq-comment-header-282" class="dsq-comment-header">
<cite id="dsq-cite-282">
./                <span id="dsq-author-user-282">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-282" class="dsq-comment-body">
<div id="dsq-comment-message-282" class="dsq-comment-message"><p>Couple of ideas,</p>
<p>1. if you have mongodb installed on your local machine, you can try accessing the MongoLab environment using the mongo shell. Open a new terminal and run the below command</p>
<p>&gt;&gt; mongodb://admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f6f3fafef9a6a5a4d7f3f5ffa4a1b9faf8f9f0f8fbf6f5b9f4f8fa">[email&#160;protected]</a>:27367/bucketlistapp</p>
<p>Update the above details with your connection string. Or you can use the above connection string as is. </p>
<p>If you are able to tunnel through using your local machine, MongoLab is working fine. You can use the standard MongoDB queries to check what is present inside your DB collection.</p>
<p>2. Can you pls recheck <a href="https://github.com/arvindr21/BucketListApp/blob/master/prod/server/server.js" onclick="__gaTracker('send', 'event', 'download', 'https://github.com/arvindr21/BucketListApp/blob/master/prod/server/server.js');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/prod/server/server.js</a> with the connection string and path?</p>
<p>Last resort, can you share your code, I can try running it?</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-5" id="dsq-comment-283">
<div id="dsq-comment-header-283" class="dsq-comment-header">
<cite id="dsq-cite-283">
<span id="dsq-author-user-283">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-283" class="dsq-comment-body">
<div id="dsq-comment-message-283" class="dsq-comment-message"><p>Arvind, I&#8217;m stuck <img src="./wp-includes/images/smilies/frownie.png" alt=":(" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Here&#8217;s my code:</p>
<p><a href="https://github.com/reggarcia/bucketlistapp" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/reggarcia/bucketlistapp', 'https://github.com/reggarcia/bucketlistapp');" rel="nofollow">https://github.com/reggarcia/bucketlistapp</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-284">
<div id="dsq-comment-header-284" class="dsq-comment-header">
<cite id="dsq-cite-284">
./                <span id="dsq-author-user-284">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-284" class="dsq-comment-body">
<div id="dsq-comment-message-284" class="dsq-comment-message"><p>Hey Gerbie, Found the issue. My bad!</p>
<p>When instantiating the collection, I have used &#8216;users&#8217; collection in server.js</p>
<p>var db          =   mongojs(&#8216;mongodb://admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2b4a4f4642451a19186b4f4943181d054644454c44474a4905484446">[email&#160;protected]</a>:27367/bucketlistapp&#8217;, [&#8216;users&#8217;,&#8217;bucketLists&#8217;]);</p>
<p>and in manageUser.js have used &#8216;appUser&#8217; as reference. </p>
<p>db.appUsers.ensureIndex({<br />
email: 1<br />
}, {<br />
unique: true<br />
});</p>
<p>The above is changed to </p>
<p>db.users.ensureIndex({<br />
email: 1<br />
}, {<br />
unique: true<br />
});</p>
<p>and things look good.</p>
<p>Thanks for pointing it out.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-288">
<div id="dsq-comment-header-288" class="dsq-comment-header">
<cite id="dsq-cite-288">
<span id="dsq-author-user-288">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-288" class="dsq-comment-body">
<div id="dsq-comment-message-288" class="dsq-comment-message"><p>Thank you! I&#8217;m so excited to build more functionality into this app! Kudos!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-289">
<div id="dsq-comment-header-289" class="dsq-comment-header">
<cite id="dsq-cite-289">
./                <span id="dsq-author-user-289">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-289" class="dsq-comment-body">
<div id="dsq-comment-message-289" class="dsq-comment-message"><p>Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-2322">
<div id="dsq-comment-header-2322" class="dsq-comment-header">
<cite id="dsq-cite-2322">
<span id="dsq-author-user-2322">Alexfs</span>
</cite>
</div>
<div id="dsq-comment-body-2322" class="dsq-comment-body">
<div id="dsq-comment-message-2322" class="dsq-comment-message"><p>Hi Arvind, very good tutorial, can you please send me the full project? Thank you</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-285">
<div id="dsq-comment-header-285" class="dsq-comment-header">
<cite id="dsq-cite-285">
<span id="dsq-author-user-285">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-285" class="dsq-comment-body">
<div id="dsq-comment-message-285" class="dsq-comment-message"><p>I was able to fix the issue: </p>
<p>Changed this line:</p>
<p>var db          =   mongojs(&#8216;mongodb://admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7703120403371304474440414640591a181910181b16155914181a">[email&#160;protected]</a>:37617/bucketlistapp&#8217;, [&#8216;users&#8217;,&#8217;bucketLists&#8217;]);</p>
<p>to<br />
var db          =   mongojs(&#8216;mongodb://admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a6d2c3d5d2e6c2d596959190979188cbc9c8c1c9cac7c488c5c9cb">[email&#160;protected]</a>:37617/bucketlistapp&#8217;, [&#8216;appUsers&#8217;,&#8217;bucketLists&#8217;]);</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-286">
<div id="dsq-comment-header-286" class="dsq-comment-header">
<cite id="dsq-cite-286">
./                <span id="dsq-author-user-286">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-286" class="dsq-comment-body">
<div id="dsq-comment-message-286" class="dsq-comment-message"><p>Yup! That was the solution I mentioned below.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-275">
<div id="dsq-comment-header-275" class="dsq-comment-header">
<cite id="dsq-cite-275">
<span id="dsq-author-user-275">gerbie</span>
</cite>
</div>
<div id="dsq-comment-body-275" class="dsq-comment-body">
<div id="dsq-comment-message-275" class="dsq-comment-message"><p>Hi Arvind, great tutorial.I tried to run <a href="http://localhost:9804/api/v1/bucketList/api/auth/register" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://localhost:9804/api/v1/bucketList/api/auth/register', 'http://localhost:9804/api/v1/bucketList/api/auth/register');" rel="nofollow">http://localhost:9804/api/v1/bucketList/api/auth/register</a> on Postman but it gives me this error:</p>
<p>{</p>
<p>    &#8220;code&#8221;: &#8220;ResourceNotFound&#8221;,</p>
<p>    &#8220;message&#8221;: &#8220;/api/v1/bucketList/api/auth/register does not exist&#8221;</p>
<p>}</p>
<p>What does this mean?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-276">
<div id="dsq-comment-header-276" class="dsq-comment-header">
<cite id="dsq-cite-276">
./                <span id="dsq-author-user-276">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-276" class="dsq-comment-body">
<div id="dsq-comment-message-276" class="dsq-comment-message"><p>Hello there, Thanks!<br />
This means that the RESTify app hosted on 9804 is not having a route with path &#8220;/api/v1/bucketList/api/auth/register&#8221;</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-298">
<div id="dsq-comment-header-298" class="dsq-comment-header">
<cite id="dsq-cite-298">
http://guizishanren.com/                <span id="dsq-author-user-298">Herbert Yang</span>
</cite>
</div>
<div id="dsq-comment-body-298" class="dsq-comment-body">
<div id="dsq-comment-message-298" class="dsq-comment-message"><p>Hi Arvind, thanks for this great tutorial! I ran into the same issue and saw the same error message that said the  &#8220;code&#8221;: &#8220;ResourceNotFound&#8221;,<br />
&#8220;message&#8221;: &#8220;/api/v1/bucketList/api/auth/register does not exist&#8221;. How to fix this issue?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-299">
<div id="dsq-comment-header-299" class="dsq-comment-header">
<cite id="dsq-cite-299">
./                <span id="dsq-author-user-299">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-299" class="dsq-comment-body">
<div id="dsq-comment-message-299" class="dsq-comment-message"><p>Hello Herbert. Thanks!</p>
<p>I quickly re-ran the tutorial and things seems to be working fine. I have used the same versions of the node packages as shown in the package.json above. I have also installed the latest versions of these package and the app seems to work fine. </p>
<p>Can you host the code somewhere and give me a links? I can take a look.</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-5" id="dsq-comment-300">
<div id="dsq-comment-header-300" class="dsq-comment-header">
<cite id="dsq-cite-300">
http://guizishanren.com/                <span id="dsq-author-user-300">Herbert Yang</span>
</cite>
</div>
<div id="dsq-comment-body-300" class="dsq-comment-body">
<div id="dsq-comment-message-300" class="dsq-comment-message"><p>Thanks for the reply Arvind.</p>
<p>I literally copied and pasted your exact codes from the server part. Here&#8217;s my package.json: </p>
<p>{<br />
&#8220;name&#8221;: &#8220;wuhan&#8221;,<br />
&#8220;version&#8221;: &#8220;0.0.0&#8221;,<br />
&#8220;description&#8221;: &#8220;server for Linkqlo app&#8221;,<br />
&#8220;main&#8221;: &#8220;index.js&#8221;,<br />
&#8220;scripts&#8221;: {<br />
&#8220;test&#8221;: &#8220;echo &#8220;Error: no test specified&#8221; &amp;&amp; exit 1&#8243;<br />
},<br />
&#8220;author&#8221;: &#8220;Herbert Yang&#8221;,<br />
&#8220;license&#8221;: &#8220;ISC&#8221;,<br />
&#8220;dependencies&#8221;: {<br />
&#8220;morgan&#8221;: &#8220;^1.1.1&#8243;,<br />
&#8220;bcrypt&#8221;: &#8220;^0.7.8&#8243;,<br />
&#8220;restify&#8221;: &#8220;^2.8.1&#8243;,<br />
&#8220;mongojs&#8221;: &#8220;^0.13.0&#8243;<br />
}</p>
<p>}</p>
<p>After I entered&#8221; node server.js&#8221; in the command-line, shell prompt said &#8220;Server started @ 9804&#8243;. In my Chrome browser, I tried &#8220;http://localhost:9804/api/v1/bucketList/auth/register&#8221; url and got &#8220;{&#8220;code&#8221;:&#8221;MethodNotAllowedError&#8221;,&#8221;message&#8221;:&#8221;GET is not allowed&#8221;} &#8221; message. When I tried&#8221;http://localhost:9804/&#8221;, I got &#8220;{&#8220;code&#8221;:&#8221;ResourceNotFound&#8221;,&#8221;message&#8221;:&#8221;/ does not exist&#8221;}&#8221; . </p>
<p>What am I doing wrong you think?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-301">
<div id="dsq-comment-header-301" class="dsq-comment-header">
<cite id="dsq-cite-301">
./                <span id="dsq-author-user-301">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-301" class="dsq-comment-body">
<div id="dsq-comment-message-301" class="dsq-comment-message"><p>Hello Herbert. </p>
<p><code>/auth/register</code> endpoint is of type POST. You cannot fire it using the browser. The browser will change <code>http://localhost:9804/api/v1/bucketList/auth/register</code> to GET. and hence you see the error</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411953d5e020421324" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{"code":"MethodNotAllowedError","message":"GET is not allowed"}
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411953d5e020421324-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411953d5e020421324-2">2</div><div class="crayon-num" data-line="crayon-5a10411953d5e020421324-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411953d5e020421324-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411953d5e020421324-2"><span class="crayon-sy">{</span><span class="crayon-s">"code"</span><span class="crayon-o">:</span><span class="crayon-s">"MethodNotAllowedError"</span><span class="crayon-sy">,</span><span class="crayon-s">"message"</span><span class="crayon-o">:</span><span class="crayon-s">"GET is not allowed"</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411953d5e020421324-3">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Please use postman or curl or any other REST client to access that end point.</p>
<p>And since we did not define any action on <code>'/'</code> or <code>`http://localhost:9804/'</code> end point with type GET, you see this error</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10411953d67884712689" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{"code":"ResourceNotFound","message":"/ does not exist"}
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10411953d67884712689-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10411953d67884712689-2">2</div><div class="crayon-num" data-line="crayon-5a10411953d67884712689-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10411953d67884712689-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10411953d67884712689-2"><span class="crayon-sy">{</span><span class="crayon-s">"code"</span><span class="crayon-o">:</span><span class="crayon-s">"ResourceNotFound"</span><span class="crayon-sy">,</span><span class="crayon-s">"message"</span><span class="crayon-o">:</span><span class="crayon-s">"/ does not exist"</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10411953d67884712689-3">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-302">
<div id="dsq-comment-header-302" class="dsq-comment-header">
<cite id="dsq-cite-302">
http://guizishanren.com/                <span id="dsq-author-user-302">Herbert Yang</span>
</cite>
</div>
<div id="dsq-comment-body-302" class="dsq-comment-body">
<div id="dsq-comment-message-302" class="dsq-comment-message"><p>Got it. Thank you Arvind!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-303">
<div id="dsq-comment-header-303" class="dsq-comment-header">
<cite id="dsq-cite-303">
./                <span id="dsq-author-user-303">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-303" class="dsq-comment-body">
<div id="dsq-comment-message-303" class="dsq-comment-message"><p>Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-256">
<div id="dsq-comment-header-256" class="dsq-comment-header">
<cite id="dsq-cite-256">
<span id="dsq-author-user-256">weinan</span>
</cite>
</div>
<div id="dsq-comment-body-256" class="dsq-comment-body">
<div id="dsq-comment-message-256" class="dsq-comment-message"><p>Hi Arvind, thanks for the tutorial. Manage to deploy it onto openshift for testing. I have lost touch with programming for over 3-4 years. Your tutorial provide an easy to follow learning. I hope based on your tutorial I can develop something more complex. By the way, you mentioned that if this app were to go production, we need to change the user authentication method, i&#8217;m not really understand about this. could you tell me where can i learn user authentication for production app?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-257">
<div id="dsq-comment-header-257" class="dsq-comment-header">
<cite id="dsq-cite-257">
./                <span id="dsq-author-user-257">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-257" class="dsq-comment-body">
<div id="dsq-comment-message-257" class="dsq-comment-message"><p>Thanks weinan! Good to know that. If you are done with this tutorial, you can checkout building Hybrids with Firebase as backed (link at the top of this article).</p>
<p>Coming to User authentication, When a request comes to our server, we need to check if that is legit request from our &#8220;own&#8221; client. For that, in the above app, we are using the email id as a &#8220;authentication token&#8221;. If the token is a valid email address and if that email address is present in our DB we assume that the request is from a legit client. </p>
<p>The security threat is that, any user can sniff the URL we are sending the data to and the format. If the &#8220;hacker&#8221; starts a hit and trial with a few email address and was successful to get the data of any user, the app is no more secure. This is fine for a test app.</p>
<p>In your production app, I would suggest using OAuth 2.0. </p>
<p>The concept is pretty simple. When a client make first contact with a server, It needs to &#8220;register&#8221; with the server for that session (with an API key registered to that client, which is known only to the clients of our App). So on first contact, the server tracks the client, stores its details and generates a token with a validity (1 hour or 1 day or 1 year). This token is stored in DB or a file, which will be used to validate the authenticity of the client later. Once the client receives the token, it can start making actual API calls with token as in the cookie or a request header, depending on how the Server API understands requests. </p>
<p>Once the server receives a request, it will first check if the token from the request is valid &amp; not expired and then serve the request. If the token is invalid/expired, the server will return a 403 &#8211; Forbidden. To make your app more secure, keep the token expiration for a short duration like a minute. So after a minute if the client needs to make a new API call, it needs to first get the token and then only it can fetch the actual data.  </p>
<p>This is the same implementation that goes with standard API services like Twitter API, Google API, GitHub API etc. You can read more here: <a href="http://en.wikipedia.org/wiki/OAuth" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://en.wikipedia.org/wiki/OAuth', 'http://en.wikipedia.org/wiki/OAuth');" rel="nofollow">http://en.wikipedia.org/wiki/OAuth</a></p>
<p>Do let me know if you need any more clarification.</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-260">
<div id="dsq-comment-header-260" class="dsq-comment-header">
<cite id="dsq-cite-260">
<span id="dsq-author-user-260">weinan</span>
</cite>
</div>
<div id="dsq-comment-body-260" class="dsq-comment-body">
<div id="dsq-comment-message-260" class="dsq-comment-message"><p>Hi Arvind, I took a look on firebase article you wrote. I registered a firebase account, downloaded your code onto my pc, modify the firebase url and build a android app out of it. Beside the sign in function, all other feature just work with a single step of updating firebase url. I checked my firebase data, all the data appear in the database.<br />
One thing that seems odd is the sign in function is not working on native but working when i do &#8220;ionic serve&#8221;<br />
May I check, with the firebase, the validation you provided is good enough for production? or still have to do OAuth 2.0?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-262">
<div id="dsq-comment-header-262" class="dsq-comment-header">
<cite id="dsq-cite-262">
./                <span id="dsq-author-user-262">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-262" class="dsq-comment-body">
<div id="dsq-comment-message-262" class="dsq-comment-message"><p>Hi weinan,</p>
<p>Can you try installing the ready installer available at <a href="https://build.phonegap.com/apps/943461/share" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://build.phonegap.com/apps/943461/share', 'https://build.phonegap.com/apps/943461/share');" rel="nofollow">https://build.phonegap.com/apps/943461/share</a> and test? </p>
<p>Firebase authentication is pretty good and is production grade. You can know more about Firebase security model here : <a href="https://www.firebase.com/docs/security-quickstart.html" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://www.firebase.com/docs/security-quickstart.html', 'https://www.firebase.com/docs/security-quickstart.html');" rel="nofollow">https://www.firebase.com/docs/security-quickstart.html</a></p>
<p>oAuth 2.0 is not needed when you are using Firebase authentication.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-160">
<div id="dsq-comment-header-160" class="dsq-comment-header">
<cite id="dsq-cite-160">
<span id="dsq-author-user-160">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-160" class="dsq-comment-body">
<div id="dsq-comment-message-160" class="dsq-comment-message"><p>Very cool. I did some updates and split out the server versus client to showcase the differences for myself and others, using AWS and MongoLabs. But a very informative tutorial.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-161">
<div id="dsq-comment-header-161" class="dsq-comment-header">
<cite id="dsq-cite-161">
./                <span id="dsq-author-user-161">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-161" class="dsq-comment-body">
<div id="dsq-comment-message-161" class="dsq-comment-message"><p>Cool. Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-172">
<div id="dsq-comment-header-172" class="dsq-comment-header">
<cite id="dsq-cite-172">
<span id="dsq-author-user-172">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-172" class="dsq-comment-body">
<div id="dsq-comment-message-172" class="dsq-comment-message"><p>Arvind, I was wondering if you&#8217;ve broken it out further to have an edit controller? I&#8217;ve figured out the approach for the API to do an update to an &#8220;item&#8221; per &#8220;_id&#8221;, but having a tough time getting the edit contoller there. What I was working on was having an &#8220;edit&#8221; button, which opens a box, similar to &#8220;new&#8221; so that you can see the &#8220;item&#8221; in the box and update it. Any ideas? Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-173">
<div id="dsq-comment-header-173" class="dsq-comment-header">
<cite id="dsq-cite-173">
./                <span id="dsq-author-user-173">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-173" class="dsq-comment-body">
<div id="dsq-comment-message-173" class="dsq-comment-message"><p>Mark Chiles  I have not tried the below solution, but this should work.</p>
<p>Server<br />
&#8212;&#8212;&#8211;<br />
On the server, as you have mentioned, you can use the put controller (<a href="https://github.com/arvindr21/BucketListApp/blob/master/dev/server/list/manageList.js#L46" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/server/list/manageList.js#L46', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/server/list/manageList.js#L46');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/dev/server/list/manageList.js#L46</a>) as is and post the data to this end point. The put code is written in such a way that, the value of the existing record will be the overwritten by the values from the request params. This takes care of the server.</p>
<p>Client<br />
&#8212;&#8212;-<br />
Coming to client, first thing you need to do is create a template similar to the &#8216;newitem.html&#8217; (<a href="https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/templates/newItem.html" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/templates/newItem.html', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/templates/newItem.html');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/templates/newItem.html</a>). This will hold the form where you will show the item in edit mode.</p>
<p>You can show just the name of the item or you can show both the name of the item as well as isCompleted property, up to you. Once this is done, you will point the template to our edit controller (ng-controller=&#8221;editCtrl&#8221;).</p>
<p>Next, we will update our edit template with a new icon or button like <i></i> and you would pass the id and item text to the edit item method. </p>
<p>Next, In the &#8216;myListCtrl&#8217;, you will add code (<a href="https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L95" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L95', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L95');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L95</a>) to load the template. But here inside the editItem method, we will dump the current item&#8217;s id and text and then show the popup</p>
<p>$scope.editItem = function (id, text) {<br />
$scope.data = {<br />
id : id,<br />
text : text<br />
}<br />
$scope.editTemplate.show();<br />
};</p>
<p>And since our edit template is already mapped to the data.item model, using ng-model=&#8221;data.item&#8221;, the value will automatically show up (2 way databinding). </p>
<p>Finally in our editCtrl, (similar to newCtrl <a href="https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L187" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L187', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L187');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L187</a>) you can fire the put request using the existing put service (<a href="https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L111" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L111', 'https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L111');" rel="nofollow">https://github.com/arvindr21/BucketListApp/blob/master/dev/client/bucketListApp/www/js/controllers.js#L111</a>).</p>
<p>Hope this helps.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-5" id="dsq-comment-177">
<div id="dsq-comment-header-177" class="dsq-comment-header">
<cite id="dsq-cite-177">
<span id="dsq-author-user-177">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-177" class="dsq-comment-body">
<div id="dsq-comment-message-177" class="dsq-comment-message"><p>Thanks, Arvind. I&#8217;ve got everything there, but the trouble I&#8217;m having, for whatever reason, is getting the item._id and item.item to show up on the edit page. The controller is there and working, yet the &#8220;id&#8221; is undefined, obviously since it&#8217;s not showing up. Any further thoughts? Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-178">
<div id="dsq-comment-header-178" class="dsq-comment-header">
<cite id="dsq-cite-178">
./                <span id="dsq-author-user-178">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-178" class="dsq-comment-body">
<div id="dsq-comment-message-178" class="dsq-comment-message"><p>Can you try putting breakpoint or alert inside the $scope.editItem = function (id, text) {} ?<br />
Just to check if the values are coming till here.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-179">
<div id="dsq-comment-header-179" class="dsq-comment-header">
<cite id="dsq-cite-179">
<span id="dsq-author-user-179">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-179" class="dsq-comment-body">
<div id="dsq-comment-message-179" class="dsq-comment-message"><p>Yes, they are showing up with an alert script.</p>
<p>$scope.alert = function(){</p>
<p>                 alert(&#8216;Hi &#8216; + $scope.data.id);</p>
<p>               }<br />
$scope.alert();</p>
<p>Does give me the correct ObjectId in the popup alert.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-180">
<div id="dsq-comment-header-180" class="dsq-comment-header">
<cite id="dsq-cite-180">
./                <span id="dsq-author-user-180">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-180" class="dsq-comment-body">
<div id="dsq-comment-message-180" class="dsq-comment-message"><p>Cool Thats half the battle won! Next, can you confirm if your input tag is </p>
<p>&#8212; having the ng-model value as data.item and not just item.<br />
And also, you have the </p>
<p>ng-controller=&#8221;editCtrl&#8221;</p>
<p>directive added to the template.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-181">
<div id="dsq-comment-header-181" class="dsq-comment-header">
<cite id="dsq-cite-181">
<span id="dsq-author-user-181">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-181" class="dsq-comment-body">
<div id="dsq-comment-message-181" class="dsq-comment-message"><p>Yep, those are it.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-182">
<div id="dsq-comment-header-182" class="dsq-comment-header">
<cite id="dsq-cite-182">
./                <span id="dsq-author-user-182">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-182" class="dsq-comment-body">
<div id="dsq-comment-message-182" class="dsq-comment-message"><p>Hmm.. Strange. Is there a chance I can see the code? Probably a Github link?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-183">
<div id="dsq-comment-header-183" class="dsq-comment-header">
<cite id="dsq-cite-183">
<span id="dsq-author-user-183">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-183" class="dsq-comment-body">
<div id="dsq-comment-message-183" class="dsq-comment-message"><p>Sure. I&#8217;m sure it most likely has to do with my controllers.js file. <a href="https://github.com/mechiles/bucketListClientDev" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/mechiles/bucketListClientDev', 'https://github.com/mechiles/bucketListClientDev');" rel="nofollow">https://github.com/mechiles/bucketListClientDev</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-185">
<div id="dsq-comment-header-185" class="dsq-comment-header">
<cite id="dsq-cite-185">
./                <span id="dsq-author-user-185">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-185" class="dsq-comment-body">
<div id="dsq-comment-message-185" class="dsq-comment-message"><p>@markchiles:disqus  You can find the updated code here : <a href="https://github.com/arvindr21/bucketListClientDev" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/bucketListClientDev', 'https://github.com/arvindr21/bucketListClientDev');" rel="nofollow">https://github.com/arvindr21/bucketListClientDev</a><br />
The caveat here is this<br />
<a href="https://github.com/arvindr21/bucketListClientDev/blob/master/js/controllers.js#L100" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/arvindr21/bucketListClientDev/blob/master/js/controllers.js#L100', 'https://github.com/arvindr21/bucketListClientDev/blob/master/js/controllers.js#L100');" rel="nofollow">https://github.com/arvindr21/bucketListClientDev/blob/master/js/controllers.js#L100</a></p>
<p> $ionicModal.fromTemplateUrl(&#8216;templates/editItem.html&#8217;, function(modal) {<br />
$scope.editTemplate = modal;<br />
}, {<br />
scope: $scope,<br />
focusFirstInput: true<br />
});</p>
<p>This will inject the scope to the popup. Now all the modal bindings will work as expected.<br />
Note: The code has some issue with closing the popup.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-187">
<div id="dsq-comment-header-187" class="dsq-comment-header">
<cite id="dsq-cite-187">
<span id="dsq-author-user-187">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-187" class="dsq-comment-body">
<div id="dsq-comment-message-187" class="dsq-comment-message"><p>Thanks. I was on the right track. Got all of the elements working now, including the closing modal windows and some css clean up.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-188">
<div id="dsq-comment-header-188" class="dsq-comment-header">
<cite id="dsq-cite-188">
./                <span id="dsq-author-user-188">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-188" class="dsq-comment-body">
<div id="dsq-comment-message-188" class="dsq-comment-message"><p>Awesome. Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-189">
<div id="dsq-comment-header-189" class="dsq-comment-header">
<cite id="dsq-cite-189">
<span id="dsq-author-user-189">Mark Chiles</span>
</cite>
</div>
<div id="dsq-comment-body-189" class="dsq-comment-body">
<div id="dsq-comment-message-189" class="dsq-comment-message"><p>It&#8217;s update here: <a href="https://github.com/mechiles/bucketListClientDev" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/mechiles/bucketListClientDev', 'https://github.com/mechiles/bucketListClientDev');" rel="nofollow">https://github.com/mechiles/bucketListClientDev</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-190">
<div id="dsq-comment-header-190" class="dsq-comment-header">
<cite id="dsq-cite-190">
./                <span id="dsq-author-user-190">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-190" class="dsq-comment-body">
<div id="dsq-comment-message-190" class="dsq-comment-message"><p>Thanks @markchiles:disqus  Forked it for future reference.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-155">
<div id="dsq-comment-header-155" class="dsq-comment-header">
<cite id="dsq-cite-155">
<span id="dsq-author-user-155">ImINaBAR</span>
</cite>
</div>
<div id="dsq-comment-body-155" class="dsq-comment-body">
<div id="dsq-comment-message-155" class="dsq-comment-message"><p>Done! Awesome, I&#8217;ve learnt lot, hand typed everythig, so I had a lot of bugs to bust, which means more learning.<br />
Thanks a lot.<br />
One last thing though:<br />
on the <code>server/aut/manageUser.js</code> file, if you try to log in through <code>server.post('/api/v1/bucketList/auth/login'</code> with a non existent email.<br />
<code><br />
db.appUsers.findOne({<br />
email: req.params.email<br />
}, function (err, dbUser) {<br />
console.log(err,dbUser);//outputs: null,null (which is supposed to happen)</p>
<p>//here be errors<br />
});<br />
</code><br />
that will provoque an undefined error in the following line, and a subsequent error 500 in the server. What I did to prevent that is the following.<br />
<code><br />
db.appUsers.findOne({<br />
email: req.params.email<br />
}, function (err, dbUser) {<br />
if(!dbUser){//if the database finds no email, it will return null, but any falsey will also mean something's amiss<br />
res.writeHead(403, contentTypeTipo);<br />
res.end(JSON.stringify({<br />
error: 'Invalid credentials. User not found.'<br />
}));<br />
}</p>
<p>    //hre were errors<br />
});<br />
</code> </p>
<p>then again, I&#8217;m new at this.<br />
I won&#8217;t bug you anymore&#8230; in this article at least. I see you are frequently posting really good articles.<br />
Now I&#8217;ll build what I wanted to build from the start, which I was about to do in Sencha Touch, but figured that I should learn some Angularjs.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-156">
<div id="dsq-comment-header-156" class="dsq-comment-header">
<cite id="dsq-cite-156">
./                <span id="dsq-author-user-156">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-156" class="dsq-comment-body">
<div id="dsq-comment-message-156" class="dsq-comment-message"><p>Great! Thanks for the code to handle non existent email.<br />
And all the best on your Quest. May the force be with you! <img src="./wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-136">
<div id="dsq-comment-header-136" class="dsq-comment-header">
<cite id="dsq-cite-136">
<span id="dsq-author-user-136">ImINaBAR</span>
</cite>
</div>
<div id="dsq-comment-body-136" class="dsq-comment-body">
<div id="dsq-comment-message-136" class="dsq-comment-message"><p>Noted something:<br />
The code on the <code>services.js</code> file, on line: <code>67</code><br />
the path shown is:<br />
<code>'/api/v1/bucketList/data/list/'+id</code><br />
Shouldn&#8217;t it be <code>'/api/v1/bucketList/data/item/'+id</code> ?<br />
I&#8217;m inching my way through this, because I&#8217;m typing by hand and reading the docs on almost every method I encounter.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-137">
<div id="dsq-comment-header-137" class="dsq-comment-header">
<cite id="dsq-cite-137">
./                <span id="dsq-author-user-137">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-137" class="dsq-comment-body">
<div id="dsq-comment-message-137" class="dsq-comment-message"><p>Nice catch! I don&#8217;t know how I missed it!<br />
Fixed it now.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-132">
<div id="dsq-comment-header-132" class="dsq-comment-header">
<cite id="dsq-cite-132">
<span id="dsq-author-user-132">ImINaBAR</span>
</cite>
</div>
<div id="dsq-comment-body-132" class="dsq-comment-body">
<div id="dsq-comment-message-132" class="dsq-comment-message"><p>Maybe I&#8217;m the only one with a windows machine, but I couldn&#8217;t <code>npm install bcrypt</code> on win 7, tried building it locally (as sugested here: <a href="http://stackoverflow.com/questions/10153317/cannot-install-bcrypt-node-js-module-on-centos-server/10568427#10568427" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://stackoverflow.com/questions/10153317/cannot-install-bcrypt-node-js-module-on-centos-server/10568427#10568427', 'http://stackoverflow.com/questions/10153317/cannot-install-bcrypt-node-js-module-on-centos-server/10568427#10568427');" rel="nofollow">http://stackoverflow.com/questions/10153317/cannot-install-bcrypt-node-js-module-on-centos-server/10568427#10568427</a>), but I&#8217;m missing Python and am not in the mood of installing yet another something, so I&#8217;m trying with <code>bcrypt-nodejs</code> which should work similarly, I&#8217;ll post here how it goes.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-133">
<div id="dsq-comment-header-133" class="dsq-comment-header">
<cite id="dsq-cite-133">
./                <span id="dsq-author-user-133">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-133" class="dsq-comment-body">
<div id="dsq-comment-message-133" class="dsq-comment-message"><p>Cool.. Any luck with bcrypt-nodejs?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-134">
<div id="dsq-comment-header-134" class="dsq-comment-header">
<cite id="dsq-cite-134">
<span id="dsq-author-user-134">ImINaBAR</span>
</cite>
</div>
<div id="dsq-comment-body-134" class="dsq-comment-body">
<div id="dsq-comment-message-134" class="dsq-comment-message"><p>Not ideal but I got it working synchronously.<br />
<code>.genSalt()</code> and <code>.hash()</code> methods failed giving an error 500 in the server and no further error message.<br />
But using <code>.genSaltSync()</code> and <code>.hashSync()</code> worked fine, so the cryptoPassword method looks like this:<br />
<code><br />
module.exports.cryptPassword = function (password, callback) {<br />
return callback(null, bcrypt.hashSync(password, bcrypt.genSaltSync()));<br />
};<br />
</code></p>
<p>Still working through this great tutorial, I&#8217;m learning a lot (never coded for node before).</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-135">
<div id="dsq-comment-header-135" class="dsq-comment-header">
<cite id="dsq-cite-135">
./                <span id="dsq-author-user-135">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-135" class="dsq-comment-body">
<div id="dsq-comment-message-135" class="dsq-comment-message"><p>Cool. Thanks for sharing. Glad that you are having fun. Let me see if I simplify the auth for windows.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-112">
<div id="dsq-comment-header-112" class="dsq-comment-header">
<cite id="dsq-cite-112">
<span id="dsq-author-user-112">iplaksiy</span>
</cite>
</div>
<div id="dsq-comment-body-112" class="dsq-comment-body">
<div id="dsq-comment-message-112" class="dsq-comment-message"><p>Hi Arvind, thank you for putting this tutorial together. It was very detailed and very easy to follow along. I was wondering if you could create a Part 2 and continue the steps needed to actually deploy the application past the local environment and into an emulator and/or device. You included a paragraph on the steps to do so, including some links, but it has proven rather difficult to switch from your detailed teaching method to the other sources you have included (e.g. Heroku walkthrough), if not frustrating.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-115">
<div id="dsq-comment-header-115" class="dsq-comment-header">
<cite id="dsq-cite-115">
./                <span id="dsq-author-user-115">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-115" class="dsq-comment-body">
<div id="dsq-comment-message-115" class="dsq-comment-message"><p>Hello iplaksiy, Thanks much!!. </p>
<p>For the server deployment, I have written an article (upon your request :)) as how to deploy a Node application to Heroku (<a href="./deploying-node-application/" rel="nofollow">./deploying-node-application/</a>) you can refer that to host your application. </p>
<p>For the Ionic App, please follow this (<a href="./phonegap-quick-start/" rel="nofollow">./phonegap-quick-start/</a>) to deploy the app on PhoneGap Build. Once that is done, you can download device installers. </p>
<p>If you are still facing issues, do let me know.</p>
<p>Thanks,<br />
Arvind.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-2" id="dsq-comment-116">
<div id="dsq-comment-header-116" class="dsq-comment-header">
<cite id="dsq-cite-116">
./                <span id="dsq-author-user-116">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-116" class="dsq-comment-body">
<div id="dsq-comment-message-116" class="dsq-comment-message"><p>Hello iplaksiy, Thanks much!!.</p>
<p>For the server deployment, I have written an article (upon your request :)) as how to deploy a Node application to Heroku : <a href="./deploying-node-application" rel="nofollow">./deploying-node-application</a> you can refer that to host your application.</p>
<p>For the Ionic App, please follow this post : <a href="./phonegap-quick-start" rel="nofollow">./phonegap-quick-start</a> to deploy the app on PhoneGap Build. Once that is done, you can download device installers.</p>
<p>If you are still facing issues, do let me know.</p>
<p>Thanks,<br />
Arvind.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-119">
<div id="dsq-comment-header-119" class="dsq-comment-header">
<cite id="dsq-cite-119">
<span id="dsq-author-user-119">iplaksiy</span>
</cite>
</div>
<div id="dsq-comment-body-119" class="dsq-comment-body">
<div id="dsq-comment-message-119" class="dsq-comment-message"><p>Wow! That was fast and is exactly what I had in mind!</p>
<p>Thanks again and much appreciated!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-120">
<div id="dsq-comment-header-120" class="dsq-comment-header">
<cite id="dsq-cite-120">
./                <span id="dsq-author-user-120">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-120" class="dsq-comment-body">
<div id="dsq-comment-message-120" class="dsq-comment-message"><p>Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-110">
<div id="dsq-comment-header-110" class="dsq-comment-header">
<cite id="dsq-cite-110">
<span id="dsq-author-user-110">spex86</span>
</cite>
</div>
<div id="dsq-comment-body-110" class="dsq-comment-body">
<div id="dsq-comment-message-110" class="dsq-comment-message"><p>Awesome tutorial! I broke this out into a few days so I could research more on each section as I went along, but this is a serious intro to end-to-end hybrid app development. Well done and thanks for writing it all up!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-111">
<div id="dsq-comment-header-111" class="dsq-comment-header">
<cite id="dsq-cite-111">
./                <span id="dsq-author-user-111">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-111" class="dsq-comment-body">
<div id="dsq-comment-message-111" class="dsq-comment-message"><p>Thanks spex86. Glad I could be of help!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-98">
<div id="dsq-comment-header-98" class="dsq-comment-header">
<cite id="dsq-cite-98">
./                <span id="dsq-author-user-98">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-98" class="dsq-comment-body">
<div id="dsq-comment-message-98" class="dsq-comment-message"><p>Awesome Ron! And Thanks for the kind words. Really happy that this post was helpful.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-96">
<div id="dsq-comment-header-96" class="dsq-comment-header">
<cite id="dsq-cite-96">
http://www.realtidings.com/                <span id="dsq-author-user-96">Ron Northcutt</span>
</cite>
</div>
<div id="dsq-comment-body-96" class="dsq-comment-body">
<div id="dsq-comment-message-96" class="dsq-comment-message"><p>Wow &#8211; fantastic tutorial! I used this as a guide to help me build a basic Todo app in about 5 hours for my DOPE project at work. I&#8217;ve got experience with sysadmin, so I created my own server with Digital ocean, but otherwise I had no experience with Node, MongoDb, Ionic, or Angular JS. I&#8217;m mostly a PHP dev.</p>
<p>Still, this made it very easy for me to create my own app, and the experience has excited me about another project I want to begin. Thank you so much for putting this together!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-99">
<div id="dsq-comment-header-99" class="dsq-comment-header">
<cite id="dsq-cite-99">
./                <span id="dsq-author-user-99">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-99" class="dsq-comment-body">
<div id="dsq-comment-message-99" class="dsq-comment-message"><p>Awesome Ron! And Thanks for those kind words. Really happy that this post was helpful.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-2" id="dsq-comment-126">
<div id="dsq-comment-header-126" class="dsq-comment-header">
<cite id="dsq-cite-126">
<span id="dsq-author-user-126">ImINaBAR</span>
</cite>
</div>
<div id="dsq-comment-body-126" class="dsq-comment-body">
<div id="dsq-comment-message-126" class="dsq-comment-message"><p>Wow, Ron, your comment has inspired me to follow your steps, I come from a PHP background also. I&#8217;ll let you know how it goes.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-2" id="dsq-comment-212">
<div id="dsq-comment-header-212" class="dsq-comment-header">
<cite id="dsq-cite-212">
<span id="dsq-author-user-212">Jose Faro</span>
</cite>
</div>
<div id="dsq-comment-body-212" class="dsq-comment-body">
<div id="dsq-comment-message-212" class="dsq-comment-message"><p>Awesome and awesome, I am coming frm php too.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul>
</div>
</div>
<script src="/cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = './an-end-to-end-hybrid-app/';
var disqus_identifier = '1241 ./?p=1241';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Ionic Restify MongoDB &#8211; An End to End Hybrid App";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
/*
All currently supported events:
onReady: fires when everything is ready,
onNewComment: fires when a new comment is posted,
onIdentify: fires when user is authenticated
*/
this.language = '';
this.callbacks.onReady.push(function () {
// sync comments in the background so we don't block the page
var script = document.createElement('script');
script.async = true;
script.src = '?cf_action=sync_comments&post_id=1241';
var firstScript = document.getElementsByTagName('script')[0];
firstScript.parentNode.insertBefore(script, firstScript);
});
if (disqus_config_custom) {
disqus_config_custom.call(this);
}
};
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</main><!-- #main -->
</div><!-- #primary -->
<div id="secondary" class="widget-area" role="complementary">
<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="./">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}
.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(./wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(./wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(./wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(./wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="./wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="./portfolio/">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
<a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="./rotten-tomatoes-jquery-rest-client/" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="./uploading-files-made-fun/" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
<div class="latest-series"><ul><li><a href="./series/a-reminder-app/" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="./series/node-webkit-apps/" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="./series/rpi/" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>
<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>
<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>
<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>
</ul></div>
</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="./architecting-a-restful-node-js-app/"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,318 views</li><li><a href="./getting-started-with-angular-2-0/"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,582 views</li><li><a href="./developing-a-mean-app-with-angular-2-0/"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,713 views</li><li><a href="./getting-started-with-node-webkit-apps/"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,571 views</li><li><a href="./rpi-live-streaming/"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 91,974 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
<li>
<a href="./learning-ionic/">Learning Ionic</a>
</li>
<li>
<a href="./electron-wordpress-angular-material-an-offline-viewer/">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
</li>
<li>
<a href="./developing-a-mean-app-with-angular-2-0/">Developing a MEAN app with Angular 2.0</a>
</li>
<li>
<a href="./pushbots-and-cordova/">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
</li>
<li>
<a href="./getting-started-with-client-side-storage/">Getting Started with Client Side Storage</a>
</li>
</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
<li class="cat-item cat-item-141"><a href="./architecture/" >Architecture</a> (8)
</li>
<li class="cat-item cat-item-3"><a href="./css/" >CSS</a> (9)
<ul class='children'>
<li class="cat-item cat-item-5"><a href="./css/css3/" >CSS3</a> (6)
</li>
<li class="cat-item cat-item-26"><a href="./css/less/" >LESS</a> (3)
</li>
<li class="cat-item cat-item-55"><a href="./css/sass/" >SASS</a> (1)
</li>
</ul>
</li>
<li class="cat-item cat-item-117"><a href="./database/" >Database</a> (17)
<ul class='children'>
<li class="cat-item cat-item-136"><a href="./database/disk-db/" >Disk DB</a> (6)
</li>
<li class="cat-item cat-item-131"><a href="./database/firebase/" >Firebase</a> (4)
</li>
<li class="cat-item cat-item-118"><a href="./database/mongodb/" >MongoDB</a> (8)
<ul class='children'>
<li class="cat-item cat-item-119"><a href="./database/mongodb/mongolab/" >MongoLab</a> (3)
</li>
<li class="cat-item cat-item-123"><a href="./database/mongodb/monk/" >Monk</a> (1)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-125"><a href="./deployments/" >Deployments</a> (4)
<ul class='children'>
<li class="cat-item cat-item-126"><a href="./deployments/heroku/" >Heroku</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-135"><a href="./desktop-apps/" >Desktop Apps</a> (8)
</li>
<li class="cat-item cat-item-155"><a href="./dna-analysis/" >DNA Analysis</a> (1)
</li>
<li class="cat-item cat-item-112"><a href="./es6/" >ECMAScript 6</a> (3)
</li>
<li class="cat-item cat-item-162"><a href="./electron-atom-shell/" >Electron (atom shell)</a> (1)
</li>
<li class="cat-item cat-item-25"><a href="./frameworks/" >Frameworks</a> (42)
<ul class='children'>
<li class="cat-item cat-item-160"><a href="./frameworks/angular-2-0/" >Angular 2.0</a> (2)
</li>
<li class="cat-item cat-item-108"><a href="./frameworks/angularjs/" >Angularjs</a> (21)
</li>
<li class="cat-item cat-item-132"><a href="./frameworks/backbonejs/" >Backbonejs</a> (1)
</li>
<li class="cat-item cat-item-105"><a href="./frameworks/bootstrap/" >Bootstrap</a> (9)
</li>
<li class="cat-item cat-item-159"><a href="./frameworks/emberjs/" >Emberjs</a> (1)
</li>
<li class="cat-item cat-item-56"><a href="./frameworks/foundation/" >Foundation</a> (3)
</li>
<li class="cat-item cat-item-110"><a href="./frameworks/framework7/" >Framework7</a> (1)
</li>
<li class="cat-item cat-item-107"><a href="./frameworks/ionic/" >Ionic</a> (11)
</li>
<li class="cat-item cat-item-157"><a href="./frameworks/lumx/" >Lumx</a> (1)
</li>
<li class="cat-item cat-item-138"><a href="./frameworks/mean/" >MEAN</a> (4)
</li>
<li class="cat-item cat-item-116"><a href="./frameworks/meteorjs/" >Meteorjs</a> (1)
</li>
<li class="cat-item cat-item-122"><a href="./frameworks/onsen-ui/" >Onsen UI</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-101"><a href="./git/" >Git</a> (12)
<ul class='children'>
<li class="cat-item cat-item-102"><a href="./git/github/" >GitHub</a> (10)
</li>
</ul>
</li>
<li class="cat-item cat-item-2"><a href="./html/" >HTML</a> (22)
<ul class='children'>
<li class="cat-item cat-item-4"><a href="./html/html5/" >HTML5</a> (21)
<ul class='children'>
<li class="cat-item cat-item-158"><a href="./html/html5/webrtc/" >WebRTC</a> (1)
</li>
<li class="cat-item cat-item-106"><a href="./html/html5/websockets/" >WebSockets</a> (6)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-137"><a href="./intels-app-ui/" >Intel&#039;s App UI</a> (1)
</li>
<li class="cat-item cat-item-143"><a href="./iot/" >IoT</a> (6)
</li>
<li class="cat-item cat-item-1"><a href="./javascript/" >Javascript</a> (75)
<ul class='children'>
<li class="cat-item cat-item-6"><a href="./javascript/jquery/" >jQuery</a> (14)
</li>
</ul>
</li>
<li class="cat-item cat-item-151"><a href="./material-design/" >Material Design</a> (3)
</li>
<li class="cat-item cat-item-99"><a href="./mobile/" >Mobile</a> (21)
<ul class='children'>
<li class="cat-item cat-item-103"><a href="./mobile/android/" >Android</a> (15)
</li>
<li class="cat-item cat-item-113"><a href="./mobile/firefox-os/" >Firefox OS</a> (2)
</li>
<li class="cat-item cat-item-104"><a href="./mobile/ios/" >iOS</a> (11)
</li>
<li class="cat-item cat-item-100"><a href="./mobile/phonegap/" >PhoneGap</a> (16)
</li>
</ul>
</li>
<li class="cat-item cat-item-149"><a href="./mqtt/" >MQTT</a> (1)
</li>
<li class="cat-item cat-item-163"><a href="./my-books/" >My Books</a> (1)
</li>
<li class="cat-item cat-item-45"><a href="./node/" >Node</a> (60)
<ul class='children'>
<li class="cat-item cat-item-152"><a href="./node/cli/" >CLI</a> (3)
</li>
<li class="cat-item cat-item-121"><a href="./node/expressjs/" >Expressjs</a> (18)
</li>
<li class="cat-item cat-item-156"><a href="./node/genome/" >Genome</a> (1)
</li>
<li class="cat-item cat-item-62"><a href="./node/grunt/" >Grunt</a> (8)
</li>
<li class="cat-item cat-item-124"><a href="./node/koa/" >Koa</a> (1)
</li>
<li class="cat-item cat-item-134"><a href="./node/node-webkit/" >Node Webkit</a> (7)
</li>
<li class="cat-item cat-item-54"><a href="./node/npm/" >NPM</a> (15)
</li>
<li class="cat-item cat-item-120"><a href="./node/restify/" >Restify</a> (3)
</li>
</ul>
</li>
<li class="cat-item cat-item-161"><a href="./push-notifications/" >Push Notifications</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="./quick-and-dirty/" >Quick and Dirty</a> (42)
</li>
<li class="cat-item cat-item-142"><a href="./raspberry-pi/" >Raspberry Pi</a> (9)
</li>
<li class="cat-item cat-item-60"><a href="./setup/" >Setup</a> (60)
</li>
<li class="cat-item cat-item-61"><a href="./testing/" >Testing</a> (5)
<ul class='children'>
<li class="cat-item cat-item-129"><a href="./testing/jasmine/" >Jasmine</a> (1)
</li>
<li class="cat-item cat-item-128"><a href="./testing/protractor/" >Protractor</a> (1)
</li>
<li class="cat-item cat-item-98"><a href="./testing/test-automation/" >Test Automation</a> (1)
</li>
<li class="cat-item cat-item-41"><a href="./testing/tdd/" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-139"><a href="./third-party-products/" >Third Party Products</a> (4)
<ul class='children'>
<li class="cat-item cat-item-140"><a href="./third-party-products/twilio/" >Twilio</a> (4)
</li>
</ul>
</li>
<li class="cat-item cat-item-58"><a href="./tutorial/" >Tutorial</a> (79)
</li>
<li class="cat-item cat-item-130"><a href="./performance-analysis/" >UI Performance</a> (1)
</li>
<li class="cat-item cat-item-109"><a href="./web-components/" >Web Components</a> (3)
</li>
<li class="cat-item cat-item-133"><a href="./google-web-starter-kit/" >Web Starter Kit</a> (1)
</li>
</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
<li><a href='./2015/07/'>July 2015</a></li>
<li><a href='./2015/05/'>May 2015</a></li>
<li><a href='./2015/04/'>April 2015</a></li>
<li><a href='./2015/03/'>March 2015</a></li>
<li><a href='./2015/02/'>February 2015</a></li>
<li><a href='./2015/01/'>January 2015</a></li>
<li><a href='./2014/12/'>December 2014</a></li>
<li><a href='./2014/11/'>November 2014</a></li>
<li><a href='./2014/10/'>October 2014</a></li>
<li><a href='./2014/09/'>September 2014</a></li>
<li><a href='./2014/08/'>August 2014</a></li>
<li><a href='./2014/07/'>July 2014</a></li>
<li><a href='./2014/06/'>June 2014</a></li>
<li><a href='./2014/05/'>May 2014</a></li>
<li><a href='./2014/04/'>April 2014</a></li>
<li><a href='./2014/03/'>March 2014</a></li>
<li><a href='./2014/02/'>February 2014</a></li>
</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
<label>Email <span class="wysija-required">*</span></label>
<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
<span class="abs-req">
<input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
</span>
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />
<input type="hidden" name="form_id" value="1" />
<input type="hidden" name="action" value="save" />
<input type="hidden" name="controller" value="subscribers" />
<input type="hidden" value="1" name="wysija-page" />
<input type="hidden" name="wysija[user_list][list_ids]" value="3" />
</form></div></aside>	</div><!-- #secondary -->
	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
var s = document.getElementsByTagName('script')[0]
, p = document.createElement('script');
p.async = 'async';
p.src = '//rum-static.pingdom.net/prum.min.js';
s.parentNode.insertBefore(p, s);
})();
</script>
</div><!-- #content -->
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="site-info">
All Rights Reserved
<span class="sep"> | </span>
The Jackal of Javascript
</div><!-- .site-info -->
<div class="rnd-circle" style="
background: black;
width: 10px;
height: 10px;
border-radius: 50%;
"></div>
</footer><!-- #colophon -->
</div><!-- #page -->
<script type='text/javascript'><!--
var seriesdropdown = document.getElementById("orgseries_dropdown");
if (seriesdropdown) {
function onSeriesChange() {
if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
location.href = "./series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
}
}
seriesdropdown.onchange = onSeriesChange;
}
--></script>
<script type="text/javascript">
// <![CDATA[
var disqus_shortname = 'thejackalofjavascriptcom';
(function () {
var nodes = document.getElementsByTagName('span');
for (var i = 0, url; i < nodes.length; i++) {
if (nodes[i].className.indexOf('dsq-postid') != -1) {
nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
url = nodes[i].parentNode.href.split('#', 1);
if (url.length == 1) { url = url[0]; }
else { url = url[1]; }
nodes[i].parentNode.href = url + '#disqus_thread';
}
}
var s = document.createElement('script'); 
s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
// ]]>
</script>
<div class="scroll-back-to-top-wrapper">
<span class="scroll-back-to-top-inner">
<i class="fa fa-2x fa-arrow-circle-up"></i>
</span>
</div>
<style type="text/css">
#wpfront-notification-bar 
{
background: #242d36;
background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
}
#wpfront-notification-bar div.wpfront-message
{
color: #ffffff;
}
#wpfront-notification-bar a.wpfront-button
{
background: #f45145;
background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );
color: #ffffff;
}
#wpfront-notification-bar-open-button
{
background-color: #00b7ea;
}
#wpfront-notification-bar  div.wpfront-close 
{
border: 1px solid #555555;
background-color: #555555;
color: #000000;
}
#wpfront-notification-bar  div.wpfront-close:hover 
{
border: 1px solid #aaaaaa;
background-color: #aaaaaa;
}
</style>
<div id="wpfront-notification-bar-spacer"  style="display: none;">
<div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
<div id="wpfront-notification-bar" class="wpfront-fixed ">
<div class="wpfront-close">X</div>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<div class="wpfront-message">
Learn your way around Ionic framework. Check out Learning Ionic!                     </div>
<div>
<a class="wpfront-button" href="https://www.packtpub.com/application-development/learning-ionic/?utm_source=Jkthejackalofjavascript&utm_medium=referral&utm_campaign=1783552603"  target="_blank" >Buy</a>
</div>
</td>
</tr>
</table>
</div>
</div>
<style type="text/css">
.wpfront-message{line-height:27px; vertical-align:baseline !important;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><script type='text/javascript' src='./wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='./wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":".\/wp-admin\/admin-ajax.php","post_id":"1241"};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='./wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='./wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='./wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='./wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='./wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script type="text/javascript">
jQuery.noConflict();
(function( $ ) {
$(function() {
// More code using $ as alias to jQuery
$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top - 20  
},900 ,'easeOutQuint');
return false;
}
}
});
});
})(jQuery);	
</script>				
<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
_stq = window._stq || [];
_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'1241',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
_stq.push([ 'clickTrackerInit', '70838519', '1241' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="./journey-of-a-firefox-os-app/" rel="Ionic Restify MongoDB &#8211; An End to End Hybrid App">Journey of a FireFox OS App</a></h5><p>FireFox OS App Development In this post, we will see how to create a Firefox OS app using a Yeoman...</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47881846-1', 'auto');
ga('send', 'pageview');
</script>
<a style="display:none;" href="http://www.alexa.com/siteinfo/./"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=./"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- WP Fastest Cache file was created in 8.52608990669 seconds, on 18-11-17 14:18:08 -->