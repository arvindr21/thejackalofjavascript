<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="./../xmlrpc.php">
<!-- <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
<link rel="shortcut icon" href="./../wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="./../wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/61cc3c87f2aa625d55d3026ecc452e96/1511014149index.css" media="all"/>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />
<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Raspberry Pi, Camera and Node.js - Live Streaming with Websockets #IoT | The Jackal of Javascript</title>
<meta name="description" content="A few days ago Bala Kolluru has reached out to me asking if we can control a Raspberry Pi camera module using Web browser, so he can start a live streaming"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="./index.html" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Raspberry Pi, Camera and Node.js - Live Streaming with Websockets #IoT | The Jackal of Javascript" />
<meta property="og:description" content="A few days ago Bala Kolluru has reached out to me asking if we can control a Raspberry Pi camera module using Web browser, so he can start a live streaming" />
<meta property="og:url" content="./rpi-live-streaming/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Expressjs" />
<meta property="article:published_time" content="2014-10-26T20:54:29+05:30" />
<meta property="article:modified_time" content="2015-01-25T09:29:26+05:30" />
<meta property="og:updated_time" content="2015-01-25T09:29:26+05:30" />
<meta property="og:image" content="./wp-content/uploads/2015/04/AAEAAQAAAAAAAAIvAAAAJDdhMmNhODJhLWFhODMtNGMwYy1iZmUyLTNkMTU3ZDY5MWE1MA.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="A few days ago Bala Kolluru has reached out to me asking if we can control a Raspberry Pi camera module using Web browser, so he can start a live streaming" />
<meta name="twitter:title" content="Raspberry Pi, Camera and Node.js - Live Streaming with Websockets #IoT | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="./wp-content/uploads/2015/04/AAEAAQAAAAAAAAIvAAAAJDdhMmNhODJhLWFhODMtNGMwYy1iZmUyLTNkMTU3ZDY5MWE1MA.jpg" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":".\/wp-includes\/js\/wp-emoji-release.min.js"}};
!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='savrix-style.css-css'  href='./wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='validate-engine-css-css'  href='./wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-css'  href='./wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='./wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='./wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='orgseries-default-css-css'  href='./wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/9f9f3b5f286a1b327e6bb0fdb1185c24/1511014149index.css" media="all"/>
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<!-- <link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wpfront-notification-bar-css'  href='./wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-style-css'  href='./wp-content/themes/sorbet/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-genericons-css'  href='./wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='easy_table_style-css'  href='./wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='upprev-css-css'  href='./wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='jetpack_css-css'  href='./wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./../wp-content/cache/wpfc-minified/3af13bcd925b3eaa358c8ad5070bb07b/1511014148index.css" media="all"/>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');
__gaTracker('create', 'UA-47881846-1', 'auto');
__gaTracker('set', 'forceSSL', true);
__gaTracker('require', 'displayfeatures');
__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT' };
</script>
<script src='./../wp-content/cache/wpfc-minified/1f21a7a8ca343ebb57ffeb4ab24afbd9/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery.js'></script> -->
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery-migrate.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='./../wp-content/cache/wpfc-minified/052c748258385b6c23fc6642e73a4285/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script src='./../wp-content/cache/wpfc-minified/d57c91500961bea5aea0e849cf08f7e7/1511014151index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/js/front.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/upprev/scripts/upprev.js'></script> -->
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />
<style>
.scroll-back-to-top-wrapper {
position: fixed;
opacity: 0;
visibility: hidden;
overflow: hidden;
text-align: center;
z-index: 99999999;
background-color: #777777;
color: #eeeeee;
width: 50px;
height: 48px;
line-height: 48px;
right: 30px;
bottom: 30px;
padding-top: 2px;
border-top-left-radius: 10px;
border-top-right-radius: 10px;
border-bottom-right-radius: 10px;
border-bottom-left-radius: 10px;
-webkit-transition: all 0.5s ease-in-out;
-moz-transition: all 0.5s ease-in-out;
-ms-transition: all 0.5s ease-in-out;
-o-transition: all 0.5s ease-in-out;
transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
background-color: #888888;
color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
visibility:visible;
cursor:pointer;
opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
vertical-align: 0;
}
</style><style type="text/css">	.ssba {
}
.ssba img
{
width: 35px !important;
padding: 6px;
border:  0;
box-shadow: none !important;
display: inline !important;
vertical-align: middle;
}
.ssba, .ssba a
{
text-decoration:none;
border:0;
background: none;
font-family: Indie Flower;
font-size: 	20px;
}.ssba_sharecount:after, .ssba_sharecount:before {
right: 100%;
border: solid transparent;
content: " ";
height: 0;
width: 0;
position: absolute;
pointer-events: none;
}
.ssba_sharecount:after {
border-color: rgba(224, 221, 221, 0);
border-right-color: #f5f5f5;
border-width: 5px;
top: 50%;
margin-top: -5px;
}
.ssba_sharecount:before {
border-color: rgba(85, 94, 88, 0);
border-right-color: #e0dddd;
border-width: 6px;
top: 50%;
margin-top: -6px;
}
.ssba_sharecount {
font: 11px Arial, Helvetica, sans-serif;
padding: 5px;
-khtml-border-radius: 6px;
-o-border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;
position: relative;
border: 1px solid #e0dddd;color: #555e58;
background: #ffffff;
}
.ssba_sharecount:after {
border-right-color: #ffffff;
}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
</style>
</head>
<body class="single single-post postid-2411 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<div class="site-header-wrapper">
<div class="site-branding">
<h1 class="site-title"><a href="./../index.html" rel="home">The Jackal of Javascript</a></h1>
<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
</div>
<div class="toggles">
<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
</div>
</div>
</header><!-- #masthead -->
<div id="menu-toggle-nav" class="panel">
<nav id="site-navigation" class="main-navigation" role="navigation">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="./../index.html">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="./../portfolio/index.html">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="./../history-of-the-web/index.html">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="./../javascript-101/index.html">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="./../contact-request/index.html">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
</div>
<div id="search-toggle-nav" class="panel">
<div class="search-wrapper">
<form role="search" method="get" class="search-form" action="./../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</div>
</div>
<div id="content" class="site-content">
<div id="primary" class="content-area">
<main id="main" class="site-main" role="main">
<article id="post-2411" class="post-2411 post type-post status-publish format-standard hentry category-expressjs category-iot category-jquery category-node category-quick-and-dirty category-raspberry-pi category-setup category-tutorial category-websockets series-rpi">
<header class="entry-header">
<h1 class="entry-title">Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT</h1>	</header><!-- .entry-header -->
<div class="entry-content">
<div class="seriesmeta" style="background:#4F5256; padding:5px;margin-bottom:5px;font-size:15px;color:white;padding-left: 20px;border-radius:3px;">This post is part 6 of 9 in the series <a href="./../series/rpi/index.html" class="series-148" title="Raspberry Pi">Raspberry Pi</a></div><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./rpi-live-streaming/&amp;text=Raspberry+Pi%2C+Camera+and+Node.js+%E2%80%93+Live+Streaming+with+Websockets+%23IoT+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./rpi-live-streaming/&amp;text=Raspberry+Pi%2C+Camera+and+Node.js+%E2%80%93+Live+Streaming+with+Websockets+%23IoT+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./rpi-live-streaming/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./rpi-live-streaming/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">4</span><a href="https://plus.google.com/share?url=./rpi-live-streaming/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./rpi-live-streaming/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./rpi-live-streaming/&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./rpi-live-streaming/&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./rpi-live-streaming/&amp;text=From The Jackal of Javascript Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./rpi-live-streaming/&amp;text=From The Jackal of Javascript Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="./../cdn-cgi/l/email-protection/index.html#17286462757d7274632a45766467757265656e37477e3b3754767a726576377679733759787372397d6437322521342f2526262c375b7e61723744636572767a7e797037607e637f374072756478747c72636437345e784331767a672c7578736e2a5165787a37437f72375d76747c767b377871375d7661766474657e67633225277f6363672d3838637f727d76747c767b78717d7661766474657e67633974787a3865677e3a7b7e61723a64636572767a7e797038"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><p>A few days ago Bala Kolluru has reached out to me asking if we can control a Raspberry Pi camera module using Web browser, so he can view a live stream from any HTML5 powered device. I was intrigued by this idea and wanted to give it a try.</p>
<p>In this post, we will see how we can implement a system that can &#8220;stream&#8221; a video from our pi to a browser. The completed system would look like</p>
<p style="text-align: center;">
<!-- iframe plugin v.4.2 wordpress.org/plugins/iframe/ -->
<iframe width="640" height="360" src="//www.youtube.com/embed/fQzLsWpcqKM?rel=0" frameborder="0" allowfullscreen scrolling="yes" class="iframe-class"></iframe>
</p>
<p>Pretty sweet right! I am able to see my aquarium from any where and check on my only gold fish. This can be extended to do anything.</p>
<p>For instance, you can hook the camera up pointing at the front door, as soon as someone rings the bell, you can see who is at the door by opening the video stream URL in your mobile/tablet/computer and confirm if you need to wear pants to open the door.</p>
<p>So let us see how we can build such an awesome multi-purpose system.</p>
<p>You can find the complete code for this system <a href="https://github.com/arvindr21/pi_livestreaming" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/pi_livestreaming', 'here');" title="Code"  target="_blank">here</a>.</p>
<p><span id="more-2411"></span></p>
<h2>Prerequisites</h2>
<p>If you are new to Raspberry pi and have not yet installed Node.js on it, I would recommend going through <a title="Getting Started with Raspberry pi and Node.js" href="./../getting-started-raspberry-pi-node-js/index.html" target="_blank">Getting Started with Raspberry pi and Node.js</a>.</p>
<p>If you are new to electronics devices and circuits, I would recommend going through the <a href="http://www.allaboutcircuits.com/videos/index.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.allaboutcircuits.com/videos/index.html', 'video lectures');" title="Video Lectures"  target="_blank">video lectures</a> from All About Circuits.</p>
<h3>Components needed</h3>
<ol>
<li>1 – Raspberry pi B+</li>
<li>1 – Raspberry pi camera</li>
</ol>
<p>If you have not already set up the camera module, please follow <a title="Setup Camera" href="./../rpi-video-the-intruder/index.html#camera" target="_blank">this</a>.</p>
<h2>Understanding MJPEG</h2>
<p>Based on what I have googled and understood, there is no straight forward way of streaming the live video from the camera module to a web browser.</p>
<p>After going through a <a href="https://www.youtube.com/watch?v=TgUQCSk3nUE" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.youtube.com/watch?v=TgUQCSk3nUE', 'few similar solutions');" title="Raspberry Pi Camera Stream Web Video"  data-rel="lightbox-video-0" target="_blank">few similar solutions</a>, I kind of sort of decided that MJPEGs are the way to go when dealing with Live streaming from the Pi.</p>
<p>MJPEG is Motion JPEG. You can know more about MJPEG in the below video</p>
<p style="text-align: center;">
<!-- iframe plugin v.4.2 wordpress.org/plugins/iframe/ -->
<iframe width="640" height="360" src="//www.youtube.com/embed/jculwCLhn8Y?rel=0" frameborder="0" allowfullscreen scrolling="yes" class="iframe-class"></iframe>
</p>
<p>In this post we are <strong>not</strong> really using MJPEG from a technology standpoint, but we are using a similar principle.</p>
<p>The idea is that we keep clicking pictures using the camera say for every 100ms and then save it to the same file. And then we keep sending the same image to the client as it changes every time.</p>
<p>This is really not the best of solutions, but it kind of gets the job done. I am looking for other alternatives too and will update this post as it goes.</p>
<h2>Building the system</h2>
<p>So, the idea is very simple, we will have a web server setup on the Pi. When we get a request to start the stream, we will trigger a child process in node that will start capturing the picture, once for every 100ms.</p>
<p>Then we have a file watcher on that image file and whenever the file changes, we trigger the client to load the new image.</p>
<p>We are using Web Sockets to emit and act on the events accordingly.</p>
<p>Now, login to your pi via ssh – terminal/putty. As soon as you ssh into pi, you will be landing inside the <em>/home/pi</em> folder. We will create a new folder here named <em>node_programs.</em> And inside this folder, we will be maintaining all our programs. Run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a75f984370488" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">mkdir </span><span class="crayon-v">node_programs</span></span></span></p>
<p>To step inside that folder, run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a775589627291" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">cd </span><span class="crayon-v">node_programs</span></span></span></p>
<p>For this post, we will create a new folder named <em>liveStreaming</em> and will step inside this folder. Run</p>
<p style="text-align: center;"><span id="crayon-544cfe520126c864490568" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono"><span class="crayon-pre crayon-code"><span class="lang:default decode:true crayon-inline">mkdir liveStreaming &amp;&amp; cd liveStreaming</span><br />
</span></span></p>
<p>Note : You can run multiple commands separated by a <em>&amp;&amp;.</em></p>
<p>First we will initialize a new node project here. Run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a781839452858" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">init</span></span></span></p>
<p>Fill it up as applicable.</p>
<p>Now, we will install express and socket.io modules on our pi. Run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a78a949714039" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-i">express</span> <span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">save</span></span></span></p>
<p>Once they are installed, create a new file named <em>index.js.</em> And we will open the same in the nano editor. Run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a793652598205" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">nano </span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></span></span></p>
<p>Paste the below code into the nano editor</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a103f009a79b169871749" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">~/node_programs/liveStreaming/index.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var express = require('express');
var app = express();
var http = require('http').Server(app);
var io = require('socket.io')(http);
var fs = require('fs');
var path = require('path');
var spawn = require('child_process').spawn;
var proc;
app.use('/', express.static(path.join(__dirname, 'stream')));
app.get('/', function(req, res) {
res.sendFile(__dirname + '/index.html');
});
var sockets = {};
io.on('connection', function(socket) {
sockets[socket.id] = socket;
console.log("Total clients connected : ", Object.keys(sockets).length);
socket.on('disconnect', function() {
delete sockets[socket.id];
// no more sockets, kill the stream
if (Object.keys(sockets).length == 0) {
app.set('watchingFile', false);
if (proc) proc.kill();
fs.unwatchFile('./stream/image_stream.jpg');
}
});
socket.on('start-stream', function() {
startStreaming(io);
});
});
http.listen(3000, function() {
console.log('listening on *:3000');
});
function stopStreaming() {
if (Object.keys(sockets).length == 0) {
app.set('watchingFile', false);
if (proc) proc.kill();
fs.unwatchFile('./stream/image_stream.jpg');
}
}
function startStreaming(io) {
if (app.get('watchingFile')) {
io.sockets.emit('liveStream', 'image_stream.jpg?_t=' + (Math.random() * 100000));
return;
}
var args = ["-w", "640", "-h", "480", "-o", "./stream/image_stream.jpg", "-t", "999999999", "-tl", "100"];
proc = spawn('raspistill', args);
console.log('Watching for changes...');
app.set('watchingFile', true);
fs.watchFile('./stream/image_stream.jpg', function(current, previous) {
io.sockets.emit('liveStream', 'image_stream.jpg?_t=' + (Math.random() * 100000));
})
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-2">2</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-4">4</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-6">6</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-8">8</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-10">10</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-12">12</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-14">14</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-16">16</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-18">18</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-20">20</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-22">22</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-24">24</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-26">26</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-28">28</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-30">30</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-32">32</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-34">34</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-36">36</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-38">38</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-40">40</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-42">42</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-44">44</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-46">46</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-48">48</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-50">50</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-52">52</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-54">54</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-56">56</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-58">58</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-60">60</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-62">62</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-64">64</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-66">66</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-68">68</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-70">70</div><div class="crayon-num" data-line="crayon-5a103f009a79b169871749-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a79b169871749-72">72</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a103f009a79b169871749-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'express'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">express</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">Server</span><span class="crayon-sy">(</span><span class="crayon-v">app</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">io</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'socket.io'</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">http</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-5"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'fs'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-6"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'path'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-8"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">spawn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'child_process'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">spawn</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-9"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">proc</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-10">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a79b169871749-11"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-st">use</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">express</span><span class="crayon-sy">.</span><span class="crayon-m">static</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'stream'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-12">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a79b169871749-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-14"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">sendFile</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/index.html'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-16"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-18"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sockets</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-20"><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'connection'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">socket</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">sockets</span><span class="crayon-sy">[</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">socket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Total clients connected : "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">Object</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-v">sockets</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-24">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a79b169871749-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'disconnect'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">delete</span><span class="crayon-h"> </span><span class="crayon-v">sockets</span><span class="crayon-sy">[</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// no more sockets, kill the stream</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">Object</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-v">sockets</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'watchingFile'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">proc</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-e">kill</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">unwatchFile</span><span class="crayon-sy">(</span><span class="crayon-s">'./stream/image_stream.jpg'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'start-stream'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">startStreaming</span><span class="crayon-sy">(</span><span class="crayon-v">io</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-40"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-42"><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'listening on *:3000'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-44"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-46"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">stopStreaming</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">Object</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-v">sockets</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'watchingFile'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">proc</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-e">kill</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">unwatchFile</span><span class="crayon-sy">(</span><span class="crayon-s">'./stream/image_stream.jpg'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-51"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-52"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-54"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">startStreaming</span><span class="crayon-sy">(</span><span class="crayon-v">io</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-s">'watchingFile'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">sockets</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'liveStream'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'image_stream.jpg?_t='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">100000</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-60">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a79b169871749-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">"-w"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"640"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-h"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"480"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-o"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"./stream/image_stream.jpg"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-t"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"999999999"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-tl"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"100"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-62"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">proc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">spawn</span><span class="crayon-sy">(</span><span class="crayon-s">'raspistill'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-64"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'Watching for changes...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-66"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-s">'watchingFile'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-67">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-68"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">watchFile</span><span class="crayon-sy">(</span><span class="crayon-s">'./stream/image_stream.jpg'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">current</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">previous</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">sockets</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'liveStream'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'image_stream.jpg?_t='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">100000</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-70"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a103f009a79b169871749-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a79b169871749-72"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0373 seconds] -->
<p>Things to notice</p>
<p><strong>Line 1 &#8211; 6</strong> : Essential requires</p>
<p><strong>Line 8</strong> : Cache spawn method on child_process</p>
<p><strong>Line 9</strong> : Global proc variable that we store the spawned process</p>
<p><strong>Line 11</strong> : Make the <em>stream</em> folder as a static folder</p>
<p><strong>Line 14</strong> : Default route that will dispatch the <em>index.html</em></p>
<p><strong>Line 18</strong> : Global sockets object. This will store all the connected sockets</p>
<p><strong>Line 22</strong> : When a client connects to the server, a new socket will be created. This is store in the global variable.</p>
<p><strong>Line 25</strong> : We delete the disconnected client from the global object and if there are no more clients we will stop the streaming (power saving)</p>
<p><strong>Line 36</strong> : We start the streaming on start-stream event.</p>
<p><strong>Line 42</strong> : We start the server</p>
<p><strong>Line 56</strong> : If the capturing is already started, we will not re-init the same. And then emit the last saved image to the client</p>
<p><strong>Line 62</strong> : If the capturing is not started, we will start a new child process and then spawn it with 
<span id="crayon-5a103f009a7ad284716172" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">raspistill</span></span></span> command. And then register a watch on the file which changes. And whenever the file changes we emit a URL to all the connected clients.</p>
<p><strong>Note</strong> : The _t param on the image is to avoid caching</p>
<p>Argument to the raspistill command</p>
<ul>
<li>-w : width 640px</li>
<li>-h : height 480px</li>
<li>-o : output file ./stream/image_stream.jpg</li>
<li>-t : Timeout before the camera stops capturing</li>
<li>-tl &#8211; Time Limit between captures 100ms</li>
</ul>
<p>A simple Express/Socket IO server</p>
<p>Let us save the file now. To save the program, press (ctrl+x). This will ask you to save the file. Press Y and press enter key to complete the operation.</p>
<p>Now we will create a new folder named <em>stream</em> at the root of the <em>liveStreaming </em>folder. This is where our image will be saved.</p>
<p>Finally the Websocket client</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a103f009a7b8426346693" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">~/node_programs/liveStreaming/index.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;title&gt;Stream My Aquarium&lt;/title&gt;
&lt;!-- Bootstrap CSS --&gt;
&lt;link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
#stream {
height: 99%;
margin: 0px auto;
display: block;
margin-top: 20px;
}
&lt;/style&gt;
&lt;!-- jQuery --&gt;
&lt;script src="http://code.jquery.com/jquery.js"&gt;&lt;/script&gt;
&lt;!-- Bootstrap JavaScript --&gt;
&lt;script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt;
&lt;script&gt;
var socket = io();
socket.on('liveStream', function(url) {
$('#stream').attr('src', url);
$('.start').hide();
});
function startStream() {
socket.emit('start-stream');
$('.start').hide();
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body class="container"&gt;
&lt;h1 class="text-center"&gt;My Aquarium
&lt;small&gt;Powered by PI&lt;/small&gt;
&lt;/h1&gt;
&lt;hr&gt;
&lt;button type="button" id="" class="btn btn-info start" onclick="startStream()"&gt;Start Camera&lt;/button&gt;
&lt;div class="row"&gt;
&lt;img src="" id="stream"&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-2">2</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-4">4</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-6">6</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-8">8</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-10">10</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-12">12</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-14">14</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-16">16</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-18">18</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-20">20</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-22">22</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-24">24</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-26">26</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-28">28</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-30">30</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-32">32</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-34">34</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-36">36</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-38">38</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-40">40</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-42">42</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-44">44</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-46">46</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-48">48</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-50">50</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-52">52</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-54">54</div><div class="crayon-num" data-line="crayon-5a103f009a7b8426346693-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009a7b8426346693-56">56</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a103f009a7b8426346693-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-2"><span class="crayon-o">&lt;</span><span class="crayon-e">html </span><span class="crayon-v">lang</span><span class="crayon-o">=</span><span class="crayon-s">"en"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">http</span><span class="crayon-o">-</span><span class="crayon-v">equiv</span><span class="crayon-o">=</span><span class="crayon-s">"X-UA-Compatible"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"IE=edge"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"width=device-width, initial-scale=1"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-e">Stream </span><span class="crayon-e">My </span><span class="crayon-v">Aquarium</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">Bootstrap </span><span class="crayon-v">CSS</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-12">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;style </span><span class="crayon-e">type</span><span class="crayon-k">="text/css"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-14"><span class="crayon-k">&nbsp;&nbsp;#stream </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">99%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">margin</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">block</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">margin-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/style&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">jQuery</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"http://code.jquery.com/jquery.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">Bootstrap</span><span class="crayon-h"> </span><span class="crayon-e">JavaScript</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"/socket.io/socket.io.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">socket</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">io</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'liveStream'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'#stream'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">attr</span><span class="crayon-sy">(</span><span class="crayon-s">'src'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'.start'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">startStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'start-stream'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'.start'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-39"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-40">&nbsp;</div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-41"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"container"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"text-center"</span><span class="crayon-o">&gt;</span><span class="crayon-e">My </span><span class="crayon-v">Aquarium</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">small</span><span class="crayon-o">&gt;</span><span class="crayon-e">Powered </span><span class="crayon-e">by </span><span class="crayon-v">PI</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">small</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"button"</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"btn btn-info start"</span><span class="crayon-h"> </span><span class="crayon-v">onclick</span><span class="crayon-o">=</span><span class="crayon-s">"startStream()"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Start </span><span class="crayon-v">Camera</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"stream"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-52"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-54"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a103f009a7b8426346693-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009a7b8426346693-56"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0234 seconds] -->
<p>Things to notice</p>
<p><strong>Line 28</strong> : Init sockets</p>
<p><strong>Line 29</strong> : When there is new image saved, liveStream event will be broadcasted. And then we will fetch the image.</p>
<p><strong>Line 34</strong> : We start streaming when a user clicks on the Start button. If the video has already started by another user, we simply hide the button and show the last saved image.</p>
<p><strong>Line 51</strong> : The Image tag</p>
<p>That is it! save the file as we did above and then we will start the node server. Run</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a7c8119224180" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">node </span><span class="crayon-v">index</span><span class="crayon-sy">.</span><span class="crayon-v">js</span></span></span></p>
<p>And then access the port 3000 on your Raspberry pi port. My pi runs on 192.168.2.2, so my URL would be</p>
<p style="text-align: center;">
<span id="crayon-5a103f009a7d0426257468" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//192.168.2.2:3000</span></span></span></p>
<p>Click on start camera and Bam!! You should see the live feed.</p>
<p>As mentioned earlier it is a big laggy and buggy. You can tweak 
<span id="crayon-5a103f009a7d9378021836" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">-</span><span class="crayon-v">tl</span></span></span> &#8211; Time Limit between captures to &lt; 50ms and see how it works for you.</p>
<p>Hope this post gave you an ideas as how to &#8220;stream&#8221; a video from your pi camera to the browser.</p>
<hr />
<p>Thanks for reading! Do comment.<br />
@arvindr21</p>
<p>&nbsp;</p>
<fieldset><legend>Series Navigation</legend><span class="series-nav-left"><a href="./../rpi-video-the-intruder/index.html" title="&lt;&lt; Raspberry Pi, Camera, Node.js &#8211; Video &amp; Email The Intruder">&lt;&lt; Raspberry Pi, Camera, Node.js &#8211; Video &amp; Email The Intruder</a></span><span class="series-nav-right"><a href="./../rpi-16x2-lcd-print-stuff/index.html" title="Raspberry Pi, 16&#215;2 LCD and Node.js &#8211; Print stuff &gt;&gt;">Raspberry Pi, 16&#215;2 LCD and Node.js &#8211; Print stuff &gt;&gt;</a></span></fieldset><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./rpi-live-streaming/&amp;text=Raspberry+Pi%2C+Camera+and+Node.js+%E2%80%93+Live+Streaming+with+Websockets+%23IoT+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./rpi-live-streaming/&amp;text=Raspberry+Pi%2C+Camera+and+Node.js+%E2%80%93+Live+Streaming+with+Websockets+%23IoT+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./rpi-live-streaming/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./rpi-live-streaming/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">4</span><a href="https://plus.google.com/share?url=./rpi-live-streaming/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./rpi-live-streaming/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./rpi-live-streaming/&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./rpi-live-streaming/&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./rpi-live-streaming/&amp;text=From The Jackal of Javascript Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./rpi-live-streaming/&amp;text=From The Jackal of Javascript Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="./../cdn-cgi/l/email-protection/index.html#8db2fef8efe7e8eef9b0dfecfefdefe8fffff4addde4a1adceece0e8ffecadece3e9adc3e2e9e8a3e7feada8bfbbaeb5bfbcbcb6adc1e4fbe8addef9ffe8ece0e4e3eaadfae4f9e5addae8effee2eee6e8f9feadaec4e2d9abece0fdb6efe2e9f4b0cbffe2e0add9e5e8adc7eceee6ece1ade2ebadc7ecfbecfeeeffe4fdf9a8bfbde5f9f9fdb7a2a2f9e5e8e7eceee6ece1e2ebe7ecfbecfeeeffe4fdf9a3eee2e0a2fffde4a0e1e4fbe8a0fef9ffe8ece0e4e3eaa2"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-2411-5a103f0181f80' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=2411&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-2411-5a103f0181f80' data-name='like-post-frame-70838519-2411-5a103f0181f80'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
<div class="entry-content">
</div><!-- .entry-content -->
<footer class="entry-meta">
<span class="post-date"><a href="./index.html" title="8:54 pm" rel="bookmark"><time class="entry-date" datetime="2014-10-26T20:54:29+00:00">October 26, 2014</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="./../author/arvind-ravulavaru/index.html" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
<nav class="navigation post-navigation" role="navigation">
<h1 class="screen-reader-text">Post navigation</h1>
<div class="nav-links">
<div class="nav-previous"><a href="./../rpi-video-the-intruder/index.html" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="./../getting-started-web-speech-api/index.html" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
</nav><!-- .navigation -->
<div id="disqus_thread">
<div id="dsq-content">
<ul id="dsq-comments">
<li class="comment even thread-even depth-1" id="dsq-comment-3401">
<div id="dsq-comment-header-3401" class="dsq-comment-header">
<cite id="dsq-cite-3401">
<span id="dsq-author-user-3401">Seong Cho</span>
</cite>
</div>
<div id="dsq-comment-body-3401" class="dsq-comment-body">
<div id="dsq-comment-message-3401" class="dsq-comment-message"><p>Great tutorial for node.js interacting with raspi camera. Thanks a lot. I tried the code as is. Having two issues.<br />
1. Crashing the RPi eventually. When I connect the index.html and refresh the page a few times.<br />
2. Interval of event of fs.watchFile is about 5 secs rather than every 100ms.</p>
<p>Do you have any idea what&#8217;s going on in there?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3399">
<div id="dsq-comment-header-3399" class="dsq-comment-header">
<cite id="dsq-cite-3399">
<span id="dsq-author-user-3399">Peyush Pushkar</span>
</cite>
</div>
<div id="dsq-comment-body-3399" class="dsq-comment-body">
<div id="dsq-comment-message-3399" class="dsq-comment-message"><p>Can this work with usb camera as well(usb camera attached with Pi )?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3374">
<div id="dsq-comment-header-3374" class="dsq-comment-header">
<cite id="dsq-cite-3374">
<span id="dsq-author-user-3374">Arpitha</span>
</cite>
</div>
<div id="dsq-comment-body-3374" class="dsq-comment-body">
<div id="dsq-comment-message-3374" class="dsq-comment-message"><p>awesome work yaar !! But how can i save images telecasted from stream on my pc for further processing</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3367">
<div id="dsq-comment-header-3367" class="dsq-comment-header">
<cite id="dsq-cite-3367">
<span id="dsq-author-user-3367">raj shah</span>
</cite>
</div>
<div id="dsq-comment-body-3367" class="dsq-comment-body">
<div id="dsq-comment-message-3367" class="dsq-comment-message"><p>Awsm work.. But I need one help..<br />
Am working on same thing but mine requirement is like Client can download past videos. So how can I store data using Web Socket.  And Web Socket is mendet.<br />
So help me out..</p>
<p>Thanks..</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3364">
<div id="dsq-comment-header-3364" class="dsq-comment-header">
<cite id="dsq-cite-3364">
<span id="dsq-author-user-3364">you</span>
</cite>
</div>
<div id="dsq-comment-body-3364" class="dsq-comment-body">
<div id="dsq-comment-message-3364" class="dsq-comment-message"><p>can´t live thit thot </p>
<p>let app = require(&#8216;express&#8217;)();<br />
let http = require(&#8216;http&#8217;).Server(app);<br />
let io = require(&#8216;socket.io&#8217;)(http);</p>
<p>io.on(&#8216;connection&#8217;, (socket) =&gt; {<br />
console.log(&#8216;user connected&#8217;);</p>
<p>  socket.on(&#8216;disconnect&#8217;, function(){<br />
console.log(&#8216;user disconnected&#8217;);<br />
});</p>
<p>  socket.on(&#8216;add-message&#8217;, (message) =&gt; {<br />
io.emit(&#8216;message&#8217;, {type:&#8217;new-message&#8217;, text: message});<br />
});<br />
});</p>
<p>http.listen(5000, () =&gt; {<br />
console.log(&#8216;started on port 5000&#8242;);<br />
});</p>
<p>it´s amazing it´s like turbo pascal but more pascal turbo on ms-dos plus 3.4 Vv.rar</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3346">
<div id="dsq-comment-header-3346" class="dsq-comment-header">
<cite id="dsq-cite-3346">
<span id="dsq-author-user-3346">Michelle Labriaga</span>
</cite>
</div>
<div id="dsq-comment-body-3346" class="dsq-comment-body">
<div id="dsq-comment-message-3346" class="dsq-comment-message"><p>Is iit the same mechanics since I&#8217;ve been using IP Camera?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3273">
<div id="dsq-comment-header-3273" class="dsq-comment-header">
<cite id="dsq-cite-3273">
<span id="dsq-author-user-3273">Lovely Paari</span>
</cite>
</div>
<div id="dsq-comment-body-3273" class="dsq-comment-body">
<div id="dsq-comment-message-3273" class="dsq-comment-message"><p>wow its great, very amazing blog&#8230;&#8230;.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3252">
<div id="dsq-comment-header-3252" class="dsq-comment-header">
<cite id="dsq-cite-3252">
<span id="dsq-author-user-3252">M.Mahrous</span>
</cite>
</div>
<div id="dsq-comment-body-3252" class="dsq-comment-body">
<div id="dsq-comment-message-3252" class="dsq-comment-message"><p>Thanks for sharing the code I modify the code to use a web camera without fs.watch<br />
<a href="https://github.com/mmahrous/Web-Cam-to-Web" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/mmahrous/Web-Cam-to-Web', 'https://github.com/mmahrous/Web-Cam-to-Web');" rel="nofollow">https://github.com/mmahrous/Web-Cam-to-Web</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3215">
<div id="dsq-comment-header-3215" class="dsq-comment-header">
<cite id="dsq-cite-3215">
<span id="dsq-author-user-3215">Christian Carter</span>
</cite>
</div>
<div id="dsq-comment-body-3215" class="dsq-comment-body">
<div id="dsq-comment-message-3215" class="dsq-comment-message"><p>Everything works great, except I cannot get the image to display on the browser screen. I am suppressing the preview on the pi with the &#8220;-n&#8221; command so I do not see anything. I know the image is being saved into the proper directory, it is just not being broadcast to the webpage. Any thoughts?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3212">
<div id="dsq-comment-header-3212" class="dsq-comment-header">
<cite id="dsq-cite-3212">
<span id="dsq-author-user-3212">Sanjay Pandit</span>
</cite>
</div>
<div id="dsq-comment-body-3212" class="dsq-comment-body">
<div id="dsq-comment-message-3212" class="dsq-comment-message"><p>Awesome great articles. Just want know the code in nodejs programming to &#8220;How to check, in meeting room someone inside or not? &#8221; via Wifi or Intranet.</p>
<p>could you please help on it.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3187">
<div id="dsq-comment-header-3187" class="dsq-comment-header">
<cite id="dsq-cite-3187">
<span id="dsq-author-user-3187">Diego De Santiago Ruiz</span>
</cite>
</div>
<div id="dsq-comment-body-3187" class="dsq-comment-body">
<div id="dsq-comment-message-3187" class="dsq-comment-message"><p>Thank you, it&#8217;s really useful.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3176">
<div id="dsq-comment-header-3176" class="dsq-comment-header">
<cite id="dsq-cite-3176">
<span id="dsq-author-user-3176">Anselme Chorein</span>
</cite>
</div>
<div id="dsq-comment-body-3176" class="dsq-comment-body">
<div id="dsq-comment-message-3176" class="dsq-comment-message"><p>As an alternative you can send image directly through websocket using base64 encoding. It should be more efficient and let you avoid the math.random trick (ex: ). </p>
<p>You can also use node-raspicam module for capture ( <a href="https://github.com/troyth/node-raspicam" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/troyth/node-raspicam', 'https://github.com/troyth/node-raspicam');" rel="nofollow">https://github.com/troyth/node-raspicam</a>)</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3136">
<div id="dsq-comment-header-3136" class="dsq-comment-header">
<cite id="dsq-cite-3136">
<span id="dsq-author-user-3136">heesuk</span>
</cite>
</div>
<div id="dsq-comment-body-3136" class="dsq-comment-body">
<div id="dsq-comment-message-3136" class="dsq-comment-message"><p>Hi! this code is very nice. but, i don&#8217;t know app.set (whatchigfile ..) and app.get(whatchingfile) .. what is this code? also, I want to frame rate up. this frame rate is slow. if speed up frame rate, use media server? For example, wowza server, Darwin server.. etc&#8230; if you comment, very thank!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3109">
<div id="dsq-comment-header-3109" class="dsq-comment-header">
<cite id="dsq-cite-3109">
<span id="dsq-author-user-3109">Michel Nicolas</span>
</cite>
</div>
<div id="dsq-comment-body-3109" class="dsq-comment-body">
<div id="dsq-comment-message-3109" class="dsq-comment-message"><p>Hi Arvind,<br />
great tutorial. </p>
<p>When i access the camera module from another network, the live stream appears on the raspberry pi screen and not on the webpage from where I accessed using a different network.</p>
<p>How can I solve this issue ? </p>
<p>Thank you in advance,</p>
<p>Micheal</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-3110">
<div id="dsq-comment-header-3110" class="dsq-comment-header">
<cite id="dsq-cite-3110">
./                <span id="dsq-author-user-3110">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-3110" class="dsq-comment-body">
<div id="dsq-comment-message-3110" class="dsq-comment-message"><p>Hey Micheal, Thanks! You cannot access local data from one network on another. You need to make the data/stream from network public may be using <a href="https://ngrok.com/" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://ngrok.com/', 'https://ngrok.com/');" rel="nofollow">https://ngrok.com/</a>.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-3111">
<div id="dsq-comment-header-3111" class="dsq-comment-header">
<cite id="dsq-cite-3111">
<span id="dsq-author-user-3111">Michel Nicolas</span>
</cite>
</div>
<div id="dsq-comment-body-3111" class="dsq-comment-body">
<div id="dsq-comment-message-3111" class="dsq-comment-message"><p>actually I am able to connect to my raspberry from a different network.<br />
The problem is that i&#8217;m having the live stream on the screen of the raspberry and not on the page where i clicked &#8216;start camera&#8217; ! </p>
<p>is it more clear ?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3079">
<div id="dsq-comment-header-3079" class="dsq-comment-header">
<cite id="dsq-cite-3079">
<span id="dsq-author-user-3079">Hoshos14</span>
</cite>
</div>
<div id="dsq-comment-body-3079" class="dsq-comment-body">
<div id="dsq-comment-message-3079" class="dsq-comment-message"><p>Hi very nice work..thank you  but I am not able to see the video i receive this error ..No data received from sensor. Check all connections, including the Sunny one on the camera board</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2989">
<div id="dsq-comment-header-2989" class="dsq-comment-header">
<cite id="dsq-cite-2989">
<span id="dsq-author-user-2989">Kwangteag Na</span>
</cite>
</div>
<div id="dsq-comment-body-2989" class="dsq-comment-body">
<div id="dsq-comment-message-2989" class="dsq-comment-message"><p>S.O.S<br />
Thanks a lot!<br />
I have did your instruction.<br />
And, live streaming-video is appear on server.<br />
But disappear on my client computer.<br />
Why does it???<br />
Bellow pictures, left Pic is client, right is server.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-3154">
<div id="dsq-comment-header-3154" class="dsq-comment-header">
<cite id="dsq-cite-3154">
<span id="dsq-author-user-3154">Severin Puschkarski</span>
</cite>
</div>
<div id="dsq-comment-body-3154" class="dsq-comment-body">
<div id="dsq-comment-message-3154" class="dsq-comment-message"><p>you may have been reading the tutorial too fast.<br />
You need to create a directory:<br />
mkdir stream</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2962">
<div id="dsq-comment-header-2962" class="dsq-comment-header">
<cite id="dsq-cite-2962">
<span id="dsq-author-user-2962">andrewhodel</span>
</cite>
</div>
<div id="dsq-comment-body-2962" class="dsq-comment-body">
<div id="dsq-comment-message-2962" class="dsq-comment-message"><p>Here&#8217;s some code to do it without websockets (a raw HTTP MJPEG stream)&#8230;</p>
<p><a href="https://github.com/andrewhodel/flirpi-mjpeg/blob/master/app.js" onclick="__gaTracker('send', 'event', 'download', 'https://github.com/andrewhodel/flirpi-mjpeg/blob/master/app.js');" rel="nofollow">https://github.com/andrewhodel/flirpi-mjpeg/blob/master/app.js</a></p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2955">
<div id="dsq-comment-header-2955" class="dsq-comment-header">
<cite id="dsq-cite-2955">
<span id="dsq-author-user-2955">Ryan Lee</span>
</cite>
</div>
<div id="dsq-comment-body-2955" class="dsq-comment-body">
<div id="dsq-comment-message-2955" class="dsq-comment-message"><p>I just did a fresh install of latest rasbian yesterday and tried to install this now.  Download and install are fine and present no issues but when I run &#8220;node -v&#8221;, I get the following:</p>
<p><a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="93e3fad3e1f2e0e3f1f6e1e1eae3fa">[email&#160;protected]</a> ~ $ node -v<br />
node: /usr/lib/arm-linux-gnueabihf/libstdc++.so.6: version <code>GLIBCXX_3.4.20' not found (required by node)<br />
node: /lib/arm-linux-gnueabihf/libc.so.6: version </code>GLIBC_2.16&#8242; not found (required by node)</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2836">
<div id="dsq-comment-header-2836" class="dsq-comment-header">
<cite id="dsq-cite-2836">
<span id="dsq-author-user-2836">Alan</span>
</cite>
</div>
<div id="dsq-comment-body-2836" class="dsq-comment-body">
<div id="dsq-comment-message-2836" class="dsq-comment-message"><p>Hey, great walk through! Your information really helped me in a similar project I was trying to figure out in a DIY home security system. Only question is what is happening with the following line? </p>
<p>app.set(&#8216;watchingFile&#8217;, true);</p>
<p>I&#8217;ve tried to dig around express but I can&#8217;t find the &#8216;watchingFile&#8217; property anywhere to understand how it fits in. I can tell it&#8217;s important in keeping the image updated I just don&#8217;t fully grasp why. Any information would be appreciated!</p>
<p>Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2860">
<div id="dsq-comment-header-2860" class="dsq-comment-header">
<cite id="dsq-cite-2860">
./                <span id="dsq-author-user-2860">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2860" class="dsq-comment-body">
<div id="dsq-comment-message-2860" class="dsq-comment-message"><p>Hello Alan, Thanks.</p>
<p>In Expressjs, you can use set and get custom values on the app context. This is like storing variables on the Expressjs instance itself.</p>
<p>Take a look at : <a href="http://expressjs.com/api.html#app.set" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://expressjs.com/api.html#app.set', 'http://expressjs.com/api.html#app.set');" rel="nofollow">http://expressjs.com/api.html#app.set</a></p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2811">
<div id="dsq-comment-header-2811" class="dsq-comment-header">
<cite id="dsq-cite-2811">
<span id="dsq-author-user-2811">spiovesan</span>
</cite>
</div>
<div id="dsq-comment-body-2811" class="dsq-comment-body">
<div id="dsq-comment-message-2811" class="dsq-comment-message"><p>Anvrid, thanks for sharing. I just changed the sample to write to a ram drive to avoid to write too much on the SD card, as explained here: <a href="https://www.domoticz.com/wiki/Setting_up_a_RAM_drive_on_Raspberry_Pi" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://www.domoticz.com/wiki/Setting_up_a_RAM_drive_on_Raspberry_Pi', 'https://www.domoticz.com/wiki/Setting_up_a_RAM_drive_on_Raspberry_Pi');" rel="nofollow">https://www.domoticz.com/wiki/Setting_up_a_RAM_drive_on_Raspberry_Pi</a>. Because my raspicam went broken, I used a USB one replacing the spawn(&#8216;raspistill&#8217;, args); with spawn(&#8216;fswebcam&#8217;, args);</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2861">
<div id="dsq-comment-header-2861" class="dsq-comment-header">
<cite id="dsq-cite-2861">
./                <span id="dsq-author-user-2861">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2861" class="dsq-comment-body">
<div id="dsq-comment-message-2861" class="dsq-comment-message"><p>Thanks spiovesan. Are you facing any issue with this approach?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2880">
<div id="dsq-comment-header-2880" class="dsq-comment-header">
<cite id="dsq-cite-2880">
<span id="dsq-author-user-2880">spiovesan</span>
</cite>
</div>
<div id="dsq-comment-body-2880" class="dsq-comment-body">
<div id="dsq-comment-message-2880" class="dsq-comment-message"><p>Arvind, it works fine without problems. And using dyndns service with port mapping I am also able to monitor remotely the camera.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2883">
<div id="dsq-comment-header-2883" class="dsq-comment-header">
<cite id="dsq-cite-2883">
./                <span id="dsq-author-user-2883">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2883" class="dsq-comment-body">
<div id="dsq-comment-message-2883" class="dsq-comment-message"><p>Great! </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2740">
<div id="dsq-comment-header-2740" class="dsq-comment-header">
<cite id="dsq-cite-2740">
http://www.christopherstevens.cc/                <span id="dsq-author-user-2740">Christopher Stevens</span>
</cite>
</div>
<div id="dsq-comment-body-2740" class="dsq-comment-body">
<div id="dsq-comment-message-2740" class="dsq-comment-message"><p>Very cool. Thanks for sharing. I&#8217;m exploring how I can apply this concept as a starter for broadcasting images from Mars to Mission Control (a lab of Lego Mindstorms rovers sending images to a lab of computers next door). It&#8217;s pretty straight forward thanks to you! Kids will love it and it could make missions more engaging at the Space Foundation Discovery Center: <a href="http://www.spacefoundation.org/museum" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://www.spacefoundation.org/museum', 'http://www.spacefoundation.org/museum');" rel="nofollow">http://www.spacefoundation.org/museum</a></p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2747">
<div id="dsq-comment-header-2747" class="dsq-comment-header">
<cite id="dsq-cite-2747">
./                <span id="dsq-author-user-2747">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2747" class="dsq-comment-body">
<div id="dsq-comment-message-2747" class="dsq-comment-message"><p>Hello Christopher, Thanks for sharing. Glad that I could be of help. Let me know about other exciting projects you are doing with this. Also do let me know if you need me to implement some more apps like this. </p>
<p>Thanks. </p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2768">
<div id="dsq-comment-header-2768" class="dsq-comment-header">
<cite id="dsq-cite-2768">
http://www.christopherstevens.cc/                <span id="dsq-author-user-2768">Christopher Stevens</span>
</cite>
</div>
<div id="dsq-comment-body-2768" class="dsq-comment-body">
<div id="dsq-comment-message-2768" class="dsq-comment-message"><p>Will do! At the moment, I&#8217;m drafting up some ideas with a co-worker. We may mix in some extra sensor data and such to go along with the camera image(s). I&#8217;ll send you a link when something happens, likely sharing the code as well. 😀</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2769">
<div id="dsq-comment-header-2769" class="dsq-comment-header">
<cite id="dsq-cite-2769">
./                <span id="dsq-author-user-2769">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2769" class="dsq-comment-body">
<div id="dsq-comment-message-2769" class="dsq-comment-message"><p>That would be awesome.! Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2727">
<div id="dsq-comment-header-2727" class="dsq-comment-header">
<cite id="dsq-cite-2727">
<span id="dsq-author-user-2727">camillo777</span>
</cite>
</div>
<div id="dsq-comment-body-2727" class="dsq-comment-body">
<div id="dsq-comment-message-2727" class="dsq-comment-message"><p>Good! Apart from MJPEG, do You have a solution to stream audio as well together with video?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2687">
<div id="dsq-comment-header-2687" class="dsq-comment-header">
<cite id="dsq-cite-2687">
<span id="dsq-author-user-2687">Jan Szymanski</span>
</cite>
</div>
<div id="dsq-comment-body-2687" class="dsq-comment-body">
<div id="dsq-comment-message-2687" class="dsq-comment-message"><p>Hi,<br />
Have you done a similar thing, but using USB camera instead?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2688">
<div id="dsq-comment-header-2688" class="dsq-comment-header">
<cite id="dsq-cite-2688">
./                <span id="dsq-author-user-2688">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2688" class="dsq-comment-body">
<div id="dsq-comment-message-2688" class="dsq-comment-message"><p>Hello Jan. I have not tried it, but I think that should be possible. May be we need to jump through to get the video feed but I think it&#8217;s doable. Do let me know, if you try it out. Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2600">
<div id="dsq-comment-header-2600" class="dsq-comment-header">
<cite id="dsq-cite-2600">
<span id="dsq-author-user-2600">Rashiqa Zahid</span>
</cite>
</div>
<div id="dsq-comment-body-2600" class="dsq-comment-body">
<div id="dsq-comment-message-2600" class="dsq-comment-message"><p>hello arvind,,, your tutorials are really very helpful.. but there is a problem im facing in implementation of this code..<br />
The code has no build errors&#8230; the webserver is running perfectly,, but,,, whenever i click the button start camera, nothing happens&#8230;</p>
<p>can you please help?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2604">
<div id="dsq-comment-header-2604" class="dsq-comment-header">
<cite id="dsq-cite-2604">
./                <span id="dsq-author-user-2604">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2604" class="dsq-comment-body">
<div id="dsq-comment-message-2604" class="dsq-comment-message"><p>Thanks Rashiqa. Can add a few console.log() in your program flow check till where things are running? If there was an error message some where I can probably help you with that.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-2632">
<div id="dsq-comment-header-2632" class="dsq-comment-header">
<cite id="dsq-cite-2632">
<span id="dsq-author-user-2632">Rashiqa Zahid</span>
</cite>
</div>
<div id="dsq-comment-body-2632" class="dsq-comment-body">
<div id="dsq-comment-message-2632" class="dsq-comment-message"><p>I worked a little and it worked.. its awesome..!! Thanks alot..! 😀</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-2635">
<div id="dsq-comment-header-2635" class="dsq-comment-header">
<cite id="dsq-cite-2635">
./                <span id="dsq-author-user-2635">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2635" class="dsq-comment-body">
<div id="dsq-comment-message-2635" class="dsq-comment-message"><p>Great! What was the issues?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2599">
<div id="dsq-comment-header-2599" class="dsq-comment-header">
<cite id="dsq-cite-2599">
<span id="dsq-author-user-2599">Rashiqa Zahid</span>
</cite>
</div>
<div id="dsq-comment-body-2599" class="dsq-comment-body">
<div id="dsq-comment-message-2599" class="dsq-comment-message"><p>hello arvind.. awesome tutorials i must say,, as i am newbie to raspberry pi, i find your tutorials really very helpful..<br />
There is a problem that im facing with this tutorial,, i have copied the code exactly as you have written and still i get the following error:</p>
<p>/home/pi/node_programs/livestreaming/index.js:11<br />
app.use(&#8216;/&#8217; express.static(path.join(_dirname, &#8216;stream&#8217;)));<br />
^^^^^^^<br />
SyntaxError: Unexpected identifier<br />
at exports.runInThisContext (vm.js:73:16)<br />
at Module._compile (module.js:443:25)<br />
at Object.Module._extensions..js (module.js:478:10)<br />
at Module.load (module.js:355:32)<br />
at Function.Module._load (module.js:310:12)<br />
at Function.Module.runMain (module.js:501:10)<br />
at startup (node.js:129:16)<br />
at node.js:814:3</p>
<p>can you please help?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2598">
<div id="dsq-comment-header-2598" class="dsq-comment-header">
<cite id="dsq-cite-2598">
<span id="dsq-author-user-2598">Rashiqa Zahid</span>
</cite>
</div>
<div id="dsq-comment-body-2598" class="dsq-comment-body">
<div id="dsq-comment-message-2598" class="dsq-comment-message"><p>/home/pi/node_programs/livestreaming/index.js:11<br />
app.use(&#8216;/&#8217; express.static(path.join(_dirname, &#8216;stream&#8217;)));<br />
^^^^^^^<br />
SyntaxError: Unexpected identifier<br />
at exports.runInThisContext (vm.js:73:16)<br />
at Module._compile (module.js:443:25)<br />
at Object.Module._extensions..js (module.js:478:10)<br />
at Module.load (module.js:355:32)<br />
at Function.Module._load (module.js:310:12)<br />
at Function.Module.runMain (module.js:501:10)<br />
at startup (node.js:129:16)<br />
at node.js:814:3</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2489">
<div id="dsq-comment-header-2489" class="dsq-comment-header">
<cite id="dsq-cite-2489">
<span id="dsq-author-user-2489">ahmed</span>
</cite>
</div>
<div id="dsq-comment-body-2489" class="dsq-comment-body">
<div id="dsq-comment-message-2489" class="dsq-comment-message"><p>Hi, very nice work,thank you&#8230; If I may, the stream is not considered a video because there is a big latency (about 4 seconds), i.e. each 4 seconds it shows the current image while the images in between seem to be not viewwed. I tried to change the values * 100000 and 100 msec. but didn&#8217;t make a difference. Do you suggest something? or is that the best that can be provided by raspistill and node.js ??</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2495">
<div id="dsq-comment-header-2495" class="dsq-comment-header">
<cite id="dsq-cite-2495">
./                <span id="dsq-author-user-2495">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2495" class="dsq-comment-body">
<div id="dsq-comment-message-2495" class="dsq-comment-message"><p>Thanks Ahmed. Yes, as I mentioned, these are motion jpegs. This is a simulated video streaming, and yes, there is a huge delay in the video. As of now I don&#8217;t have any solution for this. If you do get any, let me know. Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-2" id="dsq-comment-2893">
<div id="dsq-comment-header-2893" class="dsq-comment-header">
<cite id="dsq-cite-2893">
https://github.com/kendou                <span id="dsq-author-user-2893">kent72</span>
</cite>
</div>
<div id="dsq-comment-body-2893" class="dsq-comment-body">
<div id="dsq-comment-message-2893" class="dsq-comment-message"><p>I believe fs.watchFile() is the cause of the latency, use fs.watch() instead, or check out a revised version at: <a href="https://github.com/kendou/pi_livestreaming" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/kendou/pi_livestreaming', 'https://github.com/kendou/pi_livestreaming');" rel="nofollow">https://github.com/kendou/pi_livestreaming</a>.<br />
Use a ramdisk can also help.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-3253">
<div id="dsq-comment-header-3253" class="dsq-comment-header">
<cite id="dsq-cite-3253">
<span id="dsq-author-user-3253">ajay kota</span>
</cite>
</div>
<div id="dsq-comment-body-3253" class="dsq-comment-body">
<div id="dsq-comment-message-3253" class="dsq-comment-message"><p>can please tell me ,how much latency you are getting.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2485">
<div id="dsq-comment-header-2485" class="dsq-comment-header">
<cite id="dsq-cite-2485">
<span id="dsq-author-user-2485">ken</span>
</cite>
</div>
<div id="dsq-comment-body-2485" class="dsq-comment-body">
<div id="dsq-comment-message-2485" class="dsq-comment-message"><p>Hi,<br />
I am having a school project using my raspberry pi 2. and I have question, I got everything setup and the last step when I click the start camera botton, the display screen didn&#8217;t show on my desktop monitor, but it shows on the raspberry pi 2 monitor. can you help me? please!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2496">
<div id="dsq-comment-header-2496" class="dsq-comment-header">
<cite id="dsq-cite-2496">
./                <span id="dsq-author-user-2496">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2496" class="dsq-comment-body">
<div id="dsq-comment-message-2496" class="dsq-comment-message"><p>Hello Ken, Try closing the screen on the pi and launching the link from your desktop browser.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-2501">
<div id="dsq-comment-header-2501" class="dsq-comment-header">
<cite id="dsq-cite-2501">
<span id="dsq-author-user-2501">ken</span>
</cite>
</div>
<div id="dsq-comment-body-2501" class="dsq-comment-body">
<div id="dsq-comment-message-2501" class="dsq-comment-message"><p>Hi, what do you mean by closing the screen on the pi?(I have tried to unplug the HDMI cable and run the program again, but it still not show on my monitor) Do you have an example with more detail to show how this work? I watched your video at the beginning of this article and it work just fine, but it didn&#8217;t work on mine. Please help me!! I am still a beginner for this.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-2527">
<div id="dsq-comment-header-2527" class="dsq-comment-header">
<cite id="dsq-cite-2527">
./                <span id="dsq-author-user-2527">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2527" class="dsq-comment-body">
<div id="dsq-comment-message-2527" class="dsq-comment-message"><p>Hi Ken, Can you try forking the repo and running it as is and see if things work? Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2351">
<div id="dsq-comment-header-2351" class="dsq-comment-header">
<cite id="dsq-cite-2351">
<span id="dsq-author-user-2351">Mo</span>
</cite>
</div>
<div id="dsq-comment-body-2351" class="dsq-comment-body">
<div id="dsq-comment-message-2351" class="dsq-comment-message"><p>when i write this command<br />
node index.js<br />
I get<br />
-bash: node: command not found<br />
could you help me with that !?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2352">
<div id="dsq-comment-header-2352" class="dsq-comment-header">
<cite id="dsq-cite-2352">
./                <span id="dsq-author-user-2352">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2352" class="dsq-comment-body">
<div id="dsq-comment-message-2352" class="dsq-comment-message"><p>Please read the Prerequisites section. </p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-2354">
<div id="dsq-comment-header-2354" class="dsq-comment-header">
<cite id="dsq-cite-2354">
<span id="dsq-author-user-2354">mo</span>
</cite>
</div>
<div id="dsq-comment-body-2354" class="dsq-comment-body">
<div id="dsq-comment-message-2354" class="dsq-comment-message"><p>ok thanks</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2311">
<div id="dsq-comment-header-2311" class="dsq-comment-header">
<cite id="dsq-cite-2311">
<span id="dsq-author-user-2311">Johan</span>
</cite>
</div>
<div id="dsq-comment-body-2311" class="dsq-comment-body">
<div id="dsq-comment-message-2311" class="dsq-comment-message"><p>I would like to add a microphone streaming sound to this system, how can i do it ?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2317">
<div id="dsq-comment-header-2317" class="dsq-comment-header">
<cite id="dsq-cite-2317">
./                <span id="dsq-author-user-2317">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2317" class="dsq-comment-body">
<div id="dsq-comment-message-2317" class="dsq-comment-message"><p>Hello Johan. That is a nice problem to solve. I did not try the below solutions but you can give it a try</p>
<p><a href="http://www.codeproject.com/Articles/838501/Raspberry-Pi-as-low-cost-audio-streaming-box" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://www.codeproject.com/Articles/838501/Raspberry-Pi-as-low-cost-audio-streaming-box', 'http://www.codeproject.com/Articles/838501/Raspberry-Pi-as-low-cost-audio-streaming-box');" rel="nofollow">http://www.codeproject.com/Articles/838501/Raspberry-Pi-as-low-cost-audio-streaming-box</a></p>
<p><a href="http://m.instructables.com/id/Raspberry-Pi-Multi-Room-Audio-MobileTabletPC-Contr/" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://m.instructables.com/id/Raspberry-Pi-Multi-Room-Audio-MobileTabletPC-Contr/', 'http://m.instructables.com/id/Raspberry-Pi-Multi-Room-Audio-MobileTabletPC-Contr/');" rel="nofollow">http://m.instructables.com/id/Raspberry-Pi-Multi-Room-Audio-MobileTabletPC-Contr/</a></p>
<p>Let me know how it works out. Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2265">
<div id="dsq-comment-header-2265" class="dsq-comment-header">
<cite id="dsq-cite-2265">
<span id="dsq-author-user-2265">randomite123</span>
</cite>
</div>
<div id="dsq-comment-body-2265" class="dsq-comment-body">
<div id="dsq-comment-message-2265" class="dsq-comment-message"><p>Awesome, great tutorial</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2266">
<div id="dsq-comment-header-2266" class="dsq-comment-header">
<cite id="dsq-cite-2266">
./                <span id="dsq-author-user-2266">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2266" class="dsq-comment-body">
<div id="dsq-comment-message-2266" class="dsq-comment-message"><p>Thanks </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2145">
<div id="dsq-comment-header-2145" class="dsq-comment-header">
<cite id="dsq-cite-2145">
<span id="dsq-author-user-2145">Juan </span>
</cite>
</div>
<div id="dsq-comment-body-2145" class="dsq-comment-body">
<div id="dsq-comment-message-2145" class="dsq-comment-message"><p>(sorry for my english first of all)<br />
Hi Arvind, I&#8217;m doing a project and this tutorial is helpful.</p>
<p>but I&#8217;m doing it, tcp-client send the information from the camera to a tcp server. and display it for html. but the tcp do not send this information. Might you help me?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2147">
<div id="dsq-comment-header-2147" class="dsq-comment-header">
<cite id="dsq-cite-2147">
./                <span id="dsq-author-user-2147">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2147" class="dsq-comment-body">
<div id="dsq-comment-message-2147" class="dsq-comment-message"><p>Hello Juan, Thanks! Can you let me know at what step it is failing?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2119">
<div id="dsq-comment-header-2119" class="dsq-comment-header">
<cite id="dsq-cite-2119">
<span id="dsq-author-user-2119">Pat</span>
</cite>
</div>
<div id="dsq-comment-body-2119" class="dsq-comment-body">
<div id="dsq-comment-message-2119" class="dsq-comment-message"><p>Is it possible to use a ps3 camera instead of rasp-camera with this code ?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2120">
<div id="dsq-comment-header-2120" class="dsq-comment-header">
<cite id="dsq-cite-2120">
./                <span id="dsq-author-user-2120">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2120" class="dsq-comment-body">
<div id="dsq-comment-message-2120" class="dsq-comment-message"><p>Not sure Pat. Did not try on ps3. But would be an interesting experiment. </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2049">
<div id="dsq-comment-header-2049" class="dsq-comment-header">
<cite id="dsq-cite-2049">
<span id="dsq-author-user-2049">Patrick</span>
</cite>
</div>
<div id="dsq-comment-body-2049" class="dsq-comment-body">
<div id="dsq-comment-message-2049" class="dsq-comment-message"><p>I had the same issue. Cam did start but no image was saved. Solved the issue by simply removing the quotation in args from var args = [&#8230; &#8220;&#8216;./stream/image_stream.jpg'&#8221;&#8230;]; to var args = [&#8230; &#8220;./stream/image_stream.jpg&#8221;&#8230;];</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2051">
<div id="dsq-comment-header-2051" class="dsq-comment-header">
<cite id="dsq-cite-2051">
./                <span id="dsq-author-user-2051">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2051" class="dsq-comment-body">
<div id="dsq-comment-message-2051" class="dsq-comment-message"><p>Thanks for sharing Patrick. Okay, looks like this is working for most of the people. But I am still facing issues. We give it one more try and update the source code.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2045">
<div id="dsq-comment-header-2045" class="dsq-comment-header">
<cite id="dsq-cite-2045">
<span id="dsq-author-user-2045">Shrikant</span>
</cite>
</div>
<div id="dsq-comment-body-2045" class="dsq-comment-body">
<div id="dsq-comment-message-2045" class="dsq-comment-message"><p>Thanks Arvind, I am able to see the image/video on the console where raspberry monitor is connected&#8230; but when I browse the url from my mobile , its not showing the image/video on the mobile console&#8230;but it opens up diagloag showing the image/video on the monitor when raspberry is connected.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2046">
<div id="dsq-comment-header-2046" class="dsq-comment-header">
<cite id="dsq-cite-2046">
./                <span id="dsq-author-user-2046">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2046" class="dsq-comment-body">
<div id="dsq-comment-message-2046" class="dsq-comment-message"><p>Hey Shrikant. Thanks. I did not get your question. Are you able to see or not able see it on your mobile when the recording is going on?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2047">
<div id="dsq-comment-header-2047" class="dsq-comment-header">
<cite id="dsq-cite-2047">
<span id="dsq-author-user-2047">shrikant</span>
</cite>
</div>
<div id="dsq-comment-body-2047" class="dsq-comment-body">
<div id="dsq-comment-message-2047" class="dsq-comment-message"><p>No I did not see the recording on my mobile. whenever I click on the start camera button from the mobile browser,  it opens up recording window on the monitor where I connected my monitor and not non the mobile.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2048">
<div id="dsq-comment-header-2048" class="dsq-comment-header">
<cite id="dsq-cite-2048">
./                <span id="dsq-author-user-2048">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2048" class="dsq-comment-body">
<div id="dsq-comment-message-2048" class="dsq-comment-message"><p>If you click start on mobile, it will show the feed on all the devices which have that webpage open, that includes both your desktop monitor and your phone browser, we are using the <code>emit</code> on sockets, hence the behavior. </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a103f009eb7f410871833" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
io.sockets.emit('liveStream', 'image_stream.jpg?_t=' + (Math.random() * 100000));</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a103f009eb7f410871833-1">1</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a103f009eb7f410871833-1"><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">sockets</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'liveStream'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'image_stream.jpg?_t='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">100000</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>Is this what you were referring to?</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-5" id="dsq-comment-2062">
<div id="dsq-comment-header-2062" class="dsq-comment-header">
<cite id="dsq-cite-2062">
<span id="dsq-author-user-2062">shrikant</span>
</cite>
</div>
<div id="dsq-comment-body-2062" class="dsq-comment-body">
<div id="dsq-comment-message-2062" class="dsq-comment-message"><p>Thanks for the reply Arvind&#8230; I do not see it on my mobile browser</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-2063">
<div id="dsq-comment-header-2063" class="dsq-comment-header">
<cite id="dsq-cite-2063">
./                <span id="dsq-author-user-2063">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2063" class="dsq-comment-body">
<div id="dsq-comment-message-2063" class="dsq-comment-message"><p>Strange! Can you close your desktop browser and open the link only in the mobile browser?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-1967">
<div id="dsq-comment-header-1967" class="dsq-comment-header">
<cite id="dsq-cite-1967">
http://blog.whatgeek.com.pt                <span id="dsq-author-user-1967">Bruno Santos</span>
</cite>
</div>
<div id="dsq-comment-body-1967" class="dsq-comment-body">
<div id="dsq-comment-message-1967" class="dsq-comment-message"><p>Yellow !</p>
<p> Love your script ! After fighting for an hour i finally got it working.<br />
I was having the same problem as Arvind, but after a bit of code scrutiny &#8211; and a lot of try and error &#8211; your index.js line 61 &#8211; the arguments for the raspistill image location &#8211; :</p>
<p>&#8220;&#8216;./stream/image_stream.jpg'&#8221;</p>
<p>has an error &#8211; both apostrophes must be removed keeping only the double quotation marks:</p>
<p>&#8220;./stream/image_stream.jpg&#8221;</p>
<p>After that, it started working !</p>
<p>Best regards and thank you !</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1968">
<div id="dsq-comment-header-1968" class="dsq-comment-header">
<cite id="dsq-cite-1968">
./                <span id="dsq-author-user-1968">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1968" class="dsq-comment-body">
<div id="dsq-comment-message-1968" class="dsq-comment-message"><p>Thanks Bruno! I am not sure why but when I run the program without quotes, it does not work. I was aware that the extra quotes were not required. Let me see, if more people can get it running without the quotes, I will update the code. Thanks for sharing!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-1969">
<div id="dsq-comment-header-1969" class="dsq-comment-header">
<cite id="dsq-cite-1969">
http://blog.whatgeek.com.pt                <span id="dsq-author-user-1969">Bruno Santos</span>
</cite>
</div>
<div id="dsq-comment-body-1969" class="dsq-comment-body">
<div id="dsq-comment-message-1969" class="dsq-comment-message"><p>Hello Arvind ! Thank you for the reply</p>
<p>I&#8217;m using raspbian . At least with that distro it doesn&#8217;t work and no error is reported&#8230; Probably with other RPI distros is different&#8230; It can be the bash version, or node.js version&#8230; At least, if someone reports the same, it knows what the problem might be !</p>
<p>Best regards and thank you for the tutorial ! Keep up !</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-1970">
<div id="dsq-comment-header-1970" class="dsq-comment-header">
<cite id="dsq-cite-1970">
./                <span id="dsq-author-user-1970">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1970" class="dsq-comment-body">
<div id="dsq-comment-message-1970" class="dsq-comment-message"><p>I was thinking the same too. Lets see, Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt depth-3" id="dsq-comment-2092">
<div id="dsq-comment-header-2092" class="dsq-comment-header">
<cite id="dsq-cite-2092">
<span id="dsq-author-user-2092">Ted Pedersen</span>
</cite>
</div>
<div id="dsq-comment-body-2092" class="dsq-comment-body">
<div id="dsq-comment-message-2092" class="dsq-comment-message"><p>Hey Arvind and Bruno, I was only able to get the program working after removing the quote as well, FYI.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-2093">
<div id="dsq-comment-header-2093" class="dsq-comment-header">
<cite id="dsq-cite-2093">
./                <span id="dsq-author-user-2093">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2093" class="dsq-comment-body">
<div id="dsq-comment-message-2093" class="dsq-comment-message"><p>Thanks Ted. Fixed the code.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-1899">
<div id="dsq-comment-header-1899" class="dsq-comment-header">
<cite id="dsq-cite-1899">
<span id="dsq-author-user-1899">kgray</span>
</cite>
</div>
<div id="dsq-comment-body-1899" class="dsq-comment-body">
<div id="dsq-comment-message-1899" class="dsq-comment-message"><p>Hey, thanks for posting this great tutorial! I am trying to use your code to set this up and I am running into a problem, though. I am able to run index.js and it appears to be working fine, but there is no camera feed when I access <a href="" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://:3000', 'http://:3000');" rel="nofollow">http://:3000</a>. The interface is there, with &#8220;Start Camera&#8221; button and everything, but no video stream. Any suggestions?</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1901">
<div id="dsq-comment-header-1901" class="dsq-comment-header">
<cite id="dsq-cite-1901">
./                <span id="dsq-author-user-1901">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1901" class="dsq-comment-body">
<div id="dsq-comment-message-1901" class="dsq-comment-message"><p>Hello kgray, Thanks!</p>
<p>Couple of things</p>
<p>1. Are there any images being saved to your local folder on your Pi?</p>
<p>2. Can you add a few console logs to check if the capture script is actually getting triggered?</p>
<p>And any errors on the node console or browser dev tools console?</p>
<p>Thanks,<br />
Arvind</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-1905">
<div id="dsq-comment-header-1905" class="dsq-comment-header">
<cite id="dsq-cite-1905">
<span id="dsq-author-user-1905">kgray</span>
</cite>
</div>
<div id="dsq-comment-body-1905" class="dsq-comment-body">
<div id="dsq-comment-message-1905" class="dsq-comment-message"><p>Hey, Arvind!<br />
Here&#8217;s a log from the terminal running index.js:</p>
<p><a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="304059704251434052554242494059">[email&#160;protected]</a> ~ $ cd node_programs/liveStreaming<br />
<a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="c2b2ab82b0a3b1b2a0a7b0b0bbb2ab">[email&#160;protected]</a> ~/node_programs/liveStreaming $ node index.js<br />
listening on *:3000<br />
Total clients connected :  1<br />
Total clients connected :  1<br />
Watching for changes&#8230;<br />
^<a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="3b784b527b495a484b595e4949424b52">[email&#160;protected]</a> ~/node_programs/liveStreaming $ cd stream</p>
<p><a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="d4a4bd94a6b5a7a4b6b1a6a6ada4bd">[email&#160;protected]</a> ~/node_programs/liveStreaming/stream $ ls<br />
<a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="acdcc5ecdecddfdccec9deded5dcc5">[email&#160;protected]</a> ~/node_programs/liveStreaming/stream $</p>
<p>Also, you can see no .jpg being stored in the &#8216;stream&#8217; folder.<br />
Thanks for your help!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-1906">
<div id="dsq-comment-header-1906" class="dsq-comment-header">
<cite id="dsq-cite-1906">
./                <span id="dsq-author-user-1906">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1906" class="dsq-comment-body">
<div id="dsq-comment-message-1906" class="dsq-comment-message"><p>Hello Kgray,</p>
<p>Let us take a step back </p>
<p>1. Can you check if camera module is enabled in BIOS?<br />
2. Are you able to take pictures/record video using Pi&#8217;s Prompt?</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a103f009f2fe935613869" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$ raspistill -o cam.jpg
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a103f009f2fe935613869-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009f2fe935613869-2">2</div><div class="crayon-num" data-line="crayon-5a103f009f2fe935613869-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a103f009f2fe935613869-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009f2fe935613869-2"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">raspistill</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">cam</span><span class="crayon-sy">.</span><span class="crayon-i">jpg</span></div><div class="crayon-line" id="crayon-5a103f009f2fe935613869-3">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>3. Can you create a new js file <code>test.js</code> and add the below code and run<br />
<code>node test.js</code></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a103f009f30a503108724" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var spawn = require('child_process').spawn;
var proc;
var args = ["-w", "640", "-h", "480", "-o", "'./stream/image_stream.jpg'", "-t", "999999999", "-tl", "100"];
proc = spawn('raspistill', args);
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a103f009f30a503108724-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009f30a503108724-2">2</div><div class="crayon-num" data-line="crayon-5a103f009f30a503108724-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009f30a503108724-4">4</div><div class="crayon-num" data-line="crayon-5a103f009f30a503108724-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a103f009f30a503108724-6">6</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a103f009f30a503108724-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009f30a503108724-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">spawn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'child_process'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">spawn</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009f30a503108724-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">proc</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009f30a503108724-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">"-w"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"640"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-h"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"480"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-o"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"'./stream/image_stream.jpg'"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-t"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"999999999"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-tl"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"100"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a103f009f30a503108724-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">proc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">spawn</span><span class="crayon-sy">(</span><span class="crayon-s">'raspistill'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a103f009f30a503108724-6">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0020 seconds] -->
<p></p>
<p>And see if the image is getting generated? </p>
<p>And you will know which step fails, depending on that you can fix the issue.</p>
<p>Thanks,<br />
Arvind.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-5" id="dsq-comment-1916">
<div id="dsq-comment-header-1916" class="dsq-comment-header">
<cite id="dsq-cite-1916">
<span id="dsq-author-user-1916">kgray</span>
</cite>
</div>
<div id="dsq-comment-body-1916" class="dsq-comment-body">
<div id="dsq-comment-message-1916" class="dsq-comment-message"><p>Hey, Arvind.</p>
<p>The camera is definitely enabled. I am able to stream video to a PC using vlc and take stills. I ran the test.js file as you suggested and there is still no image being saved to the &#8216;stream&#8217; folder. I&#8217;m pretty sure the problem is with the image saving bit. I can see the camera initialize when I use the &#8220;Start Camera&#8217; button from the html interface (I still have the led enabled).<br />
The image should be saving here: <a href="./../cdn-cgi/l/email-protection/index.html" class="__cf_email__" data-cfemail="601009201201131002051212191009">[email&#160;protected]</a> ~/node_programs/liveStreaming/stream $, right?</p>
<p>Thanks again.<br />
Kyle</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1917">
<div id="dsq-comment-header-1917" class="dsq-comment-header">
<cite id="dsq-cite-1917">
./                <span id="dsq-author-user-1917">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1917" class="dsq-comment-body">
<div id="dsq-comment-message-1917" class="dsq-comment-message"><p>Hello Kyle, </p>
<p>Yup you are correct. For now, just to make sure things are fine with node js and pi, can you use this node module : <a href="https://www.npmjs.org/package/raspicam" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://www.npmjs.org/package/raspicam', 'https://www.npmjs.org/package/raspicam');" rel="nofollow">https://www.npmjs.org/package/raspicam</a> and try and see if you are able to take a picture or a video? </p>
<p>Thanks. </p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1922">
<div id="dsq-comment-header-1922" class="dsq-comment-header">
<cite id="dsq-cite-1922">
<span id="dsq-author-user-1922">kgray</span>
</cite>
</div>
<div id="dsq-comment-body-1922" class="dsq-comment-body">
<div id="dsq-comment-message-1922" class="dsq-comment-message"><p>Arvind,</p>
<p>I was able to use the node module to take a still and save it to a file.</p>
<p>Kyle</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1925">
<div id="dsq-comment-header-1925" class="dsq-comment-header">
<cite id="dsq-cite-1925">
./                <span id="dsq-author-user-1925">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1925" class="dsq-comment-body">
<div id="dsq-comment-message-1925" class="dsq-comment-message"><p>Not sure if this would work but, can you try below 2 solutions<br />
1. Manually creating the folder where image gets saved and set permissions to write for any user<br />
2. Delete the folder and let camera API create it for you while saving </p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-2271">
<div id="dsq-comment-header-2271" class="dsq-comment-header">
<cite id="dsq-cite-2271">
<span id="dsq-author-user-2271">Matthew Harwood</span>
</cite>
</div>
<div id="dsq-comment-body-2271" class="dsq-comment-body">
<div id="dsq-comment-message-2271" class="dsq-comment-message"><p>Make sure you create a folder in ./stream if not it wont save the file. otherwise great tut.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-2273">
<div id="dsq-comment-header-2273" class="dsq-comment-header">
<cite id="dsq-cite-2273">
./                <span id="dsq-author-user-2273">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2273" class="dsq-comment-body">
<div id="dsq-comment-message-2273" class="dsq-comment-message"><p>Thanks Matthew!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt depth-2" id="dsq-comment-2267">
<div id="dsq-comment-header-2267" class="dsq-comment-header">
<cite id="dsq-cite-2267">
./                <span id="dsq-author-user-2267">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2267" class="dsq-comment-body">
<div id="dsq-comment-message-2267" class="dsq-comment-message"><p>Hello kgray. Are you still facing the issue? </p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul>
</div>
</div>
<script src="./../cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = './rpi-live-streaming/';
var disqus_identifier = '2411 ./?p=2411';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
/*
All currently supported events:
onReady: fires when everything is ready,
onNewComment: fires when a new comment is posted,
onIdentify: fires when user is authenticated
*/
this.language = '';
this.callbacks.onReady.push(function () {
// sync comments in the background so we don't block the page
var script = document.createElement('script');
script.async = true;
script.src = '?cf_action=sync_comments&post_id=2411';
var firstScript = document.getElementsByTagName('script')[0];
firstScript.parentNode.insertBefore(script, firstScript);
});
if (disqus_config_custom) {
disqus_config_custom.call(this);
}
};
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</main><!-- #main -->
</div><!-- #primary -->
<div id="secondary" class="widget-area" role="complementary">
<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="./../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}
.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(./../wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(./../wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(./../wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(./../wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="./../wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="./../portfolio/index.html">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
<a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="./../rotten-tomatoes-jquery-rest-client/index.html" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="./../uploading-files-made-fun/index.html" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
<div class="latest-series"><ul><li><a href="./../series/a-reminder-app/index.html" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="./../series/node-webkit-apps/index.html" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="./../series/rpi/index.html" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>
<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>
<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>
<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>
</ul></div>
</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="./../architecting-a-restful-node-js-app/index.html"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,317 views</li><li><a href="./../getting-started-with-angular-2-0/index.html"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,582 views</li><li><a href="./../developing-a-mean-app-with-angular-2-0/index.html"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,712 views</li><li><a href="./../getting-started-with-node-webkit-apps/index.html"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,571 views</li><li><a href="./index.html"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 91,973 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
<li>
<a href="./../learning-ionic/index.html">Learning Ionic</a>
</li>
<li>
<a href="./../electron-wordpress-angular-material-an-offline-viewer/index.html">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
</li>
<li>
<a href="./../developing-a-mean-app-with-angular-2-0/index.html">Developing a MEAN app with Angular 2.0</a>
</li>
<li>
<a href="./../pushbots-and-cordova/index.html">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
</li>
<li>
<a href="./../getting-started-with-client-side-storage/index.html">Getting Started with Client Side Storage</a>
</li>
</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
<li class="cat-item cat-item-141"><a href="./../architecture/index.html" >Architecture</a> (8)
</li>
<li class="cat-item cat-item-3"><a href="./../css/index.html" >CSS</a> (9)
<ul class='children'>
<li class="cat-item cat-item-5"><a href="./../css/css3/index.html" >CSS3</a> (6)
</li>
<li class="cat-item cat-item-26"><a href="./../css/less/index.html" >LESS</a> (3)
</li>
<li class="cat-item cat-item-55"><a href="./../css/sass/index.html" >SASS</a> (1)
</li>
</ul>
</li>
<li class="cat-item cat-item-117"><a href="./../database/index.html" >Database</a> (17)
<ul class='children'>
<li class="cat-item cat-item-136"><a href="./../database/disk-db/index.html" >Disk DB</a> (6)
</li>
<li class="cat-item cat-item-131"><a href="./../database/firebase/index.html" >Firebase</a> (4)
</li>
<li class="cat-item cat-item-118"><a href="./../database/mongodb/index.html" >MongoDB</a> (8)
<ul class='children'>
<li class="cat-item cat-item-119"><a href="./../database/mongodb/mongolab/index.html" >MongoLab</a> (3)
</li>
<li class="cat-item cat-item-123"><a href="./../database/mongodb/monk/index.html" >Monk</a> (1)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-125"><a href="./../deployments/index.html" >Deployments</a> (4)
<ul class='children'>
<li class="cat-item cat-item-126"><a href="./../deployments/heroku/index.html" >Heroku</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-135"><a href="./../desktop-apps/index.html" >Desktop Apps</a> (8)
</li>
<li class="cat-item cat-item-155"><a href="./../dna-analysis/index.html" >DNA Analysis</a> (1)
</li>
<li class="cat-item cat-item-112"><a href="./../es6/index.html" >ECMAScript 6</a> (3)
</li>
<li class="cat-item cat-item-162"><a href="./../electron-atom-shell/index.html" >Electron (atom shell)</a> (1)
</li>
<li class="cat-item cat-item-25"><a href="./../frameworks/index.html" >Frameworks</a> (42)
<ul class='children'>
<li class="cat-item cat-item-160"><a href="./../frameworks/angular-2-0/index.html" >Angular 2.0</a> (2)
</li>
<li class="cat-item cat-item-108"><a href="./../frameworks/angularjs/index.html" >Angularjs</a> (21)
</li>
<li class="cat-item cat-item-132"><a href="./../frameworks/backbonejs/index.html" >Backbonejs</a> (1)
</li>
<li class="cat-item cat-item-105"><a href="./../frameworks/bootstrap/index.html" >Bootstrap</a> (9)
</li>
<li class="cat-item cat-item-159"><a href="./../frameworks/emberjs/index.html" >Emberjs</a> (1)
</li>
<li class="cat-item cat-item-56"><a href="./../frameworks/foundation/index.html" >Foundation</a> (3)
</li>
<li class="cat-item cat-item-110"><a href="./../frameworks/framework7/index.html" >Framework7</a> (1)
</li>
<li class="cat-item cat-item-107"><a href="./../frameworks/ionic/index.html" >Ionic</a> (11)
</li>
<li class="cat-item cat-item-157"><a href="./../frameworks/lumx/index.html" >Lumx</a> (1)
</li>
<li class="cat-item cat-item-138"><a href="./../frameworks/mean/index.html" >MEAN</a> (4)
</li>
<li class="cat-item cat-item-116"><a href="./../frameworks/meteorjs/index.html" >Meteorjs</a> (1)
</li>
<li class="cat-item cat-item-122"><a href="./../frameworks/onsen-ui/index.html" >Onsen UI</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-101"><a href="./../git/index.html" >Git</a> (12)
<ul class='children'>
<li class="cat-item cat-item-102"><a href="./../git/github/index.html" >GitHub</a> (10)
</li>
</ul>
</li>
<li class="cat-item cat-item-2"><a href="./../html/index.html" >HTML</a> (22)
<ul class='children'>
<li class="cat-item cat-item-4"><a href="./../html/html5/index.html" >HTML5</a> (21)
<ul class='children'>
<li class="cat-item cat-item-158"><a href="./../html/html5/webrtc/index.html" >WebRTC</a> (1)
</li>
<li class="cat-item cat-item-106"><a href="./../html/html5/websockets/index.html" >WebSockets</a> (6)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-137"><a href="./../intels-app-ui/index.html" >Intel&#039;s App UI</a> (1)
</li>
<li class="cat-item cat-item-143"><a href="./../iot/index.html" >IoT</a> (6)
</li>
<li class="cat-item cat-item-1"><a href="./../javascript/index.html" >Javascript</a> (75)
<ul class='children'>
<li class="cat-item cat-item-6"><a href="./../javascript/jquery/index.html" >jQuery</a> (14)
</li>
</ul>
</li>
<li class="cat-item cat-item-151"><a href="./../material-design/index.html" >Material Design</a> (3)
</li>
<li class="cat-item cat-item-99"><a href="./../mobile/index.html" >Mobile</a> (21)
<ul class='children'>
<li class="cat-item cat-item-103"><a href="./../mobile/android/index.html" >Android</a> (15)
</li>
<li class="cat-item cat-item-113"><a href="./../mobile/firefox-os/index.html" >Firefox OS</a> (2)
</li>
<li class="cat-item cat-item-104"><a href="./../mobile/ios/index.html" >iOS</a> (11)
</li>
<li class="cat-item cat-item-100"><a href="./../mobile/phonegap/index.html" >PhoneGap</a> (16)
</li>
</ul>
</li>
<li class="cat-item cat-item-149"><a href="./../mqtt/index.html" >MQTT</a> (1)
</li>
<li class="cat-item cat-item-163"><a href="./../my-books/index.html" >My Books</a> (1)
</li>
<li class="cat-item cat-item-45"><a href="./../node/index.html" >Node</a> (60)
<ul class='children'>
<li class="cat-item cat-item-152"><a href="./../node/cli/index.html" >CLI</a> (3)
</li>
<li class="cat-item cat-item-121"><a href="./../node/expressjs/index.html" >Expressjs</a> (18)
</li>
<li class="cat-item cat-item-156"><a href="./../node/genome/index.html" >Genome</a> (1)
</li>
<li class="cat-item cat-item-62"><a href="./../node/grunt/index.html" >Grunt</a> (8)
</li>
<li class="cat-item cat-item-124"><a href="./../node/koa/index.html" >Koa</a> (1)
</li>
<li class="cat-item cat-item-134"><a href="./../node/node-webkit/index.html" >Node Webkit</a> (7)
</li>
<li class="cat-item cat-item-54"><a href="./../node/npm/index.html" >NPM</a> (15)
</li>
<li class="cat-item cat-item-120"><a href="./../node/restify/index.html" >Restify</a> (3)
</li>
</ul>
</li>
<li class="cat-item cat-item-161"><a href="./../push-notifications/index.html" >Push Notifications</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="./../quick-and-dirty/index.html" >Quick and Dirty</a> (42)
</li>
<li class="cat-item cat-item-142"><a href="./../raspberry-pi/index.html" >Raspberry Pi</a> (9)
</li>
<li class="cat-item cat-item-60"><a href="./../setup/index.html" >Setup</a> (60)
</li>
<li class="cat-item cat-item-61"><a href="./../testing/index.html" >Testing</a> (5)
<ul class='children'>
<li class="cat-item cat-item-129"><a href="./../testing/jasmine/index.html" >Jasmine</a> (1)
</li>
<li class="cat-item cat-item-128"><a href="./../testing/protractor/index.html" >Protractor</a> (1)
</li>
<li class="cat-item cat-item-98"><a href="./../testing/test-automation/index.html" >Test Automation</a> (1)
</li>
<li class="cat-item cat-item-41"><a href="./../testing/tdd/index.html" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-139"><a href="./../third-party-products/index.html" >Third Party Products</a> (4)
<ul class='children'>
<li class="cat-item cat-item-140"><a href="./../third-party-products/twilio/index.html" >Twilio</a> (4)
</li>
</ul>
</li>
<li class="cat-item cat-item-58"><a href="./../tutorial/index.html" >Tutorial</a> (79)
</li>
<li class="cat-item cat-item-130"><a href="./../performance-analysis/index.html" >UI Performance</a> (1)
</li>
<li class="cat-item cat-item-109"><a href="./../web-components/index.html" >Web Components</a> (3)
</li>
<li class="cat-item cat-item-133"><a href="./../google-web-starter-kit/index.html" >Web Starter Kit</a> (1)
</li>
</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
<li><a href='./../2015/07/index.html'>July 2015</a></li>
<li><a href='./../2015/05/index.html'>May 2015</a></li>
<li><a href='./../2015/04/index.html'>April 2015</a></li>
<li><a href='./../2015/03/index.html'>March 2015</a></li>
<li><a href='./../2015/02/index.html'>February 2015</a></li>
<li><a href='./../2015/01/index.html'>January 2015</a></li>
<li><a href='./../2014/12/index.html'>December 2014</a></li>
<li><a href='./../2014/11/index.html'>November 2014</a></li>
<li><a href='./../2014/10/index.html'>October 2014</a></li>
<li><a href='./../2014/09/index.html'>September 2014</a></li>
<li><a href='./../2014/08/index.html'>August 2014</a></li>
<li><a href='./../2014/07/index.html'>July 2014</a></li>
<li><a href='./../2014/06/index.html'>June 2014</a></li>
<li><a href='./../2014/05/index.html'>May 2014</a></li>
<li><a href='./../2014/04/index.html'>April 2014</a></li>
<li><a href='./../2014/03/index.html'>March 2014</a></li>
<li><a href='./../2014/02/index.html'>February 2014</a></li>
</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
<label>Email <span class="wysija-required">*</span></label>
<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
<span class="abs-req">
<input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
</span>
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />
<input type="hidden" name="form_id" value="1" />
<input type="hidden" name="action" value="save" />
<input type="hidden" name="controller" value="subscribers" />
<input type="hidden" value="1" name="wysija-page" />
<input type="hidden" name="wysija[user_list][list_ids]" value="3" />
</form></div></aside>	</div><!-- #secondary -->
	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
var s = document.getElementsByTagName('script')[0]
, p = document.createElement('script');
p.async = 'async';
p.src = '//rum-static.pingdom.net/prum.min.js';
s.parentNode.insertBefore(p, s);
})();
</script>
</div><!-- #content -->
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="site-info">
All Rights Reserved
<span class="sep"> | </span>
The Jackal of Javascript
</div><!-- .site-info -->
<div class="rnd-circle" style="background: black;width: 10px;height: 10px;border-radius: 50%;"></div>
</footer><!-- #colophon -->
</div><!-- #page -->
<script type='text/javascript'><!--
var seriesdropdown = document.getElementById("orgseries_dropdown");
if (seriesdropdown) {
function onSeriesChange() {
if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
location.href = "./series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
}
}
seriesdropdown.onchange = onSeriesChange;
}
--></script>
<script type="text/javascript">
// <![CDATA[
var disqus_shortname = 'thejackalofjavascriptcom';
(function () {
var nodes = document.getElementsByTagName('span');
for (var i = 0, url; i < nodes.length; i++) {
if (nodes[i].className.indexOf('dsq-postid') != -1) {
nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
url = nodes[i].parentNode.href.split('#', 1);
if (url.length == 1) { url = url[0]; }
else { url = url[1]; }
nodes[i].parentNode.href = url + '#disqus_thread';
}
}
var s = document.createElement('script'); 
s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
// ]]>
</script>
<div class="scroll-back-to-top-wrapper">
<span class="scroll-back-to-top-inner">
<i class="fa fa-2x fa-arrow-circle-up"></i>
</span>
</div>
<style type="text/css">
#wpfront-notification-bar 
{
background: #242d36;
background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
}
#wpfront-notification-bar div.wpfront-message
{
color: #ffffff;
}
#wpfront-notification-bar a.wpfront-button
{
background: #f45145;
background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );
color: #ffffff;
}
#wpfront-notification-bar-open-button
{
background-color: #00b7ea;
}
#wpfront-notification-bar  div.wpfront-close 
{
border: 1px solid #555555;
background-color: #555555;
color: #000000;
}
#wpfront-notification-bar  div.wpfront-close:hover 
{
border: 1px solid #aaaaaa;
background-color: #aaaaaa;
}
</style>
<div id="wpfront-notification-bar-spacer"  style="display: none;">
<div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
<div id="wpfront-notification-bar" class="wpfront-fixed">
<div class="wpfront-close">X</div>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<div class="wpfront-message">
Learn your way around Ionic framework. Check out Learning Ionic!                     </div>
<div>
<a class="wpfront-button" href="https://www.packtpub.com/application-development/learning-ionic/?utm_source=Jkthejackalofjavascript&utm_medium=referral&utm_campaign=1783552603"  target="_blank" >Buy</a>
</div>
</td>
</tr>
</table>
</div>
</div>
<style type="text/css">
.wpfront-message{line-height:27px; vertical-align:baseline !important;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><script type='text/javascript' src='./../wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":".\/wp-admin\/admin-ajax.php","post_id":"2411"};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='./../wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='./../wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='./../wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='./../wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script type="text/javascript">
jQuery.noConflict();
(function( $ ) {
$(function() {
// More code using $ as alias to jQuery
$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top - 20  
},900 ,'easeOutQuint');
return false;
}
}
});
});
})(jQuery);	
</script>				
<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
_stq = window._stq || [];
_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'2411',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
_stq.push([ 'clickTrackerInit', '70838519', '2411' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="./../rpi-video-the-intruder/index.html" rel="Raspberry Pi, Camera and Node.js &#8211; Live Streaming with Websockets #IoT">Raspberry Pi, Camera, Node.js &#8211; Video &#038; Email The Intruder</a></h5><p>In one of my earlier posts : Raspberry pi, PIR Sensor and Node.js – An IoT Intruder Alert system, I have...</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47881846-1', 'auto');
ga('send', 'pageview');
</script>
<a style="display:none;" href="http://www.alexa.com/siteinfo/./"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=./"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- WP Fastest Cache file was created in 8.61437892914 seconds, on 18-11-17 14:09:12 -->