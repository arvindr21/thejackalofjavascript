<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="./xmlrpc.php">
<!-- <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
<link rel="shortcut icon" href="./wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="./wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/61cc3c87f2aa625d55d3026ecc452e96/1511014149index.css" media="all"/>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />
<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Electron, Wordpress &amp; Angular Material - An Offline Viewer | The Jackal of Javascript</title>
<meta name="description" content="Imagine that you are at the airport, waiting for your flight and you hear a couple of guys sitting behind talking about Nodejs, Angularjs, MongoDB and you"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="./electron-wordpress-angular-material-an-offline-viewer/" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Electron, Wordpress &amp; Angular Material - An Offline Viewer | The Jackal of Javascript" />
<meta property="og:description" content="Imagine that you are at the airport, waiting for your flight and you hear a couple of guys sitting behind talking about Nodejs, Angularjs, MongoDB and you" />
<meta property="og:url" content="./electron-wordpress-angular-material-an-offline-viewer/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Angularjs" />
<meta property="article:published_time" content="2015-05-28T13:38:11+05:30" />
<meta property="og:image" content="./wp-content/uploads/2015/05/offlineviewer-384x300.png" />
<meta property="og:image" content="./wp-content/uploads/2015/05/Screen-Shot-2015-05-27-at-6.16.23-pm-451x300.png" />
<meta property="og:image" content="./wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.50.33-am-451x118.png" />
<meta property="og:image" content="./wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-11.41.21-am-451x226.png" />
<meta property="og:image" content="./wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.07.58-pm2-451x245.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Imagine that you are at the airport, waiting for your flight and you hear a couple of guys sitting behind talking about Nodejs, Angularjs, MongoDB and you" />
<meta name="twitter:title" content="Electron, Wordpress &amp; Angular Material - An Offline Viewer | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="./wp-content/uploads/2015/05/offlineviewer-384x300.png" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":".\/wp-includes\/js\/wp-emoji-release.min.js"}};
!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='savrix-style.css-css'  href='./wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='validate-engine-css-css'  href='./wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-css'  href='./wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='./wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='./wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='orgseries-default-css-css'  href='./wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/9f9f3b5f286a1b327e6bb0fdb1185c24/1511014149index.css" media="all"/>
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<!-- <link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wpfront-notification-bar-css'  href='./wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-style-css'  href='./wp-content/themes/sorbet/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-genericons-css'  href='./wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='easy_table_style-css'  href='./wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='upprev-css-css'  href='./wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='jetpack_css-css'  href='./wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="./wp-content/cache/wpfc-minified/3af13bcd925b3eaa358c8ad5070bb07b/1511014148index.css" media="all"/>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');
__gaTracker('create', 'UA-47881846-1', 'auto');
__gaTracker('set', 'forceSSL', true);
__gaTracker('require', 'displayfeatures');
__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer' };
</script>
<script src='./wp-content/cache/wpfc-minified/1f21a7a8ca343ebb57ffeb4ab24afbd9/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery.js'></script> -->
<!-- <script type='text/javascript' src='./wp-includes/js/jquery/jquery-migrate.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='./wp-content/cache/wpfc-minified/052c748258385b6c23fc6642e73a4285/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script src='./wp-content/cache/wpfc-minified/d57c91500961bea5aea0e849cf08f7e7/1511014151index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='./wp-content/plugins/responsive-lightbox/js/front.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script> -->
<!-- <script type='text/javascript' src='./wp-content/plugins/upprev/scripts/upprev.js'></script> -->
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />
<style>
.scroll-back-to-top-wrapper {
position: fixed;
opacity: 0;
visibility: hidden;
overflow: hidden;
text-align: center;
z-index: 99999999;
background-color: #777777;
color: #eeeeee;
width: 50px;
height: 48px;
line-height: 48px;
right: 30px;
bottom: 30px;
padding-top: 2px;
border-top-left-radius: 10px;
border-top-right-radius: 10px;
border-bottom-right-radius: 10px;
border-bottom-left-radius: 10px;
-webkit-transition: all 0.5s ease-in-out;
-moz-transition: all 0.5s ease-in-out;
-ms-transition: all 0.5s ease-in-out;
-o-transition: all 0.5s ease-in-out;
transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
background-color: #888888;
color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
visibility:visible;
cursor:pointer;
opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
vertical-align: 0;
}
</style><style type="text/css">	.ssba {
}
.ssba img
{
width: 35px !important;
padding: 6px;
border:  0;
box-shadow: none !important;
display: inline !important;
vertical-align: middle;
}
.ssba, .ssba a
{
text-decoration:none;
border:0;
background: none;
font-family: Indie Flower;
font-size: 	20px;
}.ssba_sharecount:after, .ssba_sharecount:before {
right: 100%;
border: solid transparent;
content: " ";
height: 0;
width: 0;
position: absolute;
pointer-events: none;
}
.ssba_sharecount:after {
border-color: rgba(224, 221, 221, 0);
border-right-color: #f5f5f5;
border-width: 5px;
top: 50%;
margin-top: -5px;
}
.ssba_sharecount:before {
border-color: rgba(85, 94, 88, 0);
border-right-color: #e0dddd;
border-width: 6px;
top: 50%;
margin-top: -6px;
}
.ssba_sharecount {
font: 11px Arial, Helvetica, sans-serif;
padding: 5px;
-khtml-border-radius: 6px;
-o-border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;
position: relative;
border: 1px solid #e0dddd;color: #555e58;
background: #ffffff;
}
.ssba_sharecount:after {
border-right-color: #ffffff;
}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
</style>
</head>
<body class="single single-post postid-2955 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<div class="site-header-wrapper">
<div class="site-branding">
<h1 class="site-title"><a href="./" rel="home">The Jackal of Javascript</a></h1>
<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
</div>
<div class="toggles">
<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
</div>
</div>
</header><!-- #masthead -->
<div id="menu-toggle-nav" class="panel">
<nav id="site-navigation" class="main-navigation" role="navigation">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="./">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="./portfolio/">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="./history-of-the-web/">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="./javascript-101/">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="./contact-request/">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
</div>
<div id="search-toggle-nav" class="panel">
<div class="search-wrapper">
<form role="search" method="get" class="search-form" action="./">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</div>
</div>
<div id="content" class="site-content">
<div id="primary" class="content-area">
<main id="main" class="site-main" role="main">
<article id="post-2955" class="post-2955 post type-post status-publish format-standard hentry category-angularjs category-architecture category-desktop-apps category-disk-db category-electron-atom-shell category-frameworks category-html5 category-javascript category-material-design category-node category-setup category-tutorial category-websockets">
<header class="entry-header">
<h1 class="entry-title">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</h1>	</header><!-- .entry-header -->
<div class="entry-content">
<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=Electron%2C+WordPress+%26+Angular+Material+%E2%80%93+An+Offline+Viewer+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=Electron%2C+WordPress+%26+Angular+Material+%E2%80%93+An+Offline+Viewer+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./electron-wordpress-angular-material-an-offline-viewer/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./electron-wordpress-angular-material-an-offline-viewer/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">1</span><a href="https://plus.google.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=From The Jackal of Javascript Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=From The Jackal of Javascript Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#19266a6c7b737c7a6d245c757c7a6d6b767735394e766b7d496b7c6a6a393c2b2f787469223958777e6c75786b3954786d7c6b707875393c2b2f3a212b28282239587739567f7f7570777c394f707c6e7c6b3f787469227b767d60245f6b7674394d717c3953787a72787539767f3953786f786a7a6b70696d3c2b29716d6d692336366d717c73787a727875767f73786f786a7a6b70696d377a7674367c757c7a6d6b7677346e766b7d696b7c6a6a3478777e6c75786b3474786d7c6b70787534787734767f7f7570777c346f707c6e7c6b36"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><p>Imagine that you are at the airport, waiting for your flight and you hear a couple of guys sitting behind talking about Nodejs, Angularjs, MongoDB and you being a full stack developer and blogger start eves dropping. And all of sudden one guy mentions.. &#8220;Dude, you should totally check out this awesome blog.. It is titled &#8216;The Jackal of Javascript&#8217; &amp; that guy writes sweet stuff about node webkit, ionic framework and full stack application development with Javascript&#8221;. And the other guy says &#8220;cool..&#8221; And with his airport wifi connection starts browsing the blog on his laptop.. With in a few moments he loses interest because the pages aren&#8217;t loading.</p>
<p>What if the owner of the wordpress blog had an offline viewer and the first guy showed all the awesome stuff in the blog to the other guy on his laptop without any internet connection, wouldn&#8217;t that be cool?</p>
<p>So that is what we are going to do in this post. Build an offline viewer for a wordpress blog.</p>
<p><span style="font-size: 18px;">Below is a quick video introduction to the application we are going to build. </span></p>
<p style="text-align: center;"><span style="font-size: 18px;"> 
<!-- iframe plugin v.4.2 wordpress.org/plugins/iframe/ -->
<iframe width="640" height="480" src="https://www.youtube.com/embed/-bm6G1yLgAA?rel=0" frameborder="0" allowfullscreen scrolling="yes" class="iframe-class"></iframe>
</span></p>
<p><span style="font-size: 18px;">Sweet right? </span></p>
<p>So, let us stop imagining and let us build the offline viewer.</p>
<p>You can find the completed code <a href="https://github.com/arvindr21/wordpress-offline-viewer" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/wordpress-offline-viewer', 'here');" target="_blank">here</a>.</p>
<h2>Architecture</h2>
<p>As mentioned in the video, this is a POC for creating an offline viewer for a wordpress blog. We are using <a href="http://electron.atom.io/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://electron.atom.io/', 'Electron');" target="_blank">Electron</a> (a.k.a Atom shell) to build the offline viewer. We will be using <a href="https://angularjs.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://angularjs.org/', 'Angularjs');" target="_blank">Angularjs</a> in the form of<a href="https://material.angularjs.org/latest/#/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://material.angularjs.org/latest/#/', ' Angular Material');" target="_blank"> Angular Material</a> project to build the user interface for the application.</p>
<p><a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/offlineviewer.png" data-rel="lightbox-0" title=""><img class=" size-medium wp-image-2961 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/offlineviewer-384x300.png?resize=384%2C300" alt="offlineviewer" data-recalc-dims="1" /><noscript><img class=" size-medium wp-image-2961 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/offlineviewer-384x300.png?resize=384%2C300" alt="offlineviewer" data-recalc-dims="1" /></noscript></a></p>
<p>As shown above, We will be using the <a href="http://npmjs.com/package/request" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://npmjs.com/package/request', 'request');" target="_blank">request</a> node module to make HTTP request to the wordpress API to download the blog posts in JSON format and persist it locally using <a href="http://arvindr21.github.io/diskDB" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://arvindr21.github.io/diskDB', 'DiskDB');" target="_blank">DiskDB</a>.</p>
<p>Once all the posts are downloaded, we will sandbox the content. The word sandbox here refers to containment of user interaction &amp; experience inside the viewer. As in how we are capturing the content and replaying it back to the user. In our case, we are sandboxing the images and links, to control the user experience when the user is online or offline. This is better illustrated in the video above.</p>
<p>The JSON response from the WordPress API would look like : <a href="https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts?page=1" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts?page=1', 'https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts?page=1');" target="_blank">https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts?page=1</a>.</p>
<p>If you replace my blog domain name from the above URL with your WordPress blog, you should see the posts from your blog. We will be working with content property of the post object.</p>
<p>Note : We will be using recursions at a lot of places to process collections, asynchronously. I am still not sure if this is an ideal design pattern for an application like this.</p>
<h2>Prerequisites</h2>
<p>The offline viewer is a bit complicated in terms of number of components used. Before you proceed, I recommend taking a look at the following posts</p>
<ul>
<li>Electron : <a href="https://github.com/atom/electron/blob/master/docs/tutorial/quick-start.md" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/atom/electron/blob/master/docs/tutorial/quick-start.md', 'Quick Start');" target="_blank">Quick Start</a></li>
<li>Nodejs : <a href="./hello-node/" target="_blank">Hello Node</a></li>
<li>Sockets : <a href="./websockets-and-sockets-io/" target="_blank">Websockets &amp; Socket.io</a></li>
<li>Disk DB : <a href="./building-todo-app-diskdb/" target="_blank">Building a Todo App with DiskDB</a></li>
<li>Angularjs : <a href="./angularjs-hands-on-tutorial/" target="_blank">Angularjs hands on tutorial</a></li>
<li>Angular Material : <a href="http://www.bossable.com/1231/material-design-meanjs/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.bossable.com/1231/material-design-meanjs/', 'Using AngularJS Material Design');" target="_blank">Using AngularJS Material Design</a></li>
<li>WordPress REST API : <a href="https://developer.wordpress.com/docs/api/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://developer.wordpress.com/docs/api/', 'WordPress REST API Docs');" target="_blank">WordPress REST API Docs</a></li>
</ul>
<h2>Getting started</h2>
<p>We will be using a yeoman generator named <a href="https://github.com/sindresorhus/generator-electron" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/sindresorhus/generator-electron', 'generator-electron');" target="_blank">generator-electron</a> to scaffold our base project, and then we will add the remaining components as we go along.</p>
<p>Create a new folder named <em>offline_viewer</em> and open terminal/prompt there.</p>
<p>To setup the generator, run the following</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e024031975469" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-e">yo </span><span class="crayon-v">grunt</span><span class="crayon-o">-</span><span class="crayon-e">cli </span><span class="crayon-e">bower </span><span class="crayon-v">generator</span><span class="crayon-o">-</span><span class="crayon-v">electron</span></span></span></p>
<p>This may take a few minutes to download all the once modules. Once this is done, we will scaffold a new app inside the <em>offline_viewer</em> folder. Run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e039021559398" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">yo </span><span class="crayon-v">electron</span></span></span></p>
<p>You can fill in the questions after executing the above command as applicable. Once the project is scaffolded and dependencies are installed, we will add a few more modules applicable to the offline viewer. Run,</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e041911498518" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-e">cheerio </span><span class="crayon-e">diskdb </span><span class="crayon-e">request </span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">save</span></span></span></p>
<ul>
<li><a href="https://github.com/cheeriojs/cheerio" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/cheeriojs/cheerio', 'cheerio');" target="_blank">cheerio</a> is to manage DOM manipulation in Nodejs. This module will help us sandboxing the content.</li>
<li><a href="https://github.com/arvindr21/diskDB" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/diskDB', 'diskdb');" target="_blank">diskdb</a> for data persistence.</li>
<li><a href="http://npmjs.com/package/request" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://npmjs.com/package/request', 'request');" target="_blank">request</a> module for contacting the wordpress blog and get the posts as well as to sandbox images.</li>
<li><a href="https://www.npmjs.com/package/socket.io" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.npmjs.com/package/socket.io', 'socket.io');" target="_blank">socket.io</a> for realtime communication between the locally persisted data and the UI.</li>
</ul>
<p>For generating installer for mac &amp; some folder maintenance, we will add the below two modules.</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e04a194741483" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-e">trash </span><span class="crayon-v">appdmg</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">save</span><span class="crayon-o">-</span><span class="crayon-v">dev</span></span></span></p>
<p>The final <em>package.json</em> should look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e052289836374" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">package.json</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"name": "wordpress-offline-viewer",
"productName": "WordpressOfflineViewer",
"version": "0.1.0",
"description": "Electron, WordPress &amp; Angular Material – An Offline Viewer",
"license": "MIT",
"main": "index.js",
"repository": "https://github.com/arvindr21/wordpress-offline-viewer",
"author": {
"name": "Arvind Ravulavaru",
"email": "arvind.ravulavaru@gmail.com",
"url": "thejackalofjavascript.com"
},
"engines": {
"node": "&gt;=0.10.0"
},
"scripts": {
"start": "electron .",
"clean" : "trash --force build",
"clean-mac": "trash --force build/mac release",
"clean-linux": "trash --force build/linux",
"clean-win": "trash --force build/win",
"build-mac": "npm run clean-mac &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=darwin --arch=x64 --version=0.25.2 --icon ./resources/icon.icns --out ./build/mac --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git",
"build-linux": "npm run clean-linux &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=linux --arch=x64 --version=0.25.2 --icon ./resources/icon.icns --out ./build/linux --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git",
"build-win": "npm run clean-win &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=win32 --arch=ia32 --version=0.25.2 --out ./build/win --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git",
"build" : "npm run clean &amp;&amp; npm run build-win &amp;&amp; npm run build-linux &amp;&amp; npm run build-mac",
"release-mac": "npm run clean-mac &amp;&amp; npm run build-mac &amp;&amp; mkdir release &amp;&amp; cd release &amp;&amp; appdmg ../app-dmg.json 'The Javascript of Javascript.dmg'"
},
"keywords": [
"electron-app",
"offline",
"viewer"
],
"devDependencies": {
"appdmg": "^0.3.1",
"electron-packager": "^4.1.1",
"electron-prebuilt": "^0.25.2",
"trash": "^1.4.1"
},
"dependencies": {
"cheerio": "^0.19.0",
"diskdb": "^0.1.14",
"request": "^2.55.0",
"socket.io": "^1.3.5"
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e052289836374-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e052289836374-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e052289836374-46">46</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e052289836374-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"wordpress-offline-viewer"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"productName"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"WordpressOfflineViewer"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"version"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.1.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"description"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Electron, WordPress &amp; Angular Material – An Offline Viewer"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"license"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"MIT"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"main"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"index.js"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"repository"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"https://github.com/arvindr21/wordpress-offline-viewer"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"author"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Arvind Ravulavaru"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"email"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6d7c4c0dfd8d298c4d7c0c3dad7c0d7c4c3f6d1dbd7dfda98d5d9db">[email&#160;protected]</a>"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"url"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"thejackalofjavascript.com"</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"engines"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"node"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"&gt;=0.10.0"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"scripts"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"start"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"electron ."</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"clean"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"trash --force build"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"clean-mac"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"trash --force build/mac release"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"clean-linux"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"trash --force build/linux"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"clean-win"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"trash --force build/win"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"build-mac"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"npm run clean-mac &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=darwin --arch=x64 --version=0.25.2 --icon ./resources/icon.icns --out ./build/mac --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"build-linux"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"npm run clean-linux &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=linux --arch=x64 --version=0.25.2 --icon ./resources/icon.icns --out ./build/linux --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"build-win"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"npm run clean-win &amp;&amp; electron-packager . 'The Jackal of Javascript' --platform=win32 --arch=ia32 --version=0.25.2 --out ./build/win --prune --ignore=node_modules/electron-prebuilt --ignore=node_modules/electron-packager --ignore=node_modules/trash --ignore=.git"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"build"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"npm run clean &amp;&amp; npm run build-win &amp;&amp; npm run build-linux &amp;&amp; npm run build-mac"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"release-mac"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"npm run clean-mac &amp;&amp; npm run build-mac &amp;&amp; mkdir release &amp;&amp; cd release &amp;&amp; appdmg ../app-dmg.json 'The Javascript of Javascript.dmg'"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"keywords"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"electron-app"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"offline"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"viewer"</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"devDependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"appdmg"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.3.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"electron-packager"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^4.1.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"electron-prebuilt"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.25.2"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"trash"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.4.1"</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"cheerio"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.19.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"diskdb"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.1.14"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"request"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^2.55.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"socket.io"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^1.3.5"</span></div><div class="crayon-line" id="crayon-5a1044523e052289836374-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e052289836374-46"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0134 seconds] -->
<p>Do notice that I have added bunch of scripts and updated the meta information of the project. We will be using NPM itself as a task runner to run, build and release the app.</p>
<p>To make sure everything is working fine, run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e05f079846927" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">run </span><span class="crayon-v">start</span></span></span></p>
<p>And you should see</p>
<p><a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-27-at-6.16.23-pm.png" data-rel="lightbox-1" title=""><img class=" size-medium wp-image-2962 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-27-at-6.16.23-pm-451x300.png?resize=451%2C300" alt="Screen Shot 2015-05-27 at 6.16.23 pm" data-recalc-dims="1" /><noscript><img class=" size-medium wp-image-2962 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-27-at-6.16.23-pm-451x300.png?resize=451%2C300" alt="Screen Shot 2015-05-27 at 6.16.23 pm" data-recalc-dims="1" /></noscript></a></p>
<h2>Build the Socket Server</h2>
<p>Now, we will create the server interface for our offline viewer, that talks to the WordPress JSON API.</p>
<p>Create a new folder named <em>app</em> at the root of the project. Inside the <em>app</em> folder, create two folders named <em>server</em> &amp; <em>client.</em> This folders kind of visually demarcate the server code vs. the client code. Here the server being Nodejs &amp; client being Angular application. Inside the Electron shell, any code can be accessed any where, but to keep the code base clean and manageable, we will be maintaining the above folder structure.</p>
<p>Inside the <em>app/server</em> create a file named <em>server.js</em>. This file is responsible for setting up the socket server. Open <em>server.js</em> and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e069173504983" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/server.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var getport = require('./getport');
var fetcher = require('./fetcher');
var searcher = require('./searcher');
module.exports = function(callback) {
// get an unused port!
getport(function(port) {
var io = require('socket.io')(port);
io.sockets.on('connection', function(socket) {
socket.on('load', function(isOnline) {
fetcher(isOnline, function(posts) {
socket.emit('loaded', posts);
});
});
socket.on('search', function(q) {
searcher(q, function(results) {
socket.emit('results', results);
});
});
});
callback(port);
});
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e069173504983-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e069173504983-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e069173504983-29">29</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e069173504983-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">getport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./getport'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">fetcher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./fetcher'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">searcher</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./searcher'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-4">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-5"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-6"><span class="crayon-h">	</span><span class="crayon-c">// get an unused port!</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-7"><span class="crayon-h">	</span><span class="crayon-e">getport</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-9"><span class="crayon-h">		</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">io</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'socket.io'</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-11"><span class="crayon-h">		</span><span class="crayon-v">io</span><span class="crayon-sy">.</span><span class="crayon-v">sockets</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'connection'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">socket</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-12">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-13"><span class="crayon-h">			</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'load'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-14"><span class="crayon-h">				</span><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-15"><span class="crayon-h">					</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'loaded'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-16"><span class="crayon-h">				</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-17"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-18">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-19"><span class="crayon-h">			</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'search'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-20"><span class="crayon-h">				</span><span class="crayon-e">searcher</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">results</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-21"><span class="crayon-h">					</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'results'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">results</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-22"><span class="crayon-h">				</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-23"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-24">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-25"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-26">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e069173504983-27"><span class="crayon-h">		</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e069173504983-28"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e069173504983-29"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0105 seconds] -->
<p>Things to notice</p>
<p>Line 1: We require the getport module. This module takes care of looking for an available port on the user&#8217;s machine that we can use to start the socket server. We cannot pick 8080 or 3000 or any other static port and assume that the selected port would be available on the client. We will work on this file in a moment.</p>
<p>Line 2 : We require the fetcher module. This module is responsible for fetching the content from WordPress REST API, save the data to DiskDB and send the response back.</p>
<p>Line 3 : We require the searcher module. This module is responsible for searching the locally persisted JSON data, as part of the search feature.</p>
<p>Line 7 : As soon as we get a valid port from getport module, we will start a new socket server.</p>
<p>Line 11 : Once a client connects to the server, we will setup listeners for load event and search event.</p>
<p>Line 13 : This event will be fired when the client wants to get the posts from the server. Once the data arrives, we emits a loaded event with the posts</p>
<p>Line 19 : This event will be fired when the client send a query to be searched. Once the results arrive, we emit the results event with the found posts.</p>
<p>Line 27 : Once the socket server is setup, we will execute the callback and send the used port number back.</p>
<p>Next, create a new file named <em>getport.js </em>inside the <em>app/server</em> folder. This file will have the code to return an unused port. Update <em>getport.js</em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e073146048822" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/getport.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// https://gist.github.com/mikeal/1840641
var net = require('net');
var portrange = 45032
function getPort(cb) {
var port = portrange
portrange += 1
var server = net.createServer();
server.listen(port, function(err) {
server.once('close', function() {
cb(port);
});
server.close();
});
server.on('error', function(err) {
getPort(cb);
});
}
module.exports = getPort;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e073146048822-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e073146048822-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e073146048822-22">22</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e073146048822-1"><span class="crayon-c">// https://gist.github.com/mikeal/1840641</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">net</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'net'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">portrange</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">45032</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-4">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e073146048822-5"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">getPort</span><span class="crayon-sy">(</span><span class="crayon-v">cb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-6"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">port</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">portrange</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-7"><span class="crayon-e">	</span><span class="crayon-v">portrange</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e073146048822-9"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">net</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-10"><span class="crayon-h">	</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-11"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">once</span><span class="crayon-sy">(</span><span class="crayon-s">'close'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-12"><span class="crayon-h">			</span><span class="crayon-e">cb</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-13"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-14"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-15"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-16">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e073146048822-17"><span class="crayon-h">	</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'error'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-18"><span class="crayon-h">		</span><span class="crayon-e">getPort</span><span class="crayon-sy">(</span><span class="crayon-v">cb</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-19"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-20"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e073146048822-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e073146048822-22"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">getPort</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0077 seconds] -->
<p>Things to notice</p>
<p>Line 2 : Require the net module, to start a new server</p>
<p>Line 3 : Starting value of the port, from which we need to start checking for a available port</p>
<p>Line 5 : A recursive function that keeps running till it finds a free port.</p>
<p>Line 10 : We attempt to start a server on the port specified, if we are successful, we call the callback function with the port that worked else, if the server errors out, we call the 
<span id="crayon-5a1044523e07b473692816" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">getPort</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>  again. And this time, we increment the port by one &amp; then try starting server. This goes on till the server creation succeeds.</p>
<p>Next, create a file named <em>fetcher.js</em> inside <em>app/server</em> folder. This file will consist of all the business logic for our application. Update <em>app/server/fetcher.js</em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e081805643400" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/fetcher.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var request = require('request');
var sandboxer = require('./sandboxer');
var imageSandBoxer = require('./imageSandBoxer');
var db = require('./connection');
var baseUrl = 'https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts',
page = 1,
perPage = 20,
length = 0,
total, inProgress = false;
module.exports = function fetcher(isOnline, callback, skip) {
var posts = db.posts.find();
var total = db.meta.findOne({
'key': 'found'
});
if (!total) {
total = {
'key': 'found',
'total': -1
}
db.meta.save(total);
}
total = total.total;
length = posts.length;
if (length &gt; 0 &amp;&amp; !skip) {
// if all posts are downloaded, we will send them back
// with out making a call to the JSON server
// Feature : If you want, you can add a property to the
// meta collection, named `lastUpdate`
// &gt; And if all the posts are downloaded, you can dispatch them
// as usual &amp; then check the `lastUpdate` and if it is &gt; 1 day or 1 week,
// download all the posts again to check for any updates
if (length == total) {
return sendByParts(posts.splice(0, perPage));
} else {
sendByParts(posts.splice(0, perPage));
if (total &gt; length) {
page = length / perPage + 1;
fetcher(isOnline, callback, true);
}
return false;
}
}
// clean up old posts
if (page === 1) {
db.posts.remove();
db.loadCollections(['posts']);
}
// make request only if we are online!
if (isOnline) {
request(baseUrl + '?page=' + page,
function(error, response, body) {
if (!error &amp;&amp; response.statusCode == 200) {
body = JSON.parse(body);
posts = body.posts;
if (posts.length &gt; 0) {
// update the found count
db.meta.update({
'key': 'found'
}, {
'total': body.found
}, {
upsert: true
});
// sandbox the pages
sandboxer(posts, function(posts) {
posts = posts.reverse();
db.posts.save(posts);
posts = posts.reverse();
callback(posts);
page++;
fetcher(isOnline, callback, true);
});
} else {
page = 1;
// now that we have all the posts,
// we will start sandboxing the images
// this is the process of taking a image URL
// and converting it to base64
// making this app a true offline viewer!
imageSandBoxer(isOnline, function() {
// ALL Done!
//console.log('Sandboxing Images done!!')
});
// Videos are a bit complex, so left it out :D
}
}
});
}
function sendByParts(_posts) {
if (_posts) {
// send only 20 posts per 1 second
setTimeout(function() {
callback(_posts);
return sendByParts(posts.splice(0, perPage));
}, 1000);
}
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e081805643400-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-80">80</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-82">82</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-84">84</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-86">86</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-88">88</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-90">90</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-92">92</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-94">94</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-96">96</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-98">98</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-100">100</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-102">102</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-104">104</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-106">106</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-108">108</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-110">110</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e081805643400-112">112</div><div class="crayon-num" data-line="crayon-5a1044523e081805643400-113">113</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e081805643400-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'request'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sandboxer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./sandboxer'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-3"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">imageSandBoxer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./imageSandBoxer'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-4"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./connection'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-6"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https://public-api.wordpress.com/rest/v1.1/sites/thejackalofjavascript.com/posts'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perPage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">length</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">inProgress</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-12"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">skip</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">meta</span><span class="crayon-sy">.</span><span class="crayon-e">findOne</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'key'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'found'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'key'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'found'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'total'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">meta</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">.</span><span class="crayon-v">total</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">length</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">length</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">skip</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// if all posts are downloaded, we will send them back</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// with out making a call to the JSON server</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// Feature : If you want, you can add a property to the</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// meta collection, named `lastUpdate`</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// &gt; And if all the posts are downloaded, you can dispatch them</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// as usual &amp; then check the `lastUpdate` and if it is &gt; 1 day or 1 week,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-c">// download all the posts again to check for any updates</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">splice</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">perPage</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">splice</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">perPage</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-42">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e081805643400-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">length</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">length</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">perPage</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// clean up old posts</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">loadCollections</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'posts'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-56">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e081805643400-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// make request only if we are online!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">request</span><span class="crayon-sy">(</span><span class="crayon-v">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'?page='</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">page</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">error</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">statusCode</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// update the found count</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">meta</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'key'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'found'</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'total'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">.</span><span class="crayon-i">found</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">upsert</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-74">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e081805643400-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// sandbox the pages</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">sandboxer</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">save</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-o">++</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-86">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e081805643400-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// now that we have all the posts,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// we will start sandboxing the images</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// this is the process of taking a image URL</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// and converting it to base64</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// making this app a true offline viewer!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-92">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e081805643400-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">imageSandBoxer</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ALL Done!</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//console.log('Sandboxing Images done!!')</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Videos are a bit complex, so left it out :D</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-v">_posts</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">_posts</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// send only 20 posts per 1 second</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">_posts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">splice</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">perPage</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e081805643400-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e081805643400-113"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0390 seconds] -->
<p>Things to notice</p>
<p>* Most of the iterative logic implemented here is recursive.</p>
<p><span style="font-size: 18px;">Line 1 : We include the request module</span></p>
<p>Line 2 : We include the sandboxer module. This module will be used to sandbox the responses that we get from the WordPress API</p>
<p>Line 3 : We include the imageSandBoxer module. This module consists of logic to sandbox images. As in convert the http URL to a base64 one.</p>
<p>Line 4: We include the connection module. This module consists of the code to initialize the DiskDB and export the db object.</p>
<p>Line 6 : We set a few values to be used while processing.</p>
<p>Line 12 : The fetcher is invoked from the <em>server.js</em> passing in the online/offline status of the viewer and a callback. Since we are using recursions, we pass in a third argument to 
<span id="crayon-5a1044523e091657610454" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>  named skip, which will decide if we need to skip/stop making REST calls to the WordPress REST API.</p>
<p>Line 13, 14 : We query the DiskDB for all the posts and meta data.</p>
<p>Line 18 : If meta data is not present, we create a new entry with the total value set to -1. Total stores the total post that the blog has.</p>
<p>Line 28 : We check if at least one batch of posts are downloaded and we can skip fetching from the REST API. If it is true, we check if all the posts are downloaded. If yes, we call 
<span id="crayon-5a1044523e098666657546" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> and send 20 posts at once.</p>
<p>Line 104 : 
<span id="crayon-5a1044523e09e553570545" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sendByParts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> is a recursive function that send back 20 posts per second</p>
<p>Line 40 : If not all posts are downloaded, we send what we have downloaded so far and then call 
<span id="crayon-5a1044523e0a4473779150" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> passing in the online/offline status, the callback and set skip to true. Now, when 
<span id="crayon-5a1044523e0aa458532527" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> is invoked from here, the if condition on line 28 will be false. So, it will move on and download the remaining posts. Before we call 
<span id="crayon-5a1044523e0b0085132148" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>, we will set the page value.</p>
<p>Line 52 : If we are loading the posts from page 1 again, we are removing all the posts and downloading again. This is as part of the POC. Ideally, we need to implement a replace logic while saving existing posts instead of removing the file and adding it again.</p>
<p>Line 58 : We check if the user is online and then only start making calls to the WordPress API.</p>
<p>Line 59 : We create a request to fetch the first page posts.</p>
<p>Line 67 : If it is a success, and we have more than one post in the response, we update the total post count that is sent by the API in our meta collection.</p>
<p>Line 76 : Once the meta collection is updated, we invoke the 
<span id="crayon-5a1044523e0c0241583476" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sandboxer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>. The 
<span id="crayon-5a1044523e0c7808990266" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sandboxer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> takes in a set of posts and sandboxes the URLs and content. And the sandboxed content is sent back.</p>
<p>Line 80 : We save the sandboxed posts to DiskDB and return the same to the UI. After that we increment the page number and call 
<span id="crayon-5a1044523e0cd773764640" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">fetcher</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>. As mentioned most of logic in application runs recursively.</p>
<p>Line 85 : If we are done downloading all the posts, we rest the page number and invoke the 
<span id="crayon-5a1044523e0d3843021177" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">imageSandBoxer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>, which reads all the saved posts from DiskDB and converts the images with http urls to base 64.</p>
<p>Next, we will implement the sandboxer. Create a file named <em>sandboxer.js</em> inside <em>app/server </em>folder. And update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e0da550394004" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/sandboxer.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var cheerio = require('cheerio');
var _sandBoxedPosts = [],
_posts = [],
$imgs;
module.exports = function(posts, callback) {
_sandBoxedPosts = [];
_posts = posts;
process(_posts.shift(), function() {
callback(_sandBoxedPosts);
});
}
function process(post, cb) {
if (post) {
var $ = cheerio.load(post.content);
// anchor tags
$('a').each(function(i, e) {
// sandbox links
//e.attribs.href = 'openExternal("' + e.attribs.href + '")';
e.attribs['ng-click'] = 'openExternal(\'' + e.attribs.href + '\')';
// remove onclick functions
// I use GA to track clicks
delete e.attribs.onclick;
delete e.attribs.target;
e.attribs.href = 'javascript:';
var c = e.children;
if (c.length == 1) {
// pure anchor tag
} else {
// clean up image tags
if (c.length &amp;&amp; c.length &gt; 0 &amp;&amp; c[0].name == 'img') {
var i = c[0];
i.attribs.src = i.attribs["data-lazy-src"];
i.attribs.src = i.attribs.src.split('?resize')[0];
delete i.attribs["data-lazy-src"];
// remove the parent anchor link for
// a image tag
delete e.attribs['ng-click'];
e.attribs['class'] = 'no-pointer';
}
}
});
// pre tags
$('pre').each(function(i, e) {
e.attribs.hljs = 'true';
e.attribs['no-escape'] = 'true';
});
// iframes
$('iframe').each(function(i, e) {
var src = e.attribs.src;
if (src.indexOf('youtube') &gt; 0) {
if (src.indexOf('http') != 0) {
e.attribs.src = 'http:' + e.attribs.src;
}
var p = $(e).parents('p')[0];
p.attribs['ng-class'] = '{hide : !status}';
}
});
$('img').each(function(i, e) {
e.attribs.src = e.attribs.src.split('?resize')[0];
})
post.content = $.html();
_sandBoxedPosts.push(post);
return process(_posts.shift(), cb);
} else {
cb();
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e0da550394004-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e0da550394004-80">80</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e0da550394004-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cheerio</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'cheerio'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">_sandBoxedPosts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-3"><span class="crayon-h">	</span><span class="crayon-v">_posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-4"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">imgs</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-6"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-7"><span class="crayon-h">	</span><span class="crayon-v">_sandBoxedPosts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-8"><span class="crayon-h">	</span><span class="crayon-v">_posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-9"><span class="crayon-h">	</span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">_posts</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-10"><span class="crayon-h">		</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">_sandBoxedPosts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-11"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-12"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-14"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-15"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-16"><span class="crayon-h">		</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cheerio</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-18"><span class="crayon-h">		</span><span class="crayon-c">// anchor tags</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-19"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'a'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">each</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-20">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e0da550394004-21"><span class="crayon-h">			</span><span class="crayon-c">// sandbox links</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-22"><span class="crayon-h">			</span><span class="crayon-c">//e.attribs.href = 'openExternal("' + e.attribs.href + '")';</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-23"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">'ng-click'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'openExternal(\''</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'\')'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-24">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e0da550394004-25"><span class="crayon-h">			</span><span class="crayon-c">// remove onclick functions</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-26"><span class="crayon-h">			</span><span class="crayon-c">// I use GA to track clicks</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-27"><span class="crayon-h">			</span><span class="crayon-r">delete</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">onclick</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-28"><span class="crayon-h">			</span><span class="crayon-r">delete</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">target</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-29"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-e ">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'javascript:'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-30">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e0da550394004-31"><span class="crayon-h">			</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">children</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-32">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e0da550394004-33"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-34"><span class="crayon-h">				</span><span class="crayon-c">// pure anchor tag</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-36"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-37"><span class="crayon-h">				</span><span class="crayon-c">// clean up image tags</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-38"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'img'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-39"><span class="crayon-h">					</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-40"><span class="crayon-h">					</span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">"data-lazy-src"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-41"><span class="crayon-h">					</span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'?resize'</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-42"><span class="crayon-h">					</span><span class="crayon-r">delete</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">"data-lazy-src"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-43"><span class="crayon-h">					</span><span class="crayon-c">// remove the parent anchor link for</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-44"><span class="crayon-h">					</span><span class="crayon-c">// a image tag</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-45"><span class="crayon-h">					</span><span class="crayon-r">delete</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">'ng-click'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-46"><span class="crayon-h">					</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">'class'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'no-pointer'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-47"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-48"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-50"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-52"><span class="crayon-h">		</span><span class="crayon-c">// pre tags</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-53"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'pre'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">each</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-54"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-e ">hljs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'true'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-55"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">'no-escape'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'true'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-56"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-58"><span class="crayon-h">		</span><span class="crayon-c">// iframes</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-59"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'iframe'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">each</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-60"><span class="crayon-h">			</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-61"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">src</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-s">'youtube'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-62"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">src</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-63"><span class="crayon-h">					</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-e ">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-64"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-65"><span class="crayon-h">				</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">parents</span><span class="crayon-sy">(</span><span class="crayon-s">'p'</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-66"><span class="crayon-h">				</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">[</span><span class="crayon-s">'ng-class'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'{hide : !status}'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-67"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-68"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-70"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'img'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">each</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-71"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'?resize'</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-72"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-74"><span class="crayon-h">		</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">.</span><span class="crayon-e">html</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-75"><span class="crayon-h">		</span><span class="crayon-v">_sandBoxedPosts</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-76"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">_posts</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cb</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-77"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-78"><span class="crayon-h">		</span><span class="crayon-e">cb</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e0da550394004-79"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e0da550394004-80"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0193 seconds] -->
<p>Things to notice</p>
<p>* Most of the iterative logic implemented here is recursive.</p>
<p>Line 1 : We include cheerio</p>
<p>Line 2 : We create a few global scoped variables for recursion.</p>
<p>Line 9 : When the sandboxer is called, we reset the global variables and then call the 
<span id="crayon-5a1044523e0e5544312852" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> recursively till all the posts in the current batch are done.</p>
<p>Line 15 : Inside the 
<span id="crayon-5a1044523e0eb552829233" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>, we check if a post exists. If it does, we start the sandboxing process, if not we execute the callback on line 78</p>
<p>Line 16 : We will access the content property on post and run the content through 
<span id="crayon-5a1044523e0f1214758044" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">cheerio</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>. This provides us with a jQuery like wrapper to work with DOM inside Nodejs. This is quite essential for us to sandbox the content</p>
<p>Line 19 : We sandbox the links. We iterate through each of the links and add a ng-click attribute to it with a custom function. Since I know I am going to use Angularjs, I have attached an ng-click attribute. Apart from that I remove unwanted attributes and reset the href, not to fire links by default.</p>
<p>Line 37 : If the anchor tag has children, I need to process them. In my blog, all the images are wrapped around with an anchor tag because of a plugin I use. I do not want that kind of markup here, where clicking on the image takes the user to the original images. So we clean that up and add custom classes to manage the cursor. All this is sandboxing links.</p>
<p>Line 52 :  For syntax highlighting, I am using an Angular directive named <a href="https://github.com/pc035860/angular-highlightjs" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/pc035860/angular-highlightjs', 'hljs');" target="_blank">hljs</a>. So, I iterate over all the pre tags in my content and set attribute on them that will help me work with then hljs directive. This is a typical example of integrating a third party angular directive with the sandboxer.</p>
<p>Line 58 : We sandbox all the iframe urls which have youtube as their src. By default all the youtube embed URL are protocol relative. They would look like 
<span id="crayon-5a1044523e0fa606957862" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-c">//youtube.com?watch=1234</span></span></span>. This will not work properly in the viewer, hence we will convert them to a http URL. Also, I am adding an ng-class attribute on the iFrame, whose src has youtube in it. This is to show or hide the iFrame depending on the network status as demoed in the video.</p>
<p>Line 69 : We sandbox the image tag, replace any additional parameters in the URL. This is specific to my blog. I have a plugin which adds this.</p>
<p>Line 73 : Once the sandboxing is done, we need to update the original HTML with the sandboxed version.</p>
<p>Line 75 : Call 
<span id="crayon-5a1044523e101080001710" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> on the next post.</p>
<p>To complete the sandboxing, we will be adding a new file named <em>imageSandBoxer.js</em> inside <em>app/server</em> folder. Update <em>imageSandBoxer.js</em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e107839360368" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/imageSandBoxer.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var db = require('./connection.js');
var cheerio = require('cheerio');
// http://stackoverflow.com/a/17133012/1015046
var request = require('request').defaults({
encoding: null
});
var $imgs, posts, $;
module.exports = function imageSandBoxer(isOnline, callback) {
if (!isOnline) return;
posts = db.posts.find();
processPost(posts.shift(), callback);
}
function processPost(post, callback) {
if (post) {
$ = cheerio.load(post.content);
$imgs = $('img').toArray();
sandBoxImage($imgs.shift(), post, callback);
} else {
callback();
}
}
function sandBoxImage($img, post, callback) {
if ($img) {
request.get($img.attribs.src, function(error, response, body) {
if (!error &amp;&amp; response.statusCode == 200) {
data = "data:" + response.headers["content-type"] + ";base64," + new Buffer(body).toString('base64');
$img.attribs.src = data;
sandBoxImage($imgs.shift(), post, callback);
}
});
} else {
post.content = $.html();
var res = db.posts.update({
"ID": post.ID
}, post);
return processPost(posts.shift(), callback);
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e107839360368-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e107839360368-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e107839360368-46">46</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e107839360368-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./connection.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cheerio</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'cheerio'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-4"><span class="crayon-c">// http://stackoverflow.com/a/17133012/1015046</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-5"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'request'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">defaults</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-6"><span class="crayon-h">	</span><span class="crayon-v">encoding</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">null</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-7"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e107839360368-9"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">imgs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e107839360368-11"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">imageSandBoxer</span><span class="crayon-sy">(</span><span class="crayon-v">isOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-12"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">isOnline</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-14"><span class="crayon-h">	</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-15"><span class="crayon-h">	</span><span class="crayon-e">processPost</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-16"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-18"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">processPost</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-19"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-20"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cheerio</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-21"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">imgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-s">'img'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toArray</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-22"><span class="crayon-h">		</span><span class="crayon-e">sandBoxImage</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">imgs</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-23"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-24"><span class="crayon-h">		</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-25"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-26"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-28"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">sandBoxImage</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">img</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-29"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">img</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-30"><span class="crayon-h">		</span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-31"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">error</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">statusCode</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-32"><span class="crayon-h">				</span><span class="crayon-e ">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"data:"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-v">headers</span><span class="crayon-sy">[</span><span class="crayon-s">"content-type"</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";base64,"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Buffer</span><span class="crayon-sy">(</span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-s">'base64'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-33"><span class="crayon-h">				</span><span class="crayon-sy">$</span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-v">attribs</span><span class="crayon-sy">.</span><span class="crayon-v">src</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-34"><span class="crayon-h">				</span><span class="crayon-e">sandBoxImage</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">imgs</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-35"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-36"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-38"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-39"><span class="crayon-h">		</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">.</span><span class="crayon-e">html</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-40"><span class="crayon-h">		</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-41"><span class="crayon-h">			</span><span class="crayon-s">"ID"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-i">ID</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-42"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-43"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">processPost</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">shift</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-44"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e107839360368-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e107839360368-46"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0120 seconds] -->
<p>Things to notice</p>
<p>* Most of the iterative logic implemented here is recursive.</p>
<p>
<span id="crayon-5a1044523e10f443908226" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">imageSandBoxer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> will be called only after all the posts are downloaded.</p>
<p>Line 1 : We require the connection module. This module consists of the code to initialize the DiskDB and export the db object.</p>
<p>Line 2 : We require cheerio</p>
<p>Line 5 : We require the request module. Do notice that we are setting encoding to null. This is to make sure we download image response as binary.</p>
<p>Line 12 : If there is no network connection, do not make calls</p>
<p>Line 15 : We 
<span id="crayon-5a1044523e116694487422" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">processPost</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> by passing in the post and a callback. This recursively runs till all the posts are done processing.</p>
<p>Line 21 : We get all the images from the post and call the 
<span id="crayon-5a1044523e11d379719014" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">sandBoxImage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> by passing in one image at a time. This recursively runs till all the images are done processing.</p>
<p>Line 29 : If there is a valid image, get the image data. Convert the response to a base 64 format on line 32 and update the src attribute.</p>
<p>Line 39 : Once all images in a given post are done processing, we update the data in DiskDB and go to the next post.</p>
<p>Now, we will create a file named <em>connection.js</em> inside <em>app/server</em> folder. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e123897744135" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/connection.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var db = require('diskdb');
db = db.connect(__dirname + '/db', ['posts', 'meta']);
module.exports = db;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e123897744135-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e123897744135-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e123897744135-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e123897744135-4">4</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e123897744135-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'diskdb'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e123897744135-2"><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-e">connect</span><span class="crayon-sy">(</span><span class="crayon-v">__dirname</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/db'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'posts'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meta'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e123897744135-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e123897744135-4"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>For DiskDB to work, create an empty folder named <em>db</em> inside <em>app/serve</em> folder.</p>
<p>To complete the so called server, we will create a file named <em>searcher.js</em> inside <em>app/server </em>folder. Update <em>searcher.js </em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e12a249881390" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/server/searcher.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var db = require('./connection.js');
module.exports = function searcher(q, cb) {
//NO search API for disk DB :(
var posts = db.posts.find();
var results = [];
for (var i = 0; i &lt; posts.length; i++) {
var p = posts[i];
if (p.title.indexOf(q) &gt;= 0 || p.content.indexOf(q) &gt;= 0) {
results.push(p);
}
};
cb(results);
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e12a249881390-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e12a249881390-20">20</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e12a249881390-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./connection.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-2">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-3"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-v">exports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">searcher</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-4">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//NO search API for disk DB :(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e12a249881390-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">results</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-12">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">results</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e12a249881390-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-16">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-18">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e12a249881390-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">cb</span><span class="crayon-sy">(</span><span class="crayon-v">results</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e12a249881390-20"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0057 seconds] -->
<p>Things to notice</p>
<p>Line 1 : We require the connection to DB</p>
<p>Line 6 : We fetch all the posts</p>
<p>Line 9 :  We run through each post&#8217;s title and content and check if the keyword we are searching for exists. if yes, we push it to the results.</p>
<p>Line 19 : Finally we send back the results</p>
<p>This completes our server.</p>
<h2>Build the Angularjs Client</h2>
<p>To work with client side dependencies, we will use bower package manager. From the root of <em>offline_viewer</em> folder run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e132402888534" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">bower </span><span class="crayon-v">init</span></span></span></p>
<p>And fill the fields as applicable. This will create a <em>bower.json</em> file at the root of the project. Next, create a file named <em>.bowerrc </em>at the same level as <em>bower.json.</em> Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e138874682894" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">.bowerrc</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"directory": "app/client/lib"
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e138874682894-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e138874682894-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e138874682894-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e138874682894-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e138874682894-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"directory"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"app/client/lib"</span></div><div class="crayon-line" id="crayon-5a1044523e138874682894-3"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>This will take care of downloading all the dependencies inside the <em>lib</em> folder.</p>
<p>Next, run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e13e229695688" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">bower </span><span class="crayon-e">install </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-e">material </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-e">route </span><span class="crayon-v">roboto</span><span class="crayon-o">-</span><span class="crayon-e">fontface </span><span class="crayon-v">open</span><span class="crayon-o">-</span><span class="crayon-v">sans</span><span class="crayon-o">-</span><span class="crayon-e">fontface </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-e">highlightjs </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-e">mfb </span><span class="crayon-e">ionicons </span><span class="crayon-v">jquery</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">save</span></span></span></p>
<p>If you see a message like <em><span class="s1">Unable to find a suitable version for angular</span></em><span class="s1">, do as shown below</span></p>
<p><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.50.33-am.png" data-rel="lightbox-2" title=""><img class=" size-medium wp-image-2965 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.50.33-am-451x118.png?resize=451%2C118" alt="Screen Shot 2015-05-28 at 12.50.33 am" data-recalc-dims="1" /><noscript><img class=" size-medium wp-image-2965 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.50.33-am-451x118.png?resize=451%2C118" alt="Screen Shot 2015-05-28 at 12.50.33 am" data-recalc-dims="1" /></noscript></a></p>
<p>Quick explanation of the libraries</p>
<ul>
<li><a href="https://jquery.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://jquery.com/', 'jquery');" target="_blank">jquery</a> : DOM manipulation.</li>
<li><a href="https://material.angularjs.org/latest/#/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://material.angularjs.org/latest/#/', 'angular-material');" target="_blank">angular-material</a> : Material Design in Angular.js</li>
<li><a href="https://github.com/angular/bower-angular-route" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/angular/bower-angular-route', 'angular-route');" target="_blank">angular-route</a> : The ngRoute module provides routing and deeplinking services and directives for angular apps.</li>
<li><a href="https://github.com/pc035860/angular-highlightjs" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/pc035860/angular-highlightjs', 'angular-highlightjs');" target="_blank">angular-highlightjs</a> : AngularJS directive for syntax highlighting with highlight.js</li>
<li><a href="https://github.com/nobitagit/ng-material-floating-button" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/nobitagit/ng-material-floating-button', 'ng-mfb');" target="_blank">ng-mfb</a> : Material design floating menu with action buttons implemented as an Angularjs directive.</li>
<li><a href="https://github.com/choffmeister/roboto-fontface-bower" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/choffmeister/roboto-fontface-bower', 'roboto-fontface');" target="_blank">roboto-fontface</a> : Bower package for the Roboto font-face</li>
<li><a href="https://github.com/FontFaceKit/open-sans" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/FontFaceKit/open-sans', 'open-sans-fontface');" target="_blank">open-sans-fontface</a> &#8211; Bower package for the open-sans font-face</li>
<li><a href="http://ionicons.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ionicons.com/', 'ionicons');" target="_blank">ionicons</a> : The premium icon font for Ionic Framework.</li>
</ul>
<p>The final <em>bower.json </em>would look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e148965322498" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">bower.json</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"name": "wordpress-offline-viewer",
"main": "index.js",
"version": "0.1.0",
"authors": [
"Arvind Ravulavaru &lt;arvind.ravulavaru@gmail.com&gt;"
],
"license": "MIT",
"ignore": [
"**/.*",
"node_modules",
"bower_components",
"test",
"tests"
],
"resolutions": {
"angular": "1.4.0"
},
"dependencies": {
"angular-material": "~0.9.4",
"angular-route": "~1.4.0",
"roboto-fontface": "~0.4.2",
"open-sans-fontface": "~1.4.0",
"angular-highlightjs": "~0.4.1",
"ng-mfb": "~0.6.0",
"ionicons": "~2.0.1",
"jquery": "~2.1.4"
}
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e148965322498-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e148965322498-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e148965322498-29">29</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e148965322498-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"wordpress-offline-viewer"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"main"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"index.js"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"version"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.1.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"authors"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Arvind Ravulavaru &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1c7d6e6a757278326e7d6a69707d6a7d6e695c7b717d7570327f7371">[email&#160;protected]</a>&gt;"</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"license"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"MIT"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"ignore"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"**/.*"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"node_modules"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"bower_components"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"test"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"tests"</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"resolutions"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"angular"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"1.4.0"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"dependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"angular-material"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.9.4"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"angular-route"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~1.4.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"roboto-fontface"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.4.2"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"open-sans-fontface"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~1.4.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"angular-highlightjs"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.4.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"ng-mfb"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.6.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"ionicons"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~2.0.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"jquery"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~2.1.4"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e148965322498-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e148965322498-29"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0103 seconds] -->
<p>Next, we will update <em>index.html</em> file present at the root of  <em>offline_viewer</em> folder.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e150715571024" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;The Jackal of Javascript | Offline Viewer&lt;/title&gt;
&lt;link rel="stylesheet" href="app/client/lib/roboto-fontface/css/roboto-fontface.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="app/client/lib/open-sans-fontface/open-sans.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="app/client/lib/angular-material/angular-material.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="app/client/lib/ionicons/css/ionicons.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="app/client/css/highlight.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="app/client/lib/ng-mfb/mfb/dist/mfb.css"&gt;
&lt;link rel="stylesheet" href="app/client/css/index.css"&gt;
&lt;script type="text/javascript"&gt;
// start the socket server
var app = require('./app/server/server');
app(function(port) {
window.serverPort = port;
});
&lt;/script&gt;
&lt;/head&gt;
&lt;body layout="column"&gt;
&lt;div ng-include="'app/client/templates/header.html'"&gt;&lt;/div&gt;
&lt;ng-view layout="row" flex&gt;&lt;/ng-view&gt;
&lt;!-- https://github.com/atom/electron/issues/254 --&gt;
&lt;script&gt;
window.$ = window.jQuery = require('./app/client/lib/jquery/dist/jquery.min');
&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular/angular.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular-animate/angular-animate.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular-aria/angular-aria.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular-material/angular-material.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular-route/angular-route.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/highlightjs/highlight.pack.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/angular-highlightjs/angular-highlightjs.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/lib/ng-mfb/src/mfb-directive.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/js/services.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/js/app.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/js/controllers.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/js/filters.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/client/js/directives.js"&gt;&lt;/script&gt;
&lt;nav mfb-menu ng-controller="SearchCtrl" position="br" effect="zoomin" active-icon="ion-search" resting-icon="ion-search" toggling-method="click" md-ink-ripple ng-click="SearchBox()"&gt;
&lt;/nav&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e150715571024-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e150715571024-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e150715571024-47">47</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e150715571024-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">doctype </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-2"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-e">The </span><span class="crayon-e">Jackal </span><span class="crayon-e">of </span><span class="crayon-v">Javascript</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">Offline </span><span class="crayon-v">Viewer</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/roboto-fontface/css/roboto-fontface.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/open-sans-fontface/open-sans.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-material/angular-material.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/ionicons/css/ionicons.min.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/css/highlight.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/css"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/ng-mfb/mfb/dist/mfb.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/css/index.css"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// start the socket server</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./app/server/server'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">app</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">port</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">serverPort</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">port</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-21"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-22">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e150715571024-23"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">include</span><span class="crayon-o">=</span><span class="crayon-s">"'app/client/templates/header.html'"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-h"> </span><span class="crayon-v">flex</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//github.com/atom/electron/issues/254 --&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">jQuery</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./app/client/lib/jquery/dist/jquery.min'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular/angular.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-animate/angular-animate.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-aria/angular-aria.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-material/angular-material.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-route/angular-route.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/highlightjs/highlight.pack.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/angular-highlightjs/angular-highlightjs.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/lib/ng-mfb/src/mfb-directive.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/js/services.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/js/app.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/js/controllers.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/js/filters.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"app/client/js/directives.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">nav </span><span class="crayon-v">mfb</span><span class="crayon-o">-</span><span class="crayon-e">menu </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"SearchCtrl"</span><span class="crayon-h"> </span><span class="crayon-v">position</span><span class="crayon-o">=</span><span class="crayon-s">"br"</span><span class="crayon-h"> </span><span class="crayon-v">effect</span><span class="crayon-o">=</span><span class="crayon-s">"zoomin"</span><span class="crayon-h"> </span><span class="crayon-v">active</span><span class="crayon-o">-</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"ion-search"</span><span class="crayon-h"> </span><span class="crayon-v">resting</span><span class="crayon-o">-</span><span class="crayon-v">icon</span><span class="crayon-o">=</span><span class="crayon-s">"ion-search"</span><span class="crayon-h"> </span><span class="crayon-v">toggling</span><span class="crayon-o">-</span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"click"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">ink</span><span class="crayon-o">-</span><span class="crayon-e">ripple </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"SearchBox()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">nav</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e150715571024-45"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e150715571024-46">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e150715571024-47"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0300 seconds] -->
<p>Things to notice</p>
<p>Lines 7 to 13 : We require all the CSS files.</p>
<p>Line 16 : We require the <em>server.js</em> file.</p>
<p>Line 17 : We invoke 
<span id="crayon-5a1044523e15c715511279" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">app</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>, which starts the socket server on an available port. We get the used port as the first argument in the callback. We set that value on the window object.</p>
<p>Line 27 : We require jQuery using the module format</p>
<p>Lines 30 &#8211; 42 : We require all js files needed. We will create the missing files as we go along.</p>
<p>Line 43 : We set up the fab button. This is the search button on the bottom right hand corner of the viewer.</p>
<p>Note : We have not used ng-app on any DOM element. We are going to bootstrap this Angular app manually.</p>
<p>Next, open <em>index.js</em> and update as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e163032502889" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
'use strict';
const app = require('app');
const BrowserWindow = require('browser-window');
const Menu = require('menu');
// report crashes to the Electron project
require('crash-reporter').start();
// prevent window being GC'd
let mainWindow = null;
app.on('ready', function() {
mainWindow = new BrowserWindow({
// https://github.com/atom/electron/blob/master/docs/api/browser-window.md
'min-width': 1000,
'min-height': 400,
width: 1200,
height: 600,
center: true,
resizable: true
});
mainWindow.loadUrl(`file://${__dirname}/index.html`);
mainWindow.on('closed', function() {
// deref the window
// for multiple windows store them in an array
mainWindow = null;
});
// uncomment the below line to open devetools
//mainWindow.openDevTools();
});
// does not work when placed on top for some reason.
app.on('window-all-closed', function() {
app.quit();
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e163032502889-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e163032502889-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e163032502889-38">38</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e163032502889-1"><span class="crayon-s">'use strict'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-2"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'app'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-3"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">BrowserWindow</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'browser-window'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-4"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">Menu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'menu'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-6"><span class="crayon-c">// report crashes to the Electron project</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-7"><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'crash-reporter'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e163032502889-9"><span class="crayon-c">// prevent window being GC'd</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-10"><span class="crayon-e">let </span><span class="crayon-v">mainWindow</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-12"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'ready'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mainWindow</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BrowserWindow</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// https://github.com/atom/electron/blob/master/docs/api/browser-window.md</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'min-width'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1000</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'min-height'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">400</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">width</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1200</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">height</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">600</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">center</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resizable</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-22">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e163032502889-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mainWindow</span><span class="crayon-sy">.</span><span class="crayon-e">loadUrl</span><span class="crayon-sy">(</span><span class="crayon-sy">`</span><span class="crayon-v">file</span><span class="crayon-o">:</span><span class="crayon-c">//${__dirname}/index.html`);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-24">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e163032502889-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mainWindow</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'closed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// deref the window</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// for multiple windows store them in an array</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mainWindow</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-30">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e163032502889-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// uncomment the below line to open devetools</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//mainWindow.openDevTools();</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-33"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-34">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e163032502889-35"><span class="crayon-c">// does not work when placed on top for some reason.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-36"><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'window-all-closed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e163032502889-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">app</span><span class="crayon-sy">.</span><span class="crayon-e">quit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e163032502889-38"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0122 seconds] -->
<p>Do notice line nos. 15, 32 and 36.</p>
<p>If you want you can delete <em>index.css</em> present at the root. We will be creating one more inside the client folder later.</p>
<p>Next, we will add the missing scripts. Create a folder named <i>js </i>inside <em>app/client</em>. Inside the <em>js </em>folder, create a file named <em>app.js</em>. Update <em>app.js</em> as below.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e16c262232904" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/js/app.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// download socket.io/socket.io.js via JS, as we do not know the port
var socketScript = document.createElement('script');
socketScript.setAttribute('type', 'text/javascript');
socketScript.setAttribute('src', 'http://localhost:' + window.serverPort + '/socket.io/socket.io.js');
document.getElementsByTagName('head').item(0).appendChild(socketScript);
// wait for the socket.io.js to be downloaded
// then  bootstrap Angular Manually
// 			-&gt; We need socket.io right from the word go!
socketScript.onload = function() {
angular.bootstrap(document, ["OfflineViewer"]);
}
angular.module('OfflineViewer', ['ngMaterial', 'ngRoute', 'hljs', 'socket.io', 'ng-mfb', 'OfflineViewer.controllers', 'OfflineViewer.filters', 'OfflineViewer.directives'])
.config(['$routeProvider', '$mdThemingProvider', '$socketProvider',
function($routeProvider, $mdThemingProvider, $socketProvider) {
$socketProvider.setConnectionUrl('http://localhost:' + window.serverPort);
$mdThemingProvider.theme('default')
.primaryPalette('red')
.accentPalette('orange');
$routeProvider
.when('/', {
templateUrl: 'app/client/templates/App.html',
controller: 'AppCtrl'
})
.otherwise({
redirectTo: '/'
});
}
])
.run(['$rootScope', '$window', function($rootScope, $window) {
$rootScope.inProgress = true;
$rootScope.onLine = $window.navigator.onLine;
$window.addEventListener('online', function() {
$rootScope.onLine = true;
$rootScope.$broadcast('viewer-online');
});
$window.addEventListener('offline', function() {
$rootScope.onLine = false;
$rootScope.$broadcast('viewer-offline');
});
}])</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e16c262232904-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e16c262232904-53">53</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e16c262232904-1"><span class="crayon-c">// download socket.io/socket.io.js via JS, as we do not know the port</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">socketScript</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">createElement</span><span class="crayon-sy">(</span><span class="crayon-s">'script'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-3"><span class="crayon-v">socketScript</span><span class="crayon-sy">.</span><span class="crayon-e">setAttribute</span><span class="crayon-sy">(</span><span class="crayon-s">'type'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'text/javascript'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-4"><span class="crayon-v">socketScript</span><span class="crayon-sy">.</span><span class="crayon-e">setAttribute</span><span class="crayon-sy">(</span><span class="crayon-s">'src'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'http://localhost:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">serverPort</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/socket.io/socket.io.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-5"><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementsByTagName</span><span class="crayon-sy">(</span><span class="crayon-s">'head'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">item</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">appendChild</span><span class="crayon-sy">(</span><span class="crayon-v">socketScript</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-6">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-7"><span class="crayon-c">// wait for the socket.io.js to be downloaded</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-8"><span class="crayon-c">// then&nbsp;&nbsp;bootstrap Angular Manually</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-9"><span class="crayon-c">// 			-&gt; We need socket.io right from the word go!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-11"><span class="crayon-v">socketScript</span><span class="crayon-sy">.</span><span class="crayon-v">onload</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">bootstrap</span><span class="crayon-sy">(</span><span class="crayon-r">document</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">"OfflineViewer"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-14">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-15"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'OfflineViewer'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ngMaterial'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ngRoute'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'hljs'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'socket.io'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ng-mfb'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'OfflineViewer.controllers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'OfflineViewer.filters'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'OfflineViewer.directives'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-16">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-17"><span class="crayon-sy">.</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'$routeProvider'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$mdThemingProvider'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$socketProvider'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">routeProvider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdThemingProvider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">socketProvider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">socketProvider</span><span class="crayon-sy">.</span><span class="crayon-e">setConnectionUrl</span><span class="crayon-sy">(</span><span class="crayon-s">'http://localhost:'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">serverPort</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">mdThemingProvider</span><span class="crayon-sy">.</span><span class="crayon-e">theme</span><span class="crayon-sy">(</span><span class="crayon-s">'default'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">primaryPalette</span><span class="crayon-sy">(</span><span class="crayon-s">'red'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">accentPalette</span><span class="crayon-sy">(</span><span class="crayon-s">'orange'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-i">routeProvider</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">when</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'app/client/templates/App.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'AppCtrl'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">otherwise</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">redirectTo</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$window'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-38">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">inProgress</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-40">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">navigator</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-42">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-e">addEventListener</span><span class="crayon-sy">(</span><span class="crayon-s">'online'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-online'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-e">addEventListener</span><span class="crayon-sy">(</span><span class="crayon-s">'offline'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-offline'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e16c262232904-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e16c262232904-52">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e16c262232904-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0257 seconds] -->
<p>Things to notice</p>
<p>Lines 2 &#8211; 5 : We need to manually download the socket script file as we are not of the port that the socket server would start on.</p>
<p>Line 11 : Once the script is loaded, we will manually bootstrap the angular application.</p>
<p>Line 15 : Initialize a new Angular module named OfflineViewer and add all the dependencies.</p>
<p>Line 17 :  We will be configuring the default theme of Angular Material, the connection url for sockets and the routes.</p>
<p>Line 37 : We add listeners to the online &amp; offline event. And when the state changes, we broadcast the appropriate event. So that the viewer can behave accordingly.</p>
<p>Next, create a new file named <em>controller.js</em> inside <em>app/client</em> folder. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e177523249761" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/js/controllers.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('OfflineViewer.controllers', [])
.controller('HeaderCtrl', ['$scope', '$mdSidenav', '$rootScope', function($scope, $mdSidenav, $rootScope) {
$scope.status = $rootScope.onLine; // True: Online | False: Offline
$scope.toggleSidenav = function(menuId) {
$mdSidenav(menuId).toggle();
};
$scope.$on('viewer-online', function() {
$scope.status = true;
$scope.$apply();
});
$scope.$on('viewer-offline', function() {
$scope.status = false;
$scope.$apply();
});
}])
.controller('AppCtrl', ['$scope', '$socket', '$mdDialog', '$rootScope', '$window',
function($scope, $socket, $mdDialog, $rootScope, $window) {
// recheck again.. sometimes eventhough the wifi
// is disconnected, the navigator thinks it is online!
$scope.status = $rootScope.onLine = $window.navigator.onLine;
$scope.posts = [];
if (!$rootScope.onLine) {
$mdDialog.show(
$mdDialog.alert()
.parent(angular.element(document.body))
.title('You are offline!')
.content('I have noticed that you are offline, I need internet access for a while to download the posts. If you do not see any posts after sometime, launch the viewer after connecting to the internet. Prior saved posts will be accessible from the menu. ')
.ariaLabel('You are offline')
.ok('Got it!')
);
}
$socket.emit('load', $rootScope.onLine);
$socket.on('loaded', function(posts) {
$scope.posts = $scope.posts.concat(posts);
$rootScope.inProgress = false;
});
$scope.showPost = function(post) {
$scope.post = post.content;
}
$scope.openExternal = function(url) {
var confirm = $mdDialog.confirm()
.parent(angular.element(document.body))
.title('Open the link?')
.content('Are you sure you want to open ' + url)
.ok('Yeah! Sure!')
.cancel('No Thanks!')
$mdDialog.show(confirm).then(function() {
require('shell').openExternal(url);
}, function() {
// noop
});
}
$scope.$on('viewer-online', function() {
$scope.status = true;
$socket.emit('load', $scope.status);
$scope.$apply();
});
$scope.$on('viewer-offline', function() {
$scope.status = false;
$scope.$apply();
});
$scope.$on('showSearchPost', function($event, post) {
$scope.showPost(post);
});
}
])
.controller('SearchCtrl', ['$scope', '$socket', '$mdDialog', function($scope, $socket, $mdDialog) {
$scope.SearchBox = function() {
$mdDialog.show({
controller: SearchDialogCtrl,
templateUrl: 'app/client/templates/search.html',
});
}
function SearchDialogCtrl($scope, $mdDialog, $socket, $rootScope) {
$scope.results = $rootScope.results;
$scope.hide = function() {
$mdDialog.hide();
};
$scope.search = function($event) {
if ($event.which === 13) {
$scope.searching = true;
$socket.emit('search', $scope.searchText);
}
}
$scope.showPost = function(post) {
$scope.hide();
$rootScope.$broadcast('showSearchPost', post);
}
$socket.on('results', function(results) {
$scope.searching = false;
$scope.results = results;
$rootScope.results = results;
});
}
}])</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e177523249761-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-80">80</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-82">82</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-84">84</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-86">86</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-88">88</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-90">90</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-92">92</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-94">94</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-96">96</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-98">98</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-100">100</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-102">102</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-104">104</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-106">106</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-108">108</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-110">110</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-112">112</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-114">114</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-116">116</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-118">118</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-120">120</div><div class="crayon-num" data-line="crayon-5a1044523e177523249761-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e177523249761-122">122</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e177523249761-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'OfflineViewer.controllers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-2">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-4"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'HeaderCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$mdSidenav'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdSidenav</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-5"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// True: Online | False: Offline</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-6">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-7"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">toggleSidenav</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">menuId</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-8"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-e">mdSidenav</span><span class="crayon-sy">(</span><span class="crayon-v">menuId</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toggle</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-9"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-11"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-online'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-12"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-13"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-14"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-16"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-offline'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-17"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-18"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-19"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-20"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-22"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'AppCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$socket'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$mdDialog'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$window'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-23"><span class="crayon-h">	</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-24"><span class="crayon-h">		</span><span class="crayon-c">// recheck again.. sometimes eventhough the wifi</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-25"><span class="crayon-h">		</span><span class="crayon-c">// is disconnected, the navigator thinks it is online!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-26">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-27"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">navigator</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-28">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-29"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-30">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-31"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-32"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-33"><span class="crayon-h">				</span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">alert</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-34"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">parent</span><span class="crayon-sy">(</span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">element</span><span class="crayon-sy">(</span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-35"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">title</span><span class="crayon-sy">(</span><span class="crayon-s">'You are offline!'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-36"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">content</span><span class="crayon-sy">(</span><span class="crayon-s">'I have noticed that you are offline, I need internet access for a while to download the posts. If you do not see any posts after sometime, launch the viewer after connecting to the internet. Prior saved posts will be accessible from the menu. '</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-37"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">ariaLabel</span><span class="crayon-sy">(</span><span class="crayon-s">'You are offline'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-38"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">ok</span><span class="crayon-sy">(</span><span class="crayon-s">'Got it!'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-39"><span class="crayon-h">			</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-40"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-42"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'load'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">onLine</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-44"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'loaded'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-45"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-e">concat</span><span class="crayon-sy">(</span><span class="crayon-v">posts</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-46"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">inProgress</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-47"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-48">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-49"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">showPost</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-50"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">post</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-51"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-52">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-53"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">openExternal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-54"><span class="crayon-h">			</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-r">confirm</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">confirm</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-55"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">parent</span><span class="crayon-sy">(</span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">element</span><span class="crayon-sy">(</span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-56"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">title</span><span class="crayon-sy">(</span><span class="crayon-s">'Open the link?'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-57"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">content</span><span class="crayon-sy">(</span><span class="crayon-s">'Are you sure you want to open '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-58"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">ok</span><span class="crayon-sy">(</span><span class="crayon-s">'Yeah! Sure!'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-59"><span class="crayon-h">				</span><span class="crayon-sy">.</span><span class="crayon-e">cancel</span><span class="crayon-sy">(</span><span class="crayon-s">'No Thanks!'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-60">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-61"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-r">confirm</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-62"><span class="crayon-h">				</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'shell'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">openExternal</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-63"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-64"><span class="crayon-h">				</span><span class="crayon-c">// noop</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-65"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-66"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-67">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-68"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-online'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-69"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-70"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'load'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-71"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-72"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-74"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'viewer-offline'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-75"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-76"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-77"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-78">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-80"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'showSearchPost'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-81"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">showPost</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-82"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-83"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-84"><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-86"><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'SearchCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$socket'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$mdDialog'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-88"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">SearchBox</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-89"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-90"><span class="crayon-h">			</span><span class="crayon-v">controller</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">SearchDialogCtrl</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-91"><span class="crayon-h">			</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'app/client/templates/search.html'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-92"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-93"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-94">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-95"><span class="crayon-h">	</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">SearchDialogCtrl</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-96">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-97"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">results</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">results</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-98">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-99"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">hide</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-100"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">mdDialog</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-101"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-102">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-103"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">search</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-104"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-v">which</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-105"><span class="crayon-h">				</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">searching</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-106"><span class="crayon-h">				</span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-s">'search'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">searchText</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-107"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-108"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-109">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-110"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">showPost</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-111"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-112"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">broadcast</span><span class="crayon-sy">(</span><span class="crayon-s">'showSearchPost'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-113"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-114">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e177523249761-115"><span class="crayon-h">		</span><span class="crayon-sy">$</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'results'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">results</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-116"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">searching</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-117"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">results</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">results</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-118"><span class="crayon-h">			</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">results</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">results</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-119"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-120"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e177523249761-121">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e177523249761-122"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0549 seconds] -->
<p>Things to notice</p>
<p>Line 1 : We create a 
<span id="crayon-5a1044523e184176396713" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">OfflineViewer</span><span class="crayon-sy">.</span><span class="crayon-v">controllers</span></span></span> module</p>
<p>Line 4 : 
<span id="crayon-5a1044523e18a057347956" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">HeaderCtrl</span></span></span> is the controller for our application header. Here we define the status of the connectivity and are listening to 
<span id="crayon-5a1044523e190461272139" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">viewer</span><span class="crayon-o">-</span><span class="crayon-v">online</span></span></span> and 
<span id="crayon-5a1044523e196922413778" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">viewer</span><span class="crayon-o">-</span><span class="crayon-v">offline</span></span></span>. And we set the status variable depending on the event fired.</p>
<p>Line 22 : 
<span id="crayon-5a1044523e19c064221664" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">AppCtrl</span></span></span> is the main controller for our application, that notifies the socket server about the status of the viewer and makes requests to fetch the posts,</p>
<p>Line 31 : As soon as the 
<span id="crayon-5a1044523e1a2161482576" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">AppCtrl</span></span></span> is initialized, it will check if the viewer has access to the internet. If no, it shows a dialog with the information that the user is offline and it needs some kind of internet access to download the initial set of posts.</p>
<p>Line 42 : We emit the load event to our server, with the status. We will talk about the 
<span id="crayon-5a1044523e1a8600982747" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-sy">$</span><span class="crayon-v">socket</span></span></span> a bit letter.</p>
<p>Line 45 : Once the socket server receives the first set of posts, it will fire the the loaded event. And the hook here would be called with the first set of posts. Here we concat the incoming posts with the existing posts and assign it to the scope variable.</p>
<p>Line 49 : When a user clicks on a post links, we update the main viewer with the content of the posts.</p>
<p>Line 53 : This is the method we have added while sandboxing the anchor tags. When the user clicks on a link, this method would be fired and it show a popup dialog, asking the user, if s/he wants to open the link. If yes, we execute line 62.</p>
<p>Line 68 : When ever the user goes online, we emit the load method, indicating our socket server to start fetching the posts if it has not already done so.</p>
<p>Line 74 : We reset the status to false if the user goes offline. This status is used to hide/show youtube videos in the content.</p>
<p>Line 86 : The 
<span id="crayon-5a1044523e1b0912190212" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">SearchCtrl</span></span></span> for managing the search feature. When the user clicks on the search icon, on bottom right corner, we show the search dialog.</p>
<p>Line 103 : When the user enters text and clicks on search, we emit the search event with the query text.</p>
<p>Line 115 : Once the results arrive, we update the scope variable with results, which displays the text.</p>
<p>Line 110 : When a user clicks on a post, we broadcast a showSearchPost event, which is listened to on line 80 and shows the post in the main content area.</p>
<p>Quite a lot of important functionality.</p>
<p>Next, we will create a custom directive, that takes up the content of the posts and renders it. Before we render it, we need to compile it so all the attributes we have added while sandboxing will come to life.</p>
<p>Create a new file named <em>directives.js</em> inside <em>app/client/js</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1b8876694279" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/js/directives.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('OfflineViewer.directives', [])
.directive('blogPost', ['$compile', '$parse', function($compile, $parse) {
//http://stackoverflow.com/a/21374642/1015046
var template = "&lt;div&gt;{{post.content}}&lt;/div&gt;"
return {
restrict: 'E',
link: function(s, e, a) {
s.$watch('post', function(val) {
if (val) {
e.html($parse(a.post)(s));
$compile(e.contents())(s);
}
});
}
};
}])</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1b8876694279-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1b8876694279-18">18</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1b8876694279-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'OfflineViewer.directives'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-2">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-3"><span class="crayon-sy">.</span><span class="crayon-e">directive</span><span class="crayon-sy">(</span><span class="crayon-s">'blogPost'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$compile'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$parse'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">compile</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">parse</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-4">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-5"><span class="crayon-h">	</span><span class="crayon-c">//http://stackoverflow.com/a/21374642/1015046</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-6"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">template</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&lt;div&gt;{{post.content}}&lt;/div&gt;"</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-7"><span class="crayon-h">	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-8"><span class="crayon-h">		</span><span class="crayon-v">restrict</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'E'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-9"><span class="crayon-h">		</span><span class="crayon-v">link</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-10"><span class="crayon-h">			</span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-r">watch</span><span class="crayon-sy">(</span><span class="crayon-s">'post'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-11"><span class="crayon-h">				</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-12"><span class="crayon-h">					</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">html</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">a</span><span class="crayon-sy">.</span><span class="crayon-v">post</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-13"><span class="crayon-h">					</span><span class="crayon-sy">$</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">contents</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-14"><span class="crayon-h">				</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-15"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-16"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1b8876694279-17"><span class="crayon-h">	</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1b8876694279-18"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0103 seconds] -->
<p>All we do is parse and compile the content and render it inside a div.</p>
<p>Next, we will add a custom filter, all it does is takes in a content and runs a 
<span id="crayon-5a1044523e1bf803901022" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-sy">$</span><span class="crayon-v">sce</span><span class="crayon-sy">.</span><span class="crayon-e">trustAsHtml</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>.</p>
<p>Create a new file named <em>filters.js</em> inside <em>app/client/js</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1c5084183717" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/js/filters.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
angular.module('OfflineViewer.filters', [])
.filter('toHTML', function($sce) {
return function(input) {
return $sce.trustAsHtml(input);
}
})</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1c5084183717-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1c5084183717-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1c5084183717-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1c5084183717-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1c5084183717-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1c5084183717-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1c5084183717-7">7</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1c5084183717-1"><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'OfflineViewer.filters'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1c5084183717-2">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1c5084183717-3"><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-s">'toHTML'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">sce</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1c5084183717-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">input</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1c5084183717-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">sce</span><span class="crayon-sy">.</span><span class="crayon-e">trustAsHtml</span><span class="crayon-sy">(</span><span class="crayon-v">input</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1c5084183717-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1c5084183717-7"><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>And finally the service component that talks to the socket server. The code written below is taken from the an awesome blog post written by Maciej Sopyło, Tutsplus named : <a href="http://code.tutsplus.com/tutorials/more-responsive-single-page-applications-with-angularjs-socketio-creating-the-library--cms-21738" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://code.tutsplus.com/tutorials/more-responsive-single-page-applications-with-angularjs-socketio-creating-the-library--cms-21738', 'More Responsive Single-Page Applications With AngularJS &amp; Socket.IO: Creating the Library');" target="_blank">More Responsive Single-Page Applications With AngularJS &amp; Socket.IO: Creating the Library</a>.</p>
<p>Create a new file named <em>services.js </em>inside <em>app/client/js</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1cc435070364" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/js/services.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-//
// https://github.com/tiagocparra/angularJS-socketIO//
// -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-//
/*
*http://code.tutsplus.com/tutorials/more-responsive-single-page-applications-with-angularjs-socketio-creating-the-library--cms-21738
*/
var module = angular.module('socket.io', []);
module.provider('$socket', function $socketProvider() {
var ioUrl = '';
var ioConfig = {};
function setOption(name, value, type) {
if (typeof value != type) {
throw new TypeError("'" + name + "' must be of type '" + type + "'");
}
ioConfig[name] = value;
}
this.setResource = function setResource(value) {
setOption('resource', value, 'string');
};
this.setConnectTimeout = function setConnectTimeout(value) {
setOption('connect timeout', value, 'number');
};
this.setTryMultipleTransports = function setTryMultipleTransports(value) {
setOption('try multiple transports', value, 'boolean');
};
this.setReconnect = function setReconnect(value) {
setOption('reconnect', value, 'boolean');
};
this.setReconnectionDelay = function setReconnectionDelay(value) {
setOption('reconnection delay', value, 'number');
};
this.setReconnectionLimit = function setReconnectionLimit(value) {
setOption('reconnection limit', value, 'number');
};
this.setMaxReconnectionAttempts = function setMaxReconnectionAttempts(value) {
setOption('max reconnection attempts', value, 'number');
};
this.setSyncDisconnectOnUnload = function setSyncDisconnectOnUnload(value) {
setOption('sync disconnect on unload', value, 'boolean');
};
this.setAutoConnect = function setAutoConnect(value) {
setOption('auto connect', value, 'boolean');
};
this.setFlashPolicyPort = function setFlashPolicyPort(value) {
setOption('flash policy port', value, 'number')
};
this.setForceNewConnection = function setForceNewConnection(value) {
setOption('force new connection', value, 'boolean');
};
this.setConnectionUrl = function setConnectionUrl(value) {
if ('string' !== typeof value) {
throw new TypeError("setConnectionUrl error: value must be of type 'string'");
}
ioUrl = value;
}
this.$get = function $socketFactory($rootScope) {
var socket = io(ioUrl, ioConfig);
return {
on: function on(event, callback) {
socket.on(event, function() {
//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments
var args = arguments;
// $apply faz com que a callback possa invocar variaveis
// em $scope que tenham sido declaradas pela
// directiva ng-model ou {{}}
$rootScope.$apply(function() {
// este callback.apply regista a função callback que
// poderá conter referencias à variavel socket
callback.apply(socket, args);
});
});
},
off: function off(event, callback) {
if (typeof callback == 'function') {
//neste caso o callback nao tem acesso a $scope nem à
//scope definida pela variavel socket
socket.removeListener(event, callback);
} else {
socket.removeAllListeners(event);
}
},
emit: function emit(event, data, callback) {
if (typeof callback == 'function') {
socket.emit(event, data, function() {
var args = arguments;
$rootScope.$apply(function() {
callback.apply(socket, args);
});
});
} else {
socket.emit(event, data);
}
}
};
};
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-80">80</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-82">82</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-84">84</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-86">86</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-88">88</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-90">90</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-92">92</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-94">94</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-96">96</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-98">98</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-100">100</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-102">102</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1cc435070364-104">104</div><div class="crayon-num" data-line="crayon-5a1044523e1cc435070364-105">105</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1cc435070364-1"><span class="crayon-c">// -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-2"><span class="crayon-c">// https://github.com/tiagocparra/angularJS-socketIO//</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-3"><span class="crayon-c">// -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-4">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-5"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-6"><span class="crayon-c"> *http://code.tutsplus.com/tutorials/more-responsive-single-page-applications-with-angularjs-socketio-creating-the-library--cms-21738</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-7"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-8">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-9"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">module</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'socket.io'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-10">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-11"><span class="crayon-v">module</span><span class="crayon-sy">.</span><span class="crayon-e">provider</span><span class="crayon-sy">(</span><span class="crayon-s">'$socket'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">socketProvider</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-12">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">ioUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ioConfig</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-r">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TypeError</span><span class="crayon-sy">(</span><span class="crayon-s">"'"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"' must be of type '"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"'"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ioConfig</span><span class="crayon-sy">[</span><span class="crayon-r">name</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-22">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setResource</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setResource</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'resource'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setConnectTimeout</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setConnectTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'connect timeout'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setTryMultipleTransports</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setTryMultipleTransports</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'try multiple transports'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setReconnect</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setReconnect</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'reconnect'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setReconnectionDelay</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setReconnectionDelay</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'reconnection delay'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setReconnectionLimit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setReconnectionLimit</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'reconnection limit'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setMaxReconnectionAttempts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setMaxReconnectionAttempts</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'max reconnection attempts'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setSyncDisconnectOnUnload</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setSyncDisconnectOnUnload</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'sync disconnect on unload'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setAutoConnect</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setAutoConnect</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'auto connect'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setFlashPolicyPort</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setFlashPolicyPort</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'flash policy port'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setForceNewConnection</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setForceNewConnection</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setOption</span><span class="crayon-sy">(</span><span class="crayon-s">'force new connection'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">setConnectionUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setConnectionUrl</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'string'</span><span class="crayon-h"> </span><span class="crayon-o">!==</span><span class="crayon-h"> </span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">throw</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TypeError</span><span class="crayon-sy">(</span><span class="crayon-s">"setConnectionUrl error: value must be of type 'string'"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ioUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-62">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">socketFactory</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-64">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">socket</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">io</span><span class="crayon-sy">(</span><span class="crayon-v">ioUrl</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ioConfig</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-66">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">on</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">arguments</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// $apply faz com que a callback possa invocar variaveis</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// em $scope que tenham sido declaradas pela</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// directiva ng-model ou {{}}</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// este callback.apply regista a função callback que</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// poderá conter referencias à variavel socket</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">callback</span><span class="crayon-sy">.</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-v">socket</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">off</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">off</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//neste caso o callback nao tem acesso a $scope nem à</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//scope definida pela variavel socket</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">removeListener</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">removeAllListeners</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">emit</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">callback</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">arguments</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">callback</span><span class="crayon-sy">.</span><span class="crayon-e">apply</span><span class="crayon-sy">(</span><span class="crayon-v">socket</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-e">emit</span><span class="crayon-sy">(</span><span class="crayon-v">event</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1cc435070364-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1cc435070364-105"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0562 seconds] -->
<p>You can read more about how the above service is written in the post linked above.</p>
<p>Now, we will create the three templates used in the app. The header, the app and the search.</p>
<p>Create a new folder named <em>templates</em> inside <em>app/client. </em>Create a new file named <em>header.html</em> inside the <em>app/client/templates</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1db511165529" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/templates/header.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;md-toolbar layout="row" ng-controller="HeaderCtrl" md-scroll-shrink="false"&gt;
&lt;button ng-click="toggleSidenav('left')" class="md-icon-button menuBtn"&gt;
&lt;span class="md-visually-hidden"&gt;Menu&lt;/span&gt;
&lt;/button&gt;
&lt;h1 class="md-toolbar-tools" layout-align-gt-sm="center"&gt;The Jackal of Javascript&lt;/h1&gt;
&lt;div class="md-padding"&gt;
&lt;md-progress-circular ng-show="inProgress" class="md-accent re-pos-loader" md-mode="indeterminate"&gt;&lt;/md-progress-circular&gt;
&lt;/div&gt;
&lt;div class="md-padding"&gt;
&lt;div class="online" ng-show="status"&gt;
&lt;md-tooltip&gt;
You are online!
&lt;/md-tooltip&gt;
&lt;/div&gt;
&lt;div class="offline" ng-show="!status"&gt;
&lt;md-tooltip&gt;
You are offline!
&lt;/md-tooltip&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/md-toolbar&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1db511165529-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e1db511165529-21">21</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1db511165529-1"><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">toolbar </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"HeaderCtrl"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">scroll</span><span class="crayon-o">-</span><span class="crayon-v">shrink</span><span class="crayon-o">=</span><span class="crayon-s">"false"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"toggleSidenav('left')"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-icon-button menuBtn"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-visually-hidden"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Menu</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-toolbar-tools"</span><span class="crayon-h"> </span><span class="crayon-v">layout</span><span class="crayon-o">-</span><span class="crayon-v">align</span><span class="crayon-o">-</span><span class="crayon-v">gt</span><span class="crayon-o">-</span><span class="crayon-v">sm</span><span class="crayon-o">=</span><span class="crayon-s">"center"</span><span class="crayon-o">&gt;</span><span class="crayon-e">The </span><span class="crayon-e">Jackal </span><span class="crayon-e">of </span><span class="crayon-v">Javascript</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-e">circular </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"inProgress"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-accent re-pos-loader"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">mode</span><span class="crayon-o">=</span><span class="crayon-s">"indeterminate"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-v">circular</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"online"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"status"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">tooltip</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">You </span><span class="crayon-e">are </span><span class="crayon-v">online</span><span class="crayon-o">!</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">tooltip</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"offline"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"!status"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">tooltip</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">You </span><span class="crayon-e">are </span><span class="crayon-v">offline</span><span class="crayon-o">!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">tooltip</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1db511165529-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1db511165529-21"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">toolbar</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0124 seconds] -->
<p>Next, comes the app template. Create a file named <em>app.html</em> inside <em>app/client/templates</em> folder. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1e4981896489" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/templates/app.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-close="$mdMedia('lt-sm')"&gt;
&lt;md-list&gt;
&lt;md-subheader&gt;All Posts&lt;/md-subheader&gt;
&lt;md-progress-circular ng-show="posts.length === 0" class="md-accent center-block" md-mode="indeterminate"&gt;&lt;/md-progress-circular&gt;
&lt;md-list-item ng-click="showPost(post)" ng-repeat="post in posts" class="list"&gt;
&lt;div ng-bind-html="post.title | toHTML" class="post-title"&gt;&lt;/div&gt;
&lt;md-divider&gt;&lt;/md-divider&gt;
&lt;/md-list-item&gt;
&lt;/md-list&gt;
&lt;/md-sidenav&gt;
&lt;div layout="column" flex id="content"&gt;
&lt;md-content layout="column" flex class="post"&gt;
&lt;md-whiteframe ng-show="!post" class="md-whiteframe-z2" layout layout-align="center center"&gt;
&lt;div layout="column" layout-align="center center"&gt;
&lt;div class="md-title"&gt;Click on the Menu to start reading posts!&lt;/div&gt;
&lt;div class="mg-top-20p md-title" ng-show="posts.length === 0"&gt;
Waiting for First Page Posts to Load &lt;span class="md-subhead" ng-show="onLine"&gt;(This may take some time)&lt;/span&gt;..
&lt;/div&gt;
&lt;/div&gt;
&lt;/md-whiteframe&gt;
&lt;!-- &lt;div ng-bind-html="post | post"&gt;&lt;/div&gt; --&gt;
&lt;blog-post post="post" ng-show="post" class="md-padding"&gt;&lt;/blog-post&gt;
&lt;/md-content&gt;
&lt;/div&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e1e4981896489-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1e4981896489-24">24</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1e4981896489-1"><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">sidenav </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-sidenav-left md-whiteframe-z2"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">component</span><span class="crayon-o">-</span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"left"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-st">is</span><span class="crayon-o">-</span><span class="crayon-v">locked</span><span class="crayon-o">-</span><span class="crayon-v">close</span><span class="crayon-o">=</span><span class="crayon-s">"$mdMedia('lt-sm')"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-2"><span class="crayon-h">	</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-3"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">subheader</span><span class="crayon-o">&gt;</span><span class="crayon-e">All </span><span class="crayon-v">Posts</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">subheader</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-4"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-e">circular </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"posts.length === 0"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-accent center-block"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">mode</span><span class="crayon-o">=</span><span class="crayon-s">"indeterminate"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-v">circular</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-5"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-e">item </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"showPost(post)"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"post in posts"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-6"><span class="crayon-h">			</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">bind</span><span class="crayon-o">-</span><span class="crayon-v">html</span><span class="crayon-o">=</span><span class="crayon-s">"post.title | toHTML"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"post-title"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-7"><span class="crayon-h">			</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">divider</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">divider</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-8"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-v">item</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-9"><span class="crayon-h">	</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-10"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">sidenav</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-11"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-h"> </span><span class="crayon-e">flex </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"content"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-12"><span class="crayon-h">	</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-h"> </span><span class="crayon-e">flex </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"post"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-13"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">whiteframe </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"!post"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-whiteframe-z2"</span><span class="crayon-h"> </span><span class="crayon-e">layout </span><span class="crayon-v">layout</span><span class="crayon-o">-</span><span class="crayon-v">align</span><span class="crayon-o">=</span><span class="crayon-s">"center center"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-14"><span class="crayon-h">			</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-h"> </span><span class="crayon-v">layout</span><span class="crayon-o">-</span><span class="crayon-v">align</span><span class="crayon-o">=</span><span class="crayon-s">"center center"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-15"><span class="crayon-h">				</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-title"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Click </span><span class="crayon-e">on </span><span class="crayon-e">the </span><span class="crayon-e">Menu </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">start </span><span class="crayon-e">reading </span><span class="crayon-v">posts</span><span class="crayon-o">!</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-16"><span class="crayon-h">				</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"mg-top-20p md-title"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"posts.length === 0"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-17"><span class="crayon-h">					</span><span class="crayon-e">Waiting </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">First </span><span class="crayon-e">Page </span><span class="crayon-e">Posts </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">Load</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-subhead"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"onLine"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-r">This</span><span class="crayon-h"> </span><span class="crayon-e">may </span><span class="crayon-e">take </span><span class="crayon-e">some </span><span class="crayon-v">time</span><span class="crayon-sy">)</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-18"><span class="crayon-h">				</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-19"><span class="crayon-h">			</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-20"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">whiteframe</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-21"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">bind</span><span class="crayon-o">-</span><span class="crayon-v">html</span><span class="crayon-o">=</span><span class="crayon-s">"post | post"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-22"><span class="crayon-h">		</span><span class="crayon-o">&lt;</span><span class="crayon-v">blog</span><span class="crayon-o">-</span><span class="crayon-e">post </span><span class="crayon-v">post</span><span class="crayon-o">=</span><span class="crayon-s">"post"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"post"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-padding"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">blog</span><span class="crayon-o">-</span><span class="crayon-v">post</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1e4981896489-23"><span class="crayon-h">	</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1e4981896489-24"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0234 seconds] -->
<p>This file consist of the main application view template.</p>
<p>Finally the search template. Create a file named <em>search.html </em>inside <em>app/client/templates</em>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1ed682948314" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/templates/search.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;md-dialog aria-label="Search Posts" class="search-dialog"&gt;
&lt;md-dialog-content class="sticky-container" layout="column"&gt;
&lt;md-toolbar layout="column"&gt;&lt;span flex="flex"&gt;&lt;/span&gt;
&lt;div class="md-toolbar-tools"&gt;
&lt;div layout="row" flex="flex" class="fill-height"&gt;
&lt;div lass="md-toolbar-item md-breadcrumb"&gt;
&lt;span&gt;Search Posts&lt;/span&gt;
&lt;/div&gt;
&lt;span flex="flex"&gt;&lt;/span&gt;
&lt;div layout="row" class="md-toolbar-item md-tools"&gt;
&lt;a ng-click="hide()" href="javascript:" class="md-primary"&gt;&lt;i class="ion-close"&gt;&lt;/i&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/md-toolbar&gt;
&lt;md-content layout-padding&gt;
&lt;md-input-container&gt;
&lt;label&gt;I am looking for..&lt;/label&gt;
&lt;input name="description" ng-model="searchText" ng-keypress="search($event)"&gt;
&lt;/md-input-container&gt;
&lt;md-progress-circular ng-show="searching" class="md-accent center-block" md-mode="indeterminate"&gt;&lt;/md-progress-circular&gt;
&lt;md-subheader ng-show="results.length == 0"&gt;No results found!!&lt;/md-subheader&gt;
&lt;md-list ng-show="results.length &gt; 0"&gt;
&lt;md-list-item ng-click="showPost(post)" ng-repeat="post in results" class="list"&gt;
&lt;div ng-bind-html="post.title | toHTML" class="post-title"&gt;&lt;/div&gt;
&lt;md-divider&gt;&lt;/md-divider&gt;
&lt;/md-list-item&gt;
&lt;/md-list&gt;
&lt;/md-content&gt;
&lt;/md-dialog-content&gt;
&lt;/form&gt;
&lt;/md-dialog&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e1ed682948314-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1ed682948314-32">32</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1ed682948314-1"><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">dialog </span><span class="crayon-v">aria</span><span class="crayon-o">-</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">"Search Posts"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"search-dialog"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">dialog</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"sticky-container"</span><span class="crayon-h"> </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">toolbar </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"column"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-v">flex</span><span class="crayon-o">=</span><span class="crayon-s">"flex"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-toolbar-tools"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-h"> </span><span class="crayon-v">flex</span><span class="crayon-o">=</span><span class="crayon-s">"flex"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"fill-height"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">lass</span><span class="crayon-o">=</span><span class="crayon-s">"md-toolbar-item md-breadcrumb"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span><span class="crayon-e">Search </span><span class="crayon-v">Posts</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-v">flex</span><span class="crayon-o">=</span><span class="crayon-s">"flex"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">layout</span><span class="crayon-o">=</span><span class="crayon-s">"row"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-toolbar-item md-tools"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"hide()"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"javascript:"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-primary"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"ion-close"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">toolbar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-v">layout</span><span class="crayon-o">-</span><span class="crayon-v">padding</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">input</span><span class="crayon-o">-</span><span class="crayon-v">container</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span><span class="crayon-i">I</span><span class="crayon-h"> </span><span class="crayon-e">am </span><span class="crayon-e">looking </span><span class="crayon-st">for</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"description"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"searchText"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">keypress</span><span class="crayon-o">=</span><span class="crayon-s">"search($event)"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">input</span><span class="crayon-o">-</span><span class="crayon-v">container</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-e">circular </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"searching"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"md-accent center-block"</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">mode</span><span class="crayon-o">=</span><span class="crayon-s">"indeterminate"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">progress</span><span class="crayon-o">-</span><span class="crayon-v">circular</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">subheader </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"results.length == 0"</span><span class="crayon-o">&gt;</span><span class="crayon-e">No </span><span class="crayon-e">results </span><span class="crayon-v">found</span><span class="crayon-o">!</span><span class="crayon-o">!</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">subheader</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-e">list </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"results.length &gt; 0"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-e">item </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"showPost(post)"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"post in results"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">bind</span><span class="crayon-o">-</span><span class="crayon-v">html</span><span class="crayon-o">=</span><span class="crayon-s">"post.title | toHTML"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"post-title"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">divider</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">divider</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">-</span><span class="crayon-v">item</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">dialog</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a1044523e1ed682948314-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">form</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1ed682948314-32"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">md</span><span class="crayon-o">-</span><span class="crayon-v">dialog</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0246 seconds] -->
<p>Finally the styles. Create a folder named <em>css</em>. Create a file named <em>index.css </em>inside <em>app/client/css. </em>We will add application specific overrides here. Update <em>index.css</em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e1f7477800156" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/css/index.css</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">CSS</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
body {
color: #333;
font-family: 'Open Sans', sans-serif !important;
}
.menuBtn {
background-color: transparent;
border: none;
margin-left: 16px;
outline: none;
}
md-list .md-button {
color: inherit;
text-align: left;
width: 100%;
}
/* Using Data-URI converted from svg until &lt;md-icon&gt; becomes available
https://github.com/google/material-design-icons
*/
.menuBtn {
background: transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGcgaWQ9IkhlYWRlciI+CiAgICA8Zz4KICAgICAgICA8cmVjdCB4PSItNjE4IiB5PSItMjIzMiIgZmlsbD0ibm9uZSIgd2lkdGg9IjE0MDAiIGhlaWdodD0iMzYwMCIvPgogICAgPC9nPgo8L2c+CjxnIGlkPSJMYWJlbCI+CjwvZz4KPGcgaWQ9Ikljb24iPgogICAgPGc+CiAgICAgICAgPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CiAgICAgICAgPHBhdGggZD0iTTMsMThoMTh2LTJIM1YxOHogTTMsMTNoMTh2LTJIM1YxM3ogTTMsNnYyaDE4VjZIM3oiIHN0eWxlPSJmaWxsOiNmM2YzZjM7Ii8+CiAgICA8L2c+CjwvZz4KPGcgaWQ9IkdyaWQiIGRpc3BsYXk9Im5vbmUiPgogICAgPGcgZGlzcGxheT0iaW5saW5lIj4KICAgIDwvZz4KPC9nPgo8L3N2Zz4=) no-repeat center center;
}
.list {
padding-top: 3px;
padding-bottom: 3px;
}
img {
display: block;
clear: both;
margin: 13.5px auto;
box-shadow: 1px 1px 39px 9px rgba(0, 0, 0, 0.5);
border: 0;
height: auto;
max-width: 63%;
}
.crayon-inline {
border-width: 1px !important;
border-color: #ccc !important;
background: #f5f5f5 !important;
border-style: solid !important;
padding: 5px;
border-radius: 4px;
margin: 0 0 10px;
color: #000;
font-family: monospace;
}
blog-post {
overflow-x: hidden;
font-size: 18px;
}
pre {
-webkit-font-smoothing: auto;
font-size: 14px;
background: #f5f5f5;
padding: 10px;
}
a {
color: #f45145;
text-decoration: none;
}
.post-title {
color: #f45145;
font-size: 18px;
font-weight: 600;
}
.mfb-component__button--main,
.mfb-component__button--child {
/*    color: #F44336;
background-color: white;*/
color: white;
background-color: #F44336;
}
.no-pointer {
cursor: default;
}
md-content {
overflow-x: hidden;
}
md-whiteframe {
background: #fff;
margin: 20px;
padding: 20px;
}
.center-block {
margin: 0 auto;
display: block;
}
.mg-top-20p {
margin-top: 20px;
}
.search-dialog {
width: 100%;
min-height: 333px;
}
.online {
width: 30px;
height: 30px;
background: green;
border-radius: 50%;
box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);
right: 0;
position: absolute;
margin-right: 30px;
cursor: pointer;
}
.offline {
width: 30px;
height: 30px;
background: orange;
border-radius: 50%;
box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);
right: 0;
position: absolute;
margin-right: 30px;
cursor: pointer;
}
.hide {
display: none;
}
.re-pos-loader {
position: absolute;
margin-right: 72px;
right: 0px;
top: 7px;
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-80">80</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-82">82</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-84">84</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-86">86</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-88">88</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-90">90</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-92">92</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-94">94</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-96">96</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-98">98</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-100">100</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-102">102</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-104">104</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-106">106</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-108">108</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-110">110</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-112">112</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-114">114</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-116">116</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-118">118</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-120">120</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-122">122</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-124">124</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-126">126</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-128">128</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-130">130</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-132">132</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-134">134</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-136">136</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-138">138</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-140">140</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-142">142</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-144">144</div><div class="crayon-num" data-line="crayon-5a1044523e1f7477800156-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e1f7477800156-146">146</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e1f7477800156-1"><span class="crayon-k ">body </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#333</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-family</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-s">'Open Sans'</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">sans-serif</span><span class="crayon-h"> </span><span class="crayon-cn ">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-4"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-6"><span class="crayon-k ">.menuBtn </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background-color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">transparent</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">none</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin-left</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">16px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">outline</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">none</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-11"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-12">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-13"><span class="crayon-k ">md-list .md-button </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">inherit</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">text-align</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">left</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">100%</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-17"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-18">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-19"><span class="crayon-c">/* Using Data-URI converted from svg until &lt;md-icon&gt; becomes available</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-20"><span class="crayon-c">https://github.com/google/material-design-icons</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-21"><span class="crayon-c">*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-22"><span class="crayon-k ">.menuBtn </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">transparent</span><span class="crayon-h"> </span><span class="crayon-i ">url</span><span class="crayon-sy">(</span><span class="crayon-e ">data</span><span class="crayon-sy">:</span><span class="crayon-i ">image/svg+xml</span><span class="crayon-sy">;</span><span class="crayon-i ">base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGcgaWQ9IkhlYWRlciI+CiAgICA8Zz4KICAgICAgICA8cmVjdCB4PSItNjE4IiB5PSItMjIzMiIgZmlsbD0ibm9uZSIgd2lkdGg9IjE0MDAiIGhlaWdodD0iMzYwMCIvPgogICAgPC9nPgo8L2c+CjxnIGlkPSJMYWJlbCI+CjwvZz4KPGcgaWQ9Ikljb24iPgogICAgPGc+CiAgICAgICAgPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CiAgICAgICAgPHBhdGggZD0iTTMsMThoMTh2LTJIM1YxOHogTTMsMTNoMTh2LTJIM1YxM3ogTTMsNnYyaDE4VjZIM3oiIHN0eWxlPSJmaWxsOiNmM2YzZjM7Ii8+CiAgICA8L2c+CjwvZz4KPGcgaWQ9IkdyaWQiIGRpc3BsYXk9Im5vbmUiPgogICAgPGcgZGlzcGxheT0iaW5saW5lIj4KICAgIDwvZz4KPC9nPgo8L3N2Zz4=</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i ">no-repeat</span><span class="crayon-h"> </span><span class="crayon-i ">center</span><span class="crayon-h"> </span><span class="crayon-i ">center</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-24"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-26"><span class="crayon-k ">.list </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">3px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding-bottom</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">3px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-29"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-30">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-31"><span class="crayon-k ">img </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">block</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">clear</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">both</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">13.5px</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">1px</span><span class="crayon-h"> </span><span class="crayon-i ">1px</span><span class="crayon-h"> </span><span class="crayon-i ">39px</span><span class="crayon-h"> </span><span class="crayon-i ">9px</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">max-width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">63%</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-39"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-40">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-41"><span class="crayon-k ">.crayon-inline </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">1px</span><span class="crayon-h"> </span><span class="crayon-cn ">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#ccc</span><span class="crayon-h"> </span><span class="crayon-cn ">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#f5f5f5</span><span class="crayon-h"> </span><span class="crayon-cn ">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-style</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">solid</span><span class="crayon-h"> </span><span class="crayon-cn ">!important</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">5px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-radius</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">4px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">10px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-family</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">monospace</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-51"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-52">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-53"><span class="crayon-k ">blog-post </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">overflow-x</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">hidden</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-size</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">18px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-56"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-58"><span class="crayon-k ">pre </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">-webkit-font-smoothing</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-size</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">14px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#f5f5f5</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">10px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-63"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-64">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-65"><span class="crayon-k ">a </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#f45145</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">text-decoration</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">none</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-68"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-70"><span class="crayon-k ">.post-title </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#f45145</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-size</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">18px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">600</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-74"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-76"><span class="crayon-k ">.mfb-component__button--main,</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-77"><span class="crayon-k ">.mfb-component__button--child </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*&nbsp;&nbsp;&nbsp;&nbsp;color: #F44336;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-79"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;background-color: white;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-80">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">white</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background-color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#F44336</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-83"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-84">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-85"><span class="crayon-k ">.no-pointer </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">cursor</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">default</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-87"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-88">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-89"><span class="crayon-k ">md-content </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">overflow-x</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">hidden</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-91"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-92">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-93"><span class="crayon-k ">md-whiteframe </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#fff</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-97"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-98">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-99"><span class="crayon-k ">.center-block </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">block</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-102"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-104"><span class="crayon-k ">.mg-top-20p </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">20px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-106"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-107">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-108"><span class="crayon-k ">.search-dialog </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">100%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">min-height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">333px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-111"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-112">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-113"><span class="crayon-k ">.online </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">green</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-radius</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">2px</span><span class="crayon-h"> </span><span class="crayon-i ">4px</span><span class="crayon-h"> </span><span class="crayon-i ">-1px</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.2</span><span class="crayon-sy">)</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">4px</span><span class="crayon-h"> </span><span class="crayon-i ">5px</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.14</span><span class="crayon-sy">)</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">1px</span><span class="crayon-h"> </span><span class="crayon-i ">10px</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.12</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">absolute</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin-right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">cursor</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">pointer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-123"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-124">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-125"><span class="crayon-k ">.offline </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">orange</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">border-radius</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">2px</span><span class="crayon-h"> </span><span class="crayon-i ">4px</span><span class="crayon-h"> </span><span class="crayon-i ">-1px</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.2</span><span class="crayon-sy">)</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">4px</span><span class="crayon-h"> </span><span class="crayon-i ">5px</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.14</span><span class="crayon-sy">)</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">1px</span><span class="crayon-h"> </span><span class="crayon-i ">10px</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-h"> </span><span class="crayon-i ">rgba</span><span class="crayon-sy">(</span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0,</span><span class="crayon-h"> </span><span class="crayon-i ">0.12</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">absolute</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin-right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">30px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">cursor</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">pointer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-135"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-136">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-137"><span class="crayon-k ">.hide </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">none</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-139"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-140">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-141"><span class="crayon-k ">.re-pos-loader </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">absolute</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">margin-right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">72px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">right</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e1f7477800156-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">7px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e1f7477800156-146"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0408 seconds] -->
<p>And some styles for code highlighting. Create a file named <em>highlight.css </em>inside <em>app/client/css </em>folder. Update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e204924644160" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app/client/css/highlight.css</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">CSS</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/*http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css*/
.hljs, {
display: block;
overflow-x: auto;
padding: 0.5em;
color: #333;
background: #f8f8f8;
-webkit-text-size-adjust: none;
-webkit-font-smoothing: auto;
font-size: 14px;
}
.hljs-comment,
.hljs-template_comment,
.diff .hljs-header,
.hljs-javadoc {
color: #998;
font-style: italic
}
.hljs-keyword,
.css .rule .hljs-keyword,
.hljs-winutils,
.javascript .hljs-title,
.nginx .hljs-title,
.hljs-subst,
.hljs-request,
.hljs-status {
color: #333;
font-weight: bold
}
.hljs-number,
.hljs-hexcolor,
.ruby .hljs-constant {
color: #008080
}
.hljs-string,
.hljs-tag .hljs-value,
.hljs-phpdoc,
.hljs-dartdoc,
.tex .hljs-formula {
color: #d14
}
.hljs-title,
.hljs-id,
.scss .hljs-preprocessor {
color: #900;
font-weight: bold
}
.javascript .hljs-title,
.hljs-list .hljs-keyword,
.hljs-subst {
font-weight: normal
}
.hljs-class .hljs-title,
.hljs-type,
.vhdl .hljs-literal,
.tex .hljs-command {
color: #458;
font-weight: bold
}
.hljs-tag,
.hljs-tag .hljs-title,
.hljs-rules .hljs-property,
.django .hljs-tag .hljs-keyword {
color: #000080;
font-weight: normal
}
.hljs-attribute,
.hljs-variable,
.lisp .hljs-body {
color: #008080
}
.hljs-regexp {
color: #009926
}
.hljs-symbol,
.ruby .hljs-symbol .hljs-string,
.lisp .hljs-keyword,
.clojure .hljs-keyword,
.scheme .hljs-keyword,
.tex .hljs-special,
.hljs-prompt {
color: #990073
}
.hljs-built_in {
color: #0086b3
}
.hljs-preprocessor,
.hljs-pragma,
.hljs-pi,
.hljs-doctype,
.hljs-shebang,
.hljs-cdata {
color: #999;
font-weight: bold
}
.hljs-deletion {
background: #fdd
}
.hljs-addition {
background: #dfd
}
.diff .hljs-change {
background: #0086b3
}
.hljs-chunk {
color: #aaa
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e204924644160-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-20">20</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-22">22</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-24">24</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-26">26</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-28">28</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-30">30</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-32">32</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-34">34</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-36">36</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-38">38</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-40">40</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-42">42</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-44">44</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-46">46</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-48">48</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-50">50</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-52">52</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-54">54</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-56">56</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-58">58</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-60">60</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-62">62</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-64">64</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-66">66</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-68">68</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-70">70</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-72">72</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-74">74</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-76">76</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-78">78</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-80">80</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-82">82</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-84">84</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-86">86</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-88">88</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-90">90</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-92">92</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-94">94</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-96">96</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-98">98</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-100">100</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-102">102</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-104">104</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-106">106</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-108">108</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-110">110</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-112">112</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-114">114</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-116">116</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-118">118</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-120">120</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-122">122</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e204924644160-124">124</div><div class="crayon-num" data-line="crayon-5a1044523e204924644160-125">125</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e204924644160-1"><span class="crayon-c">/*http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-2">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-3"><span class="crayon-k ">.hljs, </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">block</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">overflow-x</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">padding</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">0.5em</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#333</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#f8f8f8</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">-webkit-text-size-adjust</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">none</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">-webkit-font-smoothing</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">auto</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-size</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">14px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-12"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-14"><span class="crayon-k ">.hljs-comment,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-15"><span class="crayon-k ">.hljs-template_comment,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-16"><span class="crayon-k ">.diff .hljs-header,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-17"><span class="crayon-k ">.hljs-javadoc </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#998</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-style</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">italic</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-20"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-22"><span class="crayon-k ">.hljs-keyword,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-23"><span class="crayon-k ">.css .rule .hljs-keyword,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-24"><span class="crayon-k ">.hljs-winutils,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-25"><span class="crayon-k ">.javascript .hljs-title,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-26"><span class="crayon-k ">.nginx .hljs-title,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-27"><span class="crayon-k ">.hljs-subst,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-28"><span class="crayon-k ">.hljs-request,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-29"><span class="crayon-k ">.hljs-status </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#333</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">bold</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-32"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-34"><span class="crayon-k ">.hljs-number,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-35"><span class="crayon-k ">.hljs-hexcolor,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-36"><span class="crayon-k ">.ruby .hljs-constant </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#008080</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-38"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-40"><span class="crayon-k ">.hljs-string,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-41"><span class="crayon-k ">.hljs-tag .hljs-value,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-42"><span class="crayon-k ">.hljs-phpdoc,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-43"><span class="crayon-k ">.hljs-dartdoc,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-44"><span class="crayon-k ">.tex .hljs-formula </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#d14</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-46"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-48"><span class="crayon-k ">.hljs-title,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-49"><span class="crayon-k ">.hljs-id,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-50"><span class="crayon-k ">.scss .hljs-preprocessor </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#900</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">bold</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-53"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-54">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-55"><span class="crayon-k ">.javascript .hljs-title,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-56"><span class="crayon-k ">.hljs-list .hljs-keyword,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-57"><span class="crayon-k ">.hljs-subst </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">normal</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-59"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-60">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-61"><span class="crayon-k ">.hljs-class .hljs-title,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-62"><span class="crayon-k ">.hljs-type,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-63"><span class="crayon-k ">.vhdl .hljs-literal,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-64"><span class="crayon-k ">.tex .hljs-command </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#458</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">bold</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-67"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-68">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-69"><span class="crayon-k ">.hljs-tag,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-70"><span class="crayon-k ">.hljs-tag .hljs-title,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-71"><span class="crayon-k ">.hljs-rules .hljs-property,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-72"><span class="crayon-k ">.django .hljs-tag .hljs-keyword </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#000080</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">normal</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-75"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-76">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-77"><span class="crayon-k ">.hljs-attribute,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-78"><span class="crayon-k ">.hljs-variable,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-79"><span class="crayon-k ">.lisp .hljs-body </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#008080</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-81"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-82">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-83"><span class="crayon-k ">.hljs-regexp </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#009926</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-85"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-86">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-87"><span class="crayon-k ">.hljs-symbol,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-88"><span class="crayon-k ">.ruby .hljs-symbol .hljs-string,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-89"><span class="crayon-k ">.lisp .hljs-keyword,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-90"><span class="crayon-k ">.clojure .hljs-keyword,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-91"><span class="crayon-k ">.scheme .hljs-keyword,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-92"><span class="crayon-k ">.tex .hljs-special,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-93"><span class="crayon-k ">.hljs-prompt </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#990073</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-95"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-96">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-97"><span class="crayon-k ">.hljs-built_in </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#0086b3</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-99"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-100">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-101"><span class="crayon-k ">.hljs-preprocessor,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-102"><span class="crayon-k ">.hljs-pragma,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-103"><span class="crayon-k ">.hljs-pi,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-104"><span class="crayon-k ">.hljs-doctype,</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-105"><span class="crayon-k ">.hljs-shebang,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-106"><span class="crayon-k ">.hljs-cdata </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#999</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">font-weight</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">bold</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-109"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-110">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-111"><span class="crayon-k ">.hljs-deletion </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#fdd</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-113"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-114">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-115"><span class="crayon-k ">.hljs-addition </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#dfd</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-117"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-118">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-119"><span class="crayon-k ">.diff .hljs-change </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">background</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#0086b3</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-121"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-122">&nbsp;</div><div class="crayon-line" id="crayon-5a1044523e204924644160-123"><span class="crayon-k ">.hljs-chunk </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e204924644160-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i ">#aaa</span></div><div class="crayon-line" id="crayon-5a1044523e204924644160-125"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0082 seconds] -->
<p>That is it!! We are all done!!</p>
<h2>Test the Offline Viewer</h2>
<p>To test the viewer run,</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e20f574647581" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">run </span><span class="crayon-v">start</span></span></span></p>
<p>And this should launch the viewer and start downloading all the posts. If you want to open devtools, open <em>index.js</em> and uncomment the below line</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e215997513755" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// uncomment the below line to open devetools
mainWindow.openDevTools();</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e215997513755-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e215997513755-2">2</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e215997513755-1"><span class="crayon-c">// uncomment the below line to open devetools</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e215997513755-2"><span class="crayon-v">mainWindow</span><span class="crayon-sy">.</span><span class="crayon-e">openDevTools</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>And run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e21b739839473" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">run </span><span class="crayon-v">start</span></span></span></p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-11.41.21-am.png" data-rel="lightbox-3" title=""><img class=" size-medium wp-image-2969 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-11.41.21-am-451x226.png?resize=451%2C226" alt="Screen Shot 2015-05-28 at 11.41.21 am" data-recalc-dims="1" /><noscript><img class=" size-medium wp-image-2969 aligncenter" src="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-11.41.21-am-451x226.png?resize=451%2C226" alt="Screen Shot 2015-05-28 at 11.41.21 am" data-recalc-dims="1" /></noscript></a></p>
<p>And you should see the above the view.</p>
<p>You can browse through the app, search, click on links and test it out.</p>
<p>If you inspect the image tag after a while, you should see that the src is replaced with base 64 format of the image.</p>
<p><a href="http://i1.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.07.58-pm2.png" data-rel="lightbox-4" title=""><img class=" size-medium wp-image-2972 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.07.58-pm2-451x245.png?resize=451%2C245" alt="Screen Shot 2015-05-28 at 12.07.58 pm" data-recalc-dims="1" /><noscript><img class=" size-medium wp-image-2972 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-28-at-12.07.58-pm2-451x245.png?resize=451%2C245" alt="Screen Shot 2015-05-28 at 12.07.58 pm" data-recalc-dims="1" /></noscript></a></p>
<h2>Build the Offline Viewer</h2>
<p>To build and distribute the application for a given OS, we will be running the scripts which we have written in the <em>package.json</em>.</p>
<p class="p1" style="text-align: center;">
<span id="crayon-5a1044523e223616177385" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">run </span><span class="crayon-v">build</span><span class="crayon-o">-</span><span class="crayon-v">mac</span></span></span></p>
<p class="p1">or</p>
<p class="p1" style="text-align: center;">
<span id="crayon-5a1044523e229586237367" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-i">run</span> <span class="crayon-v">build</span><span class="crayon-o">-</span><span class="crayon-v">linux</span></span></span></p>
<p class="p1">or</p>
<p class="p1" style="text-align: center;">
<span id="crayon-5a1044523e22f593462402" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-i">run</span> <span class="crayon-v">build</span><span class="crayon-o">-</span><span class="crayon-v">win</span></span></span></p>
<p>Or if you want to build for all platforms at once run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e235196057137" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">run </span><span class="crayon-v">build</span></span></span></p>
<p>Do not forget to comment the 
<span id="crayon-5a1044523e23b902421276" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">mainWindow</span><span class="crayon-sy">.</span><span class="crayon-e">openDevTools</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></span></span> line in <em>index.js</em>. Else your packaged app will have the devtools enabled</p>
<h2>Release the Offline Viewer</h2>
<p>As of now, I have integrated appdmg module, to generate DMG files for mac. To implement this, create a new file named <em>app-dmg.json</em> at the root of the project. Update <em>app-dmg.json</em> as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a1044523e241447693639" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">app-dmg.json</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"title": "The Jackal of Javascript",
"icon": "./resources/icon.icns",
"background": "./resources/BG.tiff",
"icon-size": 80,
"contents": [
{
"x": 448,
"y": 344,
"type": "link",
"path": "/Applications"
}, {
"x": 192,
"y": 334,
"type": "file",
"path": "./build/mac/The Jackal of Javascript.app"
}
]
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a1044523e241447693639-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-2">2</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-4">4</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-6">6</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-8">8</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-10">10</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-12">12</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-14">14</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-16">16</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a1044523e241447693639-18">18</div><div class="crayon-num" data-line="crayon-5a1044523e241447693639-19">19</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a1044523e241447693639-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"title"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"The Jackal of Javascript"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"icon"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"./resources/icon.icns"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"background"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"./resources/BG.tiff"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"icon-size"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">80</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"contents"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"x"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">448</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"y"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">344</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"link"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"path"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"/Applications"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"x"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">192</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"y"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">334</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"file"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"path"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"./build/mac/The Jackal of Javascript.app"</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a1044523e241447693639-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a1044523e241447693639-19"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0092 seconds] -->
<p>And for the resources, you can copy all the required files from <a href="https://github.com/arvindr21/wordpress-offline-viewer/tree/master/resources" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/wordpress-offline-viewer/tree/master/resources', 'this folder');" target="_blank">this folder</a>.</p>
<p>And finally run</p>
<p style="text-align: center;">
<span id="crayon-5a1044523e249220319388" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-i">run</span> <span class="crayon-v">release</span><span class="crayon-o">-</span><span class="crayon-v">mac</span></span></span></p>
<p>And it should generate the installer.</p>
<p>So that is it! A Proof of Concept on how to replay the content whether the user is online or offline.</p>
<hr />
<p>Thanks for reading! Do comment.<br />
@arvindr21</p>
<!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=Electron%2C+WordPress+%26+Angular+Material+%E2%80%93+An+Offline+Viewer+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=Electron%2C+WordPress+%26+Angular+Material+%E2%80%93+An+Offline+Viewer+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=./electron-wordpress-angular-material-an-offline-viewer/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=./electron-wordpress-angular-material-an-offline-viewer/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">1</span><a href="https://plus.google.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=./electron-wordpress-angular-material-an-offline-viewer/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=From The Jackal of Javascript Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=./electron-wordpress-angular-material-an-offline-viewer/&amp;text=From The Jackal of Javascript Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#08377b7d6a626d6b7c354d646d6b7c7a676624285f677a6c587a6d7b7b282d3a3e696578332849666f7d64697a2845697c6d7a616964282d3a3e2b303a39393328496628476e6e6461666d285e616d7f6d7a2e696578336a676c71354e7a6765285c606d2842696b63696428676e2842697e697b6b7a61787c2d3a38607c7c783227277c606d62696b636964676e62697e697b6b7a61787c266b6765276d646d6b7c7a6766257f677a6c787a6d7b7b2569666f7d64697a2565697c6d7a61696425696625676e6e6461666d257e616d7f6d7a27"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-2955-5a10445302d9d' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=2955&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-2955-5a10445302d9d' data-name='like-post-frame-70838519-2955-5a10445302d9d'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
<div class="entry-content">
</div><!-- .entry-content -->
<footer class="entry-meta">
<span class="post-date"><a href="./electron-wordpress-angular-material-an-offline-viewer/" title="1:38 pm" rel="bookmark"><time class="entry-date" datetime="2015-05-28T13:38:11+00:00">May 28, 2015</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="./author/arvind-ravulavaru/" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
<nav class="navigation post-navigation" role="navigation">
<h1 class="screen-reader-text">Post navigation</h1>
<div class="nav-links">
<div class="nav-previous"><a href="./developing-a-mean-app-with-angular-2-0/" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="./learning-ionic/" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
</nav><!-- .navigation -->
<div id="disqus_thread">
<div id="dsq-content">
<ul id="dsq-comments">
<li class="comment even thread-even depth-1" id="dsq-comment-3316">
<div id="dsq-comment-header-3316" class="dsq-comment-header">
<cite id="dsq-cite-3316">
<span id="dsq-author-user-3316">Travis Reynolds</span>
</cite>
</div>
<div id="dsq-comment-body-3316" class="dsq-comment-body">
<div id="dsq-comment-message-3316" class="dsq-comment-message"><p>I also have an issue &#8211;  <a href="https://uploads.disquscdn.com/images/d909cb2475a08a7d1d1265780166fd96952fe8eeae7683d24b96c47998ce2b0d.png" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://uploads.disquscdn.com/images/d909cb2475a08a7d1d1265780166fd96952fe8eeae7683d24b96c47998ce2b0d.png', 'https://uploads.disquscdn.com/images/d909cb2475a08a7d1d1265780166fd96952fe8eeae7683d24b96c47998ce2b0d.png');" rel="nofollow">https://uploads.disquscdn.com/images/d909cb2475a08a7d1d1265780166fd96952fe8eeae7683d24b96c47998ce2b0d.png</a> </p>
<p>what do i need to do to resolve this please?</p>
<p>(running windows 10)</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3315">
<div id="dsq-comment-header-3315" class="dsq-comment-header">
<cite id="dsq-cite-3315">
<span id="dsq-author-user-3315"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="46092a2f302f23340625342327322f30252928202a272835682034">[email&#160;protected]</a></span>
</cite>
</div>
<div id="dsq-comment-body-3315" class="dsq-comment-body">
<div id="dsq-comment-message-3315" class="dsq-comment-message"><p>[14533:1024/141541:INFO:CONSOLE(31)] &#8220;The DB Path [/Users/Utilisateur/Sites/wordpress-offline-viewer/app/server/db] does not seem to be valid. Recheck the path and try again&#8221;, source: /Users/Utilisateur/Sites/wordpress-offline-viewer/node_modules/diskdb/lib/diskdb.js</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3314">
<div id="dsq-comment-header-3314" class="dsq-comment-header">
<cite id="dsq-cite-3314">
<span id="dsq-author-user-3314"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="246b484d524d41566447564145504d52474b4a4248454a570a4256">[email&#160;protected]</a></span>
</cite>
</div>
<div id="dsq-comment-body-3314" class="dsq-comment-body">
<div id="dsq-comment-message-3314" class="dsq-comment-message"><p>Hello, Sorry &#8230; I have a many error &#8230; <img src="./wp-includes/images/smilies/frownie.png" alt=":(" class="wp-smiley" style="height: 1em; max-height: 1em;" /> Your project is amazing 😀</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3034">
<div id="dsq-comment-header-3034" class="dsq-comment-header">
<cite id="dsq-cite-3034">
<span id="dsq-author-user-3034">Fake_of_Silva</span>
</cite>
</div>
<div id="dsq-comment-body-3034" class="dsq-comment-body">
<div id="dsq-comment-message-3034" class="dsq-comment-message"><p>Hello, I&#8217;m having some issues with this project. The error log is from the project from your github:</p>
<p>Failed to load resource: net::ERR_FILE_NOT_FOUND file:///C:/workspace/offlineview/app/client/lib/highlightjs/highlight.pack.js</p>
<p>module.js:326 Uncaught Error: Cannot find module &#8216;angular&#8217;</p>
<p>angular.js:68 Uncaught Error: [$injector:modulerr] Failed to instantiate module OfflineViewer due to:</p>
<p>Error: [$injector:modulerr] Failed to instantiate module hljs due to:</p>
<p>Error: [$injector:nomod] Module &#8216;hljs&#8217; is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.</p>
<p><a href="http://errors.angularjs.org/1.4.7/$injector/nomod?p0=hljs" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://errors.angularjs.org/1.4.7/$injector/nomod?p0=hljs', 'http://errors.angularjs.org/1.4.7/$injector/nomod?p0=hljs');" rel="nofollow">http://errors.angularjs.org/1.4.7/$injector/nomod?p0=hljs</a></p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:68:12</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:1986:17</p>
<p>    at ensure (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:1910:38)</p>
<p>    at module (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:1984:14)</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4390:22</p>
<p>    at forEach (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:336:20)</p>
<p>    at loadModules (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4374:5)</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4391:40</p>
<p>    at forEach (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:336:20)</p>
<p>    at loadModules (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4374:5)</p>
<p><a href="http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=hljs&#038;p1=Error%3A%20…space%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A4374%3A5" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=hljs&amp;p1=Error%3A%20…space%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A4374%3A5', 'http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=hljs&amp;p1=Error%3A%20…space%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A4374%3A5');" rel="nofollow">http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=hljs&#038;p1=Error%3A%20…space%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A4374%3A5</a>)</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:68:12</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4413:15</p>
<p>    at forEach (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:336:20)</p>
<p>    at loadModules (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4374:5)</p>
<p>    at file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4391:40</p>
<p>    at forEach (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:336:20)</p>
<p>    at loadModules (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4374:5)</p>
<p>    at createInjector (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:4299:11)</p>
<p>    at doBootstrap (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:1657:20)</p>
<p>    at Object.bootstrap (file:///C:/workspace/offlineview/app/client/lib/angular/angular.js:1678:12)</p>
<p><a href="http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=OfflineViewer&#038;p1=Er…pace%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A1678%3A12" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=OfflineViewer&amp;p1=Er…pace%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A1678%3A12', 'http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=OfflineViewer&amp;p1=Er…pace%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A1678%3A12');" rel="nofollow">http://errors.angularjs.org/1.4.7/$injector/modulerr?p0=OfflineViewer&#038;p1=Er…pace%2Fofflineview%2Fapp%2Fclient%2Flib%2Fangular%2Fangular.js%3A1678%3A12</a>)</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-2987">
<div id="dsq-comment-header-2987" class="dsq-comment-header">
<cite id="dsq-cite-2987">
http://www.omanamazon.com                <span id="dsq-author-user-2987">Sami</span>
</cite>
</div>
<div id="dsq-comment-body-2987" class="dsq-comment-body">
<div id="dsq-comment-message-2987" class="dsq-comment-message"><p>Very nice tutorial thank you very much for sharing .</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2824">
<div id="dsq-comment-header-2824" class="dsq-comment-header">
<cite id="dsq-cite-2824">
<span id="dsq-author-user-2824">Robert Cox</span>
</cite>
</div>
<div id="dsq-comment-body-2824" class="dsq-comment-body">
<div id="dsq-comment-message-2824" class="dsq-comment-message"><p>bravo man, this is incredible as always.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul>
</div>
</div>
<script src="/cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = './electron-wordpress-angular-material-an-offline-viewer/';
var disqus_identifier = '2955 ./?p=2955';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
/*
All currently supported events:
onReady: fires when everything is ready,
onNewComment: fires when a new comment is posted,
onIdentify: fires when user is authenticated
*/
this.language = '';
this.callbacks.onReady.push(function () {
// sync comments in the background so we don't block the page
var script = document.createElement('script');
script.async = true;
script.src = '?cf_action=sync_comments&post_id=2955';
var firstScript = document.getElementsByTagName('script')[0];
firstScript.parentNode.insertBefore(script, firstScript);
});
if (disqus_config_custom) {
disqus_config_custom.call(this);
}
};
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</main><!-- #main -->
</div><!-- #primary -->
<div id="secondary" class="widget-area" role="complementary">
<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="./">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}
.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(./wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(./wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(./wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(./wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="./wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="./portfolio/">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
<a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="./rotten-tomatoes-jquery-rest-client/" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="./uploading-files-made-fun/" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
<div class="latest-series"><ul><li><a href="./series/a-reminder-app/" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="./series/node-webkit-apps/" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="./series/rpi/" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>
<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>
<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>
<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>
</ul></div>
</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="./architecting-a-restful-node-js-app/"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,320 views</li><li><a href="./getting-started-with-angular-2-0/"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,582 views</li><li><a href="./developing-a-mean-app-with-angular-2-0/"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,713 views</li><li><a href="./getting-started-with-node-webkit-apps/"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,571 views</li><li><a href="./rpi-live-streaming/"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 91,974 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
<li>
<a href="./learning-ionic/">Learning Ionic</a>
</li>
<li>
<a href="./electron-wordpress-angular-material-an-offline-viewer/">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
</li>
<li>
<a href="./developing-a-mean-app-with-angular-2-0/">Developing a MEAN app with Angular 2.0</a>
</li>
<li>
<a href="./pushbots-and-cordova/">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
</li>
<li>
<a href="./getting-started-with-client-side-storage/">Getting Started with Client Side Storage</a>
</li>
</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
<li class="cat-item cat-item-141"><a href="./architecture/" >Architecture</a> (8)
</li>
<li class="cat-item cat-item-3"><a href="./css/" >CSS</a> (9)
<ul class='children'>
<li class="cat-item cat-item-5"><a href="./css/css3/" >CSS3</a> (6)
</li>
<li class="cat-item cat-item-26"><a href="./css/less/" >LESS</a> (3)
</li>
<li class="cat-item cat-item-55"><a href="./css/sass/" >SASS</a> (1)
</li>
</ul>
</li>
<li class="cat-item cat-item-117"><a href="./database/" >Database</a> (17)
<ul class='children'>
<li class="cat-item cat-item-136"><a href="./database/disk-db/" >Disk DB</a> (6)
</li>
<li class="cat-item cat-item-131"><a href="./database/firebase/" >Firebase</a> (4)
</li>
<li class="cat-item cat-item-118"><a href="./database/mongodb/" >MongoDB</a> (8)
<ul class='children'>
<li class="cat-item cat-item-119"><a href="./database/mongodb/mongolab/" >MongoLab</a> (3)
</li>
<li class="cat-item cat-item-123"><a href="./database/mongodb/monk/" >Monk</a> (1)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-125"><a href="./deployments/" >Deployments</a> (4)
<ul class='children'>
<li class="cat-item cat-item-126"><a href="./deployments/heroku/" >Heroku</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-135"><a href="./desktop-apps/" >Desktop Apps</a> (8)
</li>
<li class="cat-item cat-item-155"><a href="./dna-analysis/" >DNA Analysis</a> (1)
</li>
<li class="cat-item cat-item-112"><a href="./es6/" >ECMAScript 6</a> (3)
</li>
<li class="cat-item cat-item-162"><a href="./electron-atom-shell/" >Electron (atom shell)</a> (1)
</li>
<li class="cat-item cat-item-25"><a href="./frameworks/" >Frameworks</a> (42)
<ul class='children'>
<li class="cat-item cat-item-160"><a href="./frameworks/angular-2-0/" >Angular 2.0</a> (2)
</li>
<li class="cat-item cat-item-108"><a href="./frameworks/angularjs/" >Angularjs</a> (21)
</li>
<li class="cat-item cat-item-132"><a href="./frameworks/backbonejs/" >Backbonejs</a> (1)
</li>
<li class="cat-item cat-item-105"><a href="./frameworks/bootstrap/" >Bootstrap</a> (9)
</li>
<li class="cat-item cat-item-159"><a href="./frameworks/emberjs/" >Emberjs</a> (1)
</li>
<li class="cat-item cat-item-56"><a href="./frameworks/foundation/" >Foundation</a> (3)
</li>
<li class="cat-item cat-item-110"><a href="./frameworks/framework7/" >Framework7</a> (1)
</li>
<li class="cat-item cat-item-107"><a href="./frameworks/ionic/" >Ionic</a> (11)
</li>
<li class="cat-item cat-item-157"><a href="./frameworks/lumx/" >Lumx</a> (1)
</li>
<li class="cat-item cat-item-138"><a href="./frameworks/mean/" >MEAN</a> (4)
</li>
<li class="cat-item cat-item-116"><a href="./frameworks/meteorjs/" >Meteorjs</a> (1)
</li>
<li class="cat-item cat-item-122"><a href="./frameworks/onsen-ui/" >Onsen UI</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-101"><a href="./git/" >Git</a> (12)
<ul class='children'>
<li class="cat-item cat-item-102"><a href="./git/github/" >GitHub</a> (10)
</li>
</ul>
</li>
<li class="cat-item cat-item-2"><a href="./html/" >HTML</a> (22)
<ul class='children'>
<li class="cat-item cat-item-4"><a href="./html/html5/" >HTML5</a> (21)
<ul class='children'>
<li class="cat-item cat-item-158"><a href="./html/html5/webrtc/" >WebRTC</a> (1)
</li>
<li class="cat-item cat-item-106"><a href="./html/html5/websockets/" >WebSockets</a> (6)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-137"><a href="./intels-app-ui/" >Intel&#039;s App UI</a> (1)
</li>
<li class="cat-item cat-item-143"><a href="./iot/" >IoT</a> (6)
</li>
<li class="cat-item cat-item-1"><a href="./javascript/" >Javascript</a> (75)
<ul class='children'>
<li class="cat-item cat-item-6"><a href="./javascript/jquery/" >jQuery</a> (14)
</li>
</ul>
</li>
<li class="cat-item cat-item-151"><a href="./material-design/" >Material Design</a> (3)
</li>
<li class="cat-item cat-item-99"><a href="./mobile/" >Mobile</a> (21)
<ul class='children'>
<li class="cat-item cat-item-103"><a href="./mobile/android/" >Android</a> (15)
</li>
<li class="cat-item cat-item-113"><a href="./mobile/firefox-os/" >Firefox OS</a> (2)
</li>
<li class="cat-item cat-item-104"><a href="./mobile/ios/" >iOS</a> (11)
</li>
<li class="cat-item cat-item-100"><a href="./mobile/phonegap/" >PhoneGap</a> (16)
</li>
</ul>
</li>
<li class="cat-item cat-item-149"><a href="./mqtt/" >MQTT</a> (1)
</li>
<li class="cat-item cat-item-163"><a href="./my-books/" >My Books</a> (1)
</li>
<li class="cat-item cat-item-45"><a href="./node/" >Node</a> (60)
<ul class='children'>
<li class="cat-item cat-item-152"><a href="./node/cli/" >CLI</a> (3)
</li>
<li class="cat-item cat-item-121"><a href="./node/expressjs/" >Expressjs</a> (18)
</li>
<li class="cat-item cat-item-156"><a href="./node/genome/" >Genome</a> (1)
</li>
<li class="cat-item cat-item-62"><a href="./node/grunt/" >Grunt</a> (8)
</li>
<li class="cat-item cat-item-124"><a href="./node/koa/" >Koa</a> (1)
</li>
<li class="cat-item cat-item-134"><a href="./node/node-webkit/" >Node Webkit</a> (7)
</li>
<li class="cat-item cat-item-54"><a href="./node/npm/" >NPM</a> (15)
</li>
<li class="cat-item cat-item-120"><a href="./node/restify/" >Restify</a> (3)
</li>
</ul>
</li>
<li class="cat-item cat-item-161"><a href="./push-notifications/" >Push Notifications</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="./quick-and-dirty/" >Quick and Dirty</a> (42)
</li>
<li class="cat-item cat-item-142"><a href="./raspberry-pi/" >Raspberry Pi</a> (9)
</li>
<li class="cat-item cat-item-60"><a href="./setup/" >Setup</a> (60)
</li>
<li class="cat-item cat-item-61"><a href="./testing/" >Testing</a> (5)
<ul class='children'>
<li class="cat-item cat-item-129"><a href="./testing/jasmine/" >Jasmine</a> (1)
</li>
<li class="cat-item cat-item-128"><a href="./testing/protractor/" >Protractor</a> (1)
</li>
<li class="cat-item cat-item-98"><a href="./testing/test-automation/" >Test Automation</a> (1)
</li>
<li class="cat-item cat-item-41"><a href="./testing/tdd/" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-139"><a href="./third-party-products/" >Third Party Products</a> (4)
<ul class='children'>
<li class="cat-item cat-item-140"><a href="./third-party-products/twilio/" >Twilio</a> (4)
</li>
</ul>
</li>
<li class="cat-item cat-item-58"><a href="./tutorial/" >Tutorial</a> (79)
</li>
<li class="cat-item cat-item-130"><a href="./performance-analysis/" >UI Performance</a> (1)
</li>
<li class="cat-item cat-item-109"><a href="./web-components/" >Web Components</a> (3)
</li>
<li class="cat-item cat-item-133"><a href="./google-web-starter-kit/" >Web Starter Kit</a> (1)
</li>
</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
<li><a href='./2015/07/'>July 2015</a></li>
<li><a href='./2015/05/'>May 2015</a></li>
<li><a href='./2015/04/'>April 2015</a></li>
<li><a href='./2015/03/'>March 2015</a></li>
<li><a href='./2015/02/'>February 2015</a></li>
<li><a href='./2015/01/'>January 2015</a></li>
<li><a href='./2014/12/'>December 2014</a></li>
<li><a href='./2014/11/'>November 2014</a></li>
<li><a href='./2014/10/'>October 2014</a></li>
<li><a href='./2014/09/'>September 2014</a></li>
<li><a href='./2014/08/'>August 2014</a></li>
<li><a href='./2014/07/'>July 2014</a></li>
<li><a href='./2014/06/'>June 2014</a></li>
<li><a href='./2014/05/'>May 2014</a></li>
<li><a href='./2014/04/'>April 2014</a></li>
<li><a href='./2014/03/'>March 2014</a></li>
<li><a href='./2014/02/'>February 2014</a></li>
</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
<label>Email <span class="wysija-required">*</span></label>
<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
<span class="abs-req">
<input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
</span>
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />
<input type="hidden" name="form_id" value="1" />
<input type="hidden" name="action" value="save" />
<input type="hidden" name="controller" value="subscribers" />
<input type="hidden" value="1" name="wysija-page" />
<input type="hidden" name="wysija[user_list][list_ids]" value="3" />
</form></div></aside>	</div><!-- #secondary -->
	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
var s = document.getElementsByTagName('script')[0]
, p = document.createElement('script');
p.async = 'async';
p.src = '//rum-static.pingdom.net/prum.min.js';
s.parentNode.insertBefore(p, s);
})();
</script>
</div><!-- #content -->
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="site-info">
All Rights Reserved
<span class="sep"> | </span>
The Jackal of Javascript
</div><!-- .site-info -->
<div class="rnd-circle" style="
background: black;
width: 10px;
height: 10px;
border-radius: 50%;
"></div>
</footer><!-- #colophon -->
</div><!-- #page -->
<script type='text/javascript'><!--
var seriesdropdown = document.getElementById("orgseries_dropdown");
if (seriesdropdown) {
function onSeriesChange() {
if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
location.href = "./series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
}
}
seriesdropdown.onchange = onSeriesChange;
}
--></script>
<script type="text/javascript">
// <![CDATA[
var disqus_shortname = 'thejackalofjavascriptcom';
(function () {
var nodes = document.getElementsByTagName('span');
for (var i = 0, url; i < nodes.length; i++) {
if (nodes[i].className.indexOf('dsq-postid') != -1) {
nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
url = nodes[i].parentNode.href.split('#', 1);
if (url.length == 1) { url = url[0]; }
else { url = url[1]; }
nodes[i].parentNode.href = url + '#disqus_thread';
}
}
var s = document.createElement('script'); 
s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
// ]]>
</script>
<div class="scroll-back-to-top-wrapper">
<span class="scroll-back-to-top-inner">
<i class="fa fa-2x fa-arrow-circle-up"></i>
</span>
</div>
<style type="text/css">
#wpfront-notification-bar 
{
background: #242d36;
background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
}
#wpfront-notification-bar div.wpfront-message
{
color: #ffffff;
}
#wpfront-notification-bar a.wpfront-button
{
background: #f45145;
background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );
color: #ffffff;
}
#wpfront-notification-bar-open-button
{
background-color: #00b7ea;
}
#wpfront-notification-bar  div.wpfront-close 
{
border: 1px solid #555555;
background-color: #555555;
color: #000000;
}
#wpfront-notification-bar  div.wpfront-close:hover 
{
border: 1px solid #aaaaaa;
background-color: #aaaaaa;
}
</style>
<div id="wpfront-notification-bar-spacer"  style="display: none;">
<div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
<div id="wpfront-notification-bar" class="wpfront-fixed ">
<div class="wpfront-close">X</div>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<div class="wpfront-message">
Learn your way around Ionic framework. Check out Learning Ionic!                     </div>
<div>
<a class="wpfront-button" href="https://www.packtpub.com/application-development/learning-ionic/?utm_source=Jkthejackalofjavascript&utm_medium=referral&utm_campaign=1783552603"  target="_blank" >Buy</a>
</div>
</td>
</tr>
</table>
</div>
</div>
<style type="text/css">
.wpfront-message{line-height:27px; vertical-align:baseline !important;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><script type='text/javascript' src='./wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='./wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":".\/wp-admin\/admin-ajax.php","post_id":"2955"};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='./wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='./wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='./wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='./wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='./wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='./wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":".\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='./wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script type="text/javascript">
jQuery.noConflict();
(function( $ ) {
$(function() {
// More code using $ as alias to jQuery
$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top - 20  
},900 ,'easeOutQuint');
return false;
}
}
});
});
})(jQuery);	
</script>				
<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
_stq = window._stq || [];
_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'2955',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
_stq.push([ 'clickTrackerInit', '70838519', '2955' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="./developing-a-mean-app-with-angular-2-0/" rel="Electron, WordPress &amp; Angular Material &#8211; An Offline Viewer">Developing a MEAN app with Angular 2.0</a></h5><p>I know, I know it is too early to be building end to end apps with Angular 2.0, but I...</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47881846-1', 'auto');
ga('send', 'pageview');
</script>
<a style="display:none;" href="http://www.alexa.com/siteinfo/./"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=./"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- WP Fastest Cache file was created in 8.89065098763 seconds, on 18-11-17 14:31:54 -->