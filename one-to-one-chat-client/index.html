<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="alexaVerifyID" content="tHZTfJpU56tqERN4vjth74jHqBM"/>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<!-- <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
<link rel="shortcut icon" href="/wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Javascript, HTML5, CSS3, ES6, Ecmascript, Hybrid Apps, Mobile Web Development, Desktop Apps, Apps, Arvind R, Arvind Ravulavaru, The Jackal of Javascript">
<link rel="icon" href="/wp-content/uploads/2014/02/favicon.ico" type="image/x-icon">
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'> -->
<link rel="stylesheet" type="text/css" href="/wp-content/cache/wpfc-minified/61cc3c87f2aa625d55d3026ecc452e96/1511014149index.css" media="all"/>
<!-- Performance scores of this site is tuned by WP Performance Score Booster plugin v1.5 - http://wordpress.org/plugins/wp-performance-score-booster -->
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="1QBi99oBZzn4xisTyRUgPd4BXjQ-6Tu09iK6V_bviIY" />
<meta name="msvalidate.01" content="33E048D3C4E943B6450230EA909E12C6" />
<meta name="p:domain_verify" content="662a829c1b5ccc13015f1cc5d00ec7e4" />
<!-- This site is optimized with the Yoast SEO plugin v3.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Node Webkit, Firebase and Ionic Framework - A one to one chat client | The Jackal of Javascript</title>
<meta name="description" content="Our chat client that we are going to build will use Node webkit, Ionic Framework, Angularjs and firebase."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/one-to-one-chat-client/" />
<link rel="publisher" href="https://plus.google.com/ArvindRavulavaru"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Node Webkit, Firebase and Ionic Framework - A one to one chat client | The Jackal of Javascript" />
<meta property="og:description" content="Our chat client that we are going to build will use Node webkit, Ionic Framework, Angularjs and firebase." />
<meta property="og:url" content="/one-to-one-chat-client/" />
<meta property="og:site_name" content="The Jackal of Javascript" />
<meta property="article:publisher" content="https://www.facebook.com/arvindravulavaru" />
<meta property="article:section" content="Angularjs" />
<meta property="article:published_time" content="2014-11-15T19:25:52+05:30" />
<meta property="article:modified_time" content="2014-11-21T12:27:55+05:30" />
<meta property="og:updated_time" content="2014-11-21T12:27:55+05:30" />
<meta property="og:image" content="/wp-content/uploads/2014/11/chatterArch-451x245.png" />
<meta property="og:image" content="/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-4.39.04-pm-451x225.png" />
<meta property="og:image" content="/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-5.33.44-pm-414x300.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Our chat client that we are going to build will use Node webkit, Ionic Framework, Angularjs and firebase." />
<meta name="twitter:title" content="Node Webkit, Firebase and Ionic Framework - A one to one chat client | The Jackal of Javascript" />
<meta name="twitter:site" content="@arvindr21" />
<meta name="twitter:image" content="/wp-content/uploads/2014/11/chatterArch-451x245.png" />
<meta name="twitter:creator" content="@arvindr21" />
<!-- / Yoast SEO plugin. -->
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js"}};
!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='savrix-style.css-css'  href='/wp-content/plugins/savrix-android-market/savrix-style-only-play.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='validate-engine-css-css'  href='/wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-theme-arduino-ide-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/arduino-ide/arduino-ide.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='crayon-font-droid-sans-mono-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/droid-sans-mono.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='orgseries-default-css-css'  href='/wp-content/plugins/organize-series/orgSeries.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='responsive-lightbox-prettyphoto-css'  href='/wp-content/plugins/responsive-lightbox/assets/prettyphoto/css/prettyPhoto.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="/wp-content/cache/wpfc-minified/9f9f3b5f286a1b327e6bb0fdb1185c24/1511014149index.css" media="all"/>
<link rel='stylesheet' id='font-awesome-css'  href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen' />
<!-- <link rel='stylesheet' id='ssbaFont-css'  href='//fonts.googleapis.com/css?family=Indie+Flower&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wpfront-notification-bar-css'  href='/wp-content/plugins/wpfront-notification-bar/css/wpfront-notification-bar.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-style-css'  href='/wp-content/themes/sorbet/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-source-sans-pro-css'  href='http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C700%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-pt-serif-css'  href='http://fonts.googleapis.com/css?family=PT+Serif%3A400%2C700%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;ver=4.2.16' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='sorbet-genericons-css'  href='/wp-content/themes/sorbet/genericons/genericons.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='easy_table_style-css'  href='/wp-content/plugins/easy-table/themes/default/style.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='upprev-css-css'  href='/wp-content/plugins/upprev/styles/upprev.css' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='jetpack_css-css'  href='/wp-content/plugins/jetpack/css/jetpack.css' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="/wp-content/cache/wpfc-minified/3af13bcd925b3eaa358c8ad5070bb07b/1511014148index.css" media="all"/>
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');
__gaTracker('create', 'UA-47881846-1', 'auto');
__gaTracker('set', 'forceSSL', true);
__gaTracker('require', 'displayfeatures');
__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript">
var iworks_upprev = { animation: 'flyout', position: 'right', offset_percent: 75, offset_element: '#comments', css_width: 360, css_side: 5, compare: 'simple', url_new_window: 0, ga_track_views: 1, ga_track_clicks: 1, ga_opt_noninteraction: 1, title: 'Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client' };
</script>
<script src='/wp-content/cache/wpfc-minified/1f21a7a8ca343ebb57ffeb4ab24afbd9/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='/wp-includes/js/jquery/jquery.js'></script> -->
<!-- <script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js'></script> -->
<!-- <script type='text/javascript' src='/wp-content/plugins/jetpack/modules/related-posts/related-posts.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='/wp-content/cache/wpfc-minified/052c748258385b6c23fc6642e73a4285/1511014152index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js'></script> -->
<!-- <script type='text/javascript' src='/wp-content/plugins/responsive-lightbox/assets/prettyphoto/js/jquery.prettyPhoto.js'></script> -->
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"prettyphoto","selector":"lightbox","customEvents":"","activeGalleries":"1","animationSpeed":"normal","slideshow":"0","slideshowDelay":"5000","slideshowAutoplay":"0","opacity":"0.75","showTitle":"1","allowResize":"1","allowExpand":"1","width":"1080","height":"720","separator":"\/","theme":"pp_default","horizontalPadding":"20","hideFlash":"0","wmode":"opaque","videoAutoplay":"0","modal":"0","deeplinking":"0","overlayGallery":"1","keyboardShortcuts":"1","social":"0"};
/* ]]> */
</script>
<script src='/wp-content/cache/wpfc-minified/d57c91500961bea5aea0e849cf08f7e7/1511014151index.js' type="text/javascript"></script>
<!-- <script type='text/javascript' src='/wp-content/plugins/responsive-lightbox/js/front.js'></script> -->
<!-- <script type='text/javascript' src='/wp-content/plugins/wpfront-notification-bar/jquery-plugins/jquery.c.js'></script> -->
<!-- <script type='text/javascript' src='/wp-content/plugins/wpfront-notification-bar/js/wpfront-notification-bar.js'></script> -->
<!-- <script type='text/javascript' src='/wp-content/plugins/upprev/scripts/upprev.js'></script> -->
<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<meta name="generator" content="WordPress 4.2.16" />
<style>
.scroll-back-to-top-wrapper {
position: fixed;
opacity: 0;
visibility: hidden;
overflow: hidden;
text-align: center;
z-index: 99999999;
background-color: #777777;
color: #eeeeee;
width: 50px;
height: 48px;
line-height: 48px;
right: 30px;
bottom: 30px;
padding-top: 2px;
border-top-left-radius: 10px;
border-top-right-radius: 10px;
border-bottom-right-radius: 10px;
border-bottom-left-radius: 10px;
-webkit-transition: all 0.5s ease-in-out;
-moz-transition: all 0.5s ease-in-out;
-ms-transition: all 0.5s ease-in-out;
-o-transition: all 0.5s ease-in-out;
transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
background-color: #888888;
color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
visibility:visible;
cursor:pointer;
opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
vertical-align: 0;
}
</style><style type="text/css">	.ssba {
}
.ssba img
{
width: 35px !important;
padding: 6px;
border:  0;
box-shadow: none !important;
display: inline !important;
vertical-align: middle;
}
.ssba, .ssba a
{
text-decoration:none;
border:0;
background: none;
font-family: Indie Flower;
font-size: 	20px;
}.ssba_sharecount:after, .ssba_sharecount:before {
right: 100%;
border: solid transparent;
content: " ";
height: 0;
width: 0;
position: absolute;
pointer-events: none;
}
.ssba_sharecount:after {
border-color: rgba(224, 221, 221, 0);
border-right-color: #f5f5f5;
border-width: 5px;
top: 50%;
margin-top: -5px;
}
.ssba_sharecount:before {
border-color: rgba(85, 94, 88, 0);
border-right-color: #e0dddd;
border-width: 6px;
top: 50%;
margin-top: -6px;
}
.ssba_sharecount {
font: 11px Arial, Helvetica, sans-serif;
padding: 5px;
-khtml-border-radius: 6px;
-o-border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;
position: relative;
border: 1px solid #e0dddd;color: #555e58;
background: #ffffff;
}
.ssba_sharecount:after {
border-right-color: #ffffff;
}</style><style id="popup-maker-themes"  type="text/css">/* Popup Theme 2995: Default Theme */
.popmake-overlay.theme-2995, .popmake-overlay.theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.popmake.theme-2995, .popmake.theme-default-theme { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 249, 249, 249, 1 ) } 
.popmake.theme-2995 .popmake-title, .popmake.theme-default-theme .popmake-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-weight: inherit; font-size: 32px; font-style: normal; line-height: 36px } 
.popmake.theme-2995 .popmake-content, .popmake.theme-default-theme .popmake-content { color: #8c8c8c; font-family: inherit; font-weight: inherit; font-style: normal } 
.popmake.theme-2995 > .popmake-close, .popmake.theme-default-theme > .popmake-close { height: 20px; width: 20px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: inherit; font-size: 12px; font-style: normal; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 183, 205, 1 ) } 
</style>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//widgets.wp.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<style type="text/css">
#upprev_box{bottom:5px;width:360px;right:5px;display:block;right:-415px;display:block;}
</style>
</head>
<body class="single single-post postid-2478 single-format-standard right-sidebar">
<div id="page" class="hfeed site">
<header id="masthead" class="site-header" role="banner">
<div class="site-header-wrapper">
<div class="site-branding">
<h1 class="site-title"><a href="/" rel="home">The Jackal of Javascript</a></h1>
<h2 class="site-description">Knowing is different &amp; Doing is different</h2>
</div>
<div class="toggles">
<div id="menu-toggle" class="toggle active" title="Menu"><span class="screen-reader-text">Menu</span></div>
<div id="search-toggle" class="toggle" title="Search"><span class="screen-reader-text">Search</span></div>
</div>
</div>
</header><!-- #masthead -->
<div id="menu-toggle-nav" class="panel">
<nav id="site-navigation" class="main-navigation" role="navigation">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div class="menu-main-container"><ul id="menu-main" class="menu"><li id="menu-item-2579" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2579"><a href="/">Home</a></li>
<li id="menu-item-2595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2595"><a href="/portfolio/">About  me</a></li>
<li id="menu-item-2580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2580"><a href="/history-of-the-web/">History of the Web</a></li>
<li id="menu-item-2726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2726"><a href="/javascript-101/">Javascript 101</a></li>
<li id="menu-item-2581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2581"><a href="/contact-request/">Request</a></li>
</ul></div>		</nav><!-- #site-navigation -->
</div>
<div id="search-toggle-nav" class="panel">
<div class="search-wrapper">
<form role="search" method="get" class="search-form" action="/">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</div>
</div>
<div id="content" class="site-content">
<div id="primary" class="content-area">
<main id="main" class="site-main" role="main">
<article id="post-2478" class="post-2478 post type-post status-publish format-standard hentry category-angularjs category-database category-desktop-apps category-expressjs category-firebase category-ionic category-javascript category-node category-node-webkit category-npm category-setup category-tutorial series-node-webkit-apps">
<header class="entry-header">
<h1 class="entry-title">Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client</h1>	</header><!-- .entry-header -->
<div class="entry-content">
<div class="seriesmeta" style="background:#4F5256; padding:5px;margin-bottom:5px;font-size:15px;color:white;padding-left: 20px;border-radius:3px;">This post is part 6 of 7 in the series <a href="/series/node-webkit-apps/" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></div><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=/one-to-one-chat-client/&amp;text=Node+Webkit%2C+Firebase+and+Ionic+Framework+%E2%80%93+A+one+to+one+chat+client+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=/one-to-one-chat-client/&amp;text=Node+Webkit%2C+Firebase+and+Ionic+Framework+%E2%80%93+A+one+to+one+chat+client+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=/one-to-one-chat-client/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=/one-to-one-chat-client/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">7</span><a href="https://plus.google.com/share?url=/one-to-one-chat-client/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=/one-to-one-chat-client/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=/one-to-one-chat-client/&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=/one-to-one-chat-client/&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=/one-to-one-chat-client/&amp;text=From The Jackal of Javascript Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=/one-to-one-chat-client/&amp;text=From The Jackal of Javascript Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#645b1711060e010710592a0b0001443301060f0d104844220d16010605170144050a00442d0b0a0d07442216050901130b160f44415652475c5655555f4425440b0a0144100b440b0a0144070c05104407080d010a10420509145f060b001d5922160b0944300c01442e05070f0508440b02442e0512051707160d14104156540c1010145e4b4b100c010e05070f05080b020e0512051707160d14104a070b094b0b0a0149100b490b0a0149070c05104907080d010a104b"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><p>A few days ago <a href="https://www.linkedin.com/in/poojapasupu" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://www.linkedin.com/in/poojapasupu', 'Pooja Pasupu');" title="Pooja Pasupu"  target="_blank">Pooja Pasupu</a> reached out to me after reading one of my articles on Node webkit named <a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" title="Building a Chat App with node-webkit, Firebase, and AngularJS"  target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a>. In the above article I have shown how to create a desktop based group chat client using Node webkit and Firebase. She wanted to know if we can build a desktop application for one to one chatting like Google talk or Yahoo messenger using node webkit. And this post is a response to that query.</p>
<p>In this post, we are going to build a desktop application that is like your typical one to one chat client. Where, a user logs in, sees a list of other users. And can chat with any of them. This app is called Chatter.</p>
<p>Below is a quick demo of the completed app.</p>
<p style="text-align: center;">
<!-- iframe plugin v.4.2 wordpress.org/plugins/iframe/ -->
<iframe width="640" height="360" src="//www.youtube.com/embed/ObJ_HWq2Hso?rel=0" frameborder="0" allowfullscreen scrolling="yes" class="iframe-class"></iframe>
</p>
<p><em>PS : I have opened 2 clients on the same machine to demo the application.</em></p>
<p style="text-align: left;">As you can see from the above demo, we have used Firebase as our data store to manage the user&#8217;s presence and their chat messages. And also, if you did notice, when User B sent a new message to User A, a new chat window opened automatically, like a typical chat app.</p>
<p style="text-align: left;">We will take a look at how all the above can be achieved. So, let us get started on building Chatter.</p>
<p style="text-align: left;">You can find the completed code <a href="https://github.com/arvindr21/chatter" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/chatter', 'here');" title="Chatter Code"  target="_blank">here</a>.</p>
<p style="text-align: left;"><span id="more-2478"></span></p>
<h2>Prerequisites</h2>
<p>We are going to use Node webkit to build the client app, Ionic Framework/Angularjs as the UI framework and Firebase as our data store.</p>
<p>If you are new to Node webkit, check out</p>
<ul>
<li><a title="Node webkit" href="/series/node-webkit-apps" target="_blank">Node webkit series </a></li>
</ul>
<p>If you are new to Angularjs, checkout</p>
<ul>
<li><a title="Angularjs – A Hands On tutorial" href="/angularjs-hands-on-tutorial/" target="_blank">Angularjs – A Hands On tutorial</a></li>
</ul>
<p>If you are new to Firebase, checkout</p>
<ul>
<li><a title="Getting started with Firebase" href="/getting-started-with-firebase/" target="_blank">Getting started with Firebase</a></li>
</ul>
<p>To get an idea on Node Webkit Firebase Authentication, checkout</p>
<ul>
<li><a title="node-webkit and Firebase – Simple and Social Authentication" href="/node-webkit-firebase-simple-social-authentication/" target="_blank">node-webkit and Firebase – Simple and Social Authentication</a></li>
</ul>
<p>To get an Idea on Ionic Framework and Firebase, checkout</p>
<ul>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" title="Creating a Firebase Powered End to End Ionic Application"  target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
</ul>
<h2 style="text-align: left;">Architecture</h2>
<p style="text-align: left;">Our chat client that we are going to build will use Node webkit to build the desktop application, Ionic Framework for the look &amp; feel and Angularjs for the functionality. We will be using Firebase as our real time data store that manages users and their chats.</p>
<p style="text-align: left;">In a typical chat service, there are 2 major parts.</p>
<ul>
<li style="text-align: left;">Part I is the user presence</li>
<li style="text-align: left;">Part II is the actual chats</li>
</ul>
<p style="text-align: left;">So as soon as a user logs in, a presence server is updated about the User&#8217;s status i.e. Online. And the same server is responsible for maintaining the user&#8217;s status, say when he goes Away or Idle or Offline. This is the only job of the user presence server.</p>
<p style="text-align: left;">And when a user in your list of user is online, and you wish to chat with him/her, you will invoke a new chat with the help of the chat server. The chat server keeps a tab on all the users who are in the system and how to reach out to them. Kind of like an address for each client. And when a new chat message comes from user A to user B, it indicates User B to open a new chat window on User B and then start watching for messages on User A.</p>
<p style="text-align: left;">We are going to implement a similar approach, with one server or rather one data store. Firebase is a super awesome service when it comes to real time messaging. The events and hooks on the data store collections are very real time and we will be taking advantage of this feature to achieve our Chatter app.</p>
<p style="text-align: left;">To keep things simple, we will be having 2 collections in our data store</p>
<ol>
<li style="text-align: left;">Online Users &#8211; This will act like the presence server</li>
<li style="text-align: left;">Chats &#8211; This will hold a collection of chats between users</li>
</ol>
<p style="text-align: left;"><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/chatterArch.png" data-rel="lightbox-0" title=""><img class="size-medium wp-image-2487 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/chatterArch.png?resize=451%2C245" alt="chatterArch" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2487 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/chatterArch.png?resize=451%2C245" alt="chatterArch" data-recalc-dims="1" /></noscript></a></p>
<p style="text-align: left;">As you can see from the above diagram, as soon as the user logs in, we update the Online user&#8217;s list and log him in. And when a new chat is triggered, we will update the chat collection and this trigger the chat on the other client.</p>
<p style="text-align: left;">This is where it gets tricky. As a desktop client, how do I know when to spawn a new chat window and how do I know with which of the online users I need to establish the connection with.</p>
<p style="text-align: left;">To solve the above issue, we are using a single collection named chats. And on the desktop client, we will be listening for changes on this collection and whenever there is a sub collection/new chat gets added, we get the name of the sub collection/chat and check if the current desktop client is the target audience and we spawn a new chat window.</p>
<p style="text-align: left;">This may sound complicated, but when you see the actual implementation it will look a lot easier.</p>
<h2 style="text-align: left;">Setup the project</h2>
<p>Now that we have an understanding on how the app is going to work, let us get started on implementing it. To scaffold the base for the node webkit app, we will be using a slush generator named <a href="https://github.com/arvindr21/slush-wean" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/arvindr21/slush-wean', 'slush-wean');" title="slush-wean"  target="_blank">slush-wean</a>.</p>
<p>Create a new folder named <em>chatter </em>and open a new terminal/prompt here. First, we will install wean generator globally. Run</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd1fbd660378492" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">save </span><span class="crayon-e">gulp </span><span class="crayon-e">slush </span><span class="crayon-v">slush</span><span class="crayon-o">-</span><span class="crayon-v">wean</span></span></span></p>
<p>Next, we will scaffold a new node webkit app here. Run</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd1fd3536225959" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">slush </span><span class="crayon-v">wean</span></span></span></p>
<p>Name the project as Chatter<em>. </em>This will take a couple of minutes to setup the app and download its dependencies. Once the dependencies are downloaded, we will run the app.</p>
<p>For the first time when we run the app, it will download the OS specific libs. Execute</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd1fdb221393146" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">gulp </span><span class="crayon-v">run</span></span></span></p>
<p>This process may take up to 5mins depending on your internet connection. Once the download is completed, the app will automatically launch and you should see the below screen.</p>
<p><a href="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-4.39.04-pm.png" data-rel="lightbox-1" title=""><img class="size-medium wp-image-2483 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-4.39.04-pm.png?resize=451%2C225" alt="Screen Shot 2014-11-15 at 4.39.04 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2483 aligncenter" src="http://i2.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-4.39.04-pm.png?resize=451%2C225" alt="Screen Shot 2014-11-15 at 4.39.04 pm" data-recalc-dims="1" /></noscript></a></p>
<p>Click on the X button on the top right hand corner to close the app.</p>
<p>Below is a quick look at the project structure.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd1fe3948857573" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Project Structure</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
.
├── app.js
├── gulpFile.js
├── index.html
├── package.json
├── public
│   ├── css
│   │   ├── app.css
│   │   └── bootstrap.css
│   ├── fonts
│   │   ├── ...
│   ├── js
│   │   └── app.js
│   ├── lib
│   │   ├── angular-resource.min.js
│   │   ├── angular-route.min.js
│   │   ├── angular.min.js
│   │   ├── bootstrap.min.js
│   │   └── jquery.min.js
│   └── partials
│       └── head.html
├── routes
│   └── index.js
└── views
└── index.ejs</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fe3948857573-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fe3948857573-25">25</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-1"><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-2">├──<span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-e">.js</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-3">├──<span class="crayon-h"> </span><span class="crayon-v">gulpFile</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-4">├──<span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-e">.html</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-5">├──<span class="crayon-h"> </span><span class="crayon-t">package</span><span class="crayon-e">.json</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-6">├──<span class="crayon-h"> </span><span class="crayon-i">public</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-7">│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-i">css</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-8">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-e">.css</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-9">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-v">bootstrap</span><span class="crayon-e">.css</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-10">│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-i">fonts</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-11">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-12">│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-i">js</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-13">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-v">app</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-14">│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-i">lib</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-15">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-v">resource</span><span class="crayon-e">.min</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-16">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-o">-</span><span class="crayon-v">route</span><span class="crayon-e">.min</span><span class="crayon-e">.js</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-17">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-e">.min</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-18">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>├──<span class="crayon-h"> </span><span class="crayon-v">bootstrap</span><span class="crayon-e">.min</span><span class="crayon-e">.js</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-19">│<span class="crayon-h">&nbsp;&nbsp; </span>│<span class="crayon-h">&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-v">jquery</span><span class="crayon-e">.min</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-20">│<span class="crayon-h">&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-i">partials</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-21">│<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-r">head</span><span class="crayon-e">.html</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-22">├──<span class="crayon-h"> </span><span class="crayon-i">routes</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-23">│<span class="crayon-h">&nbsp;&nbsp; </span>└──<span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-e">.js</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fe3948857573-24">└──<span class="crayon-h"> </span><span class="crayon-i">views</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fe3948857573-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>└──<span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-e">.ejs</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0060 seconds] -->
<p></p>
<ul>
<li><em>app.js</em> : Express server configuration</li>
<li><em>gulpFile.js</em> : Task runner</li>
<li><em>index.html</em> : Application main page/splash screen</li>
<li><em>public</em> folder : static resources (client side – our app will be developed here)</li>
<li><em>routes</em> : Express routes</li>
<li><em>view</em> : Initial view for our Angularjs application, served by Express</li>
</ul>
<p>We will modify this project to suit our needs. First, we will update the <em>package.json</em> with the dimensions of the App window. The updated <i>packaged.json</i> would look like</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd1fec128141789" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">package.json</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"name": "chatter",
"version": "0.0.1",
"private": true,
"main": "index.html",
"dependencies": {
"express": "~3.4.8",
"cookie-parser": "~1.0.1",
"body-parser": "~1.0.0",
"ejs": "~0.8.5",
"debug": "~0.7.4"
},
"devDependencies": {
"gulp": "^3.8.7",
"gulp-shell": "^0.2.9",
"node-webkit-builder": "^0.1.1"
},
"window": {
"title": "Chatter",
"toolbar": false,
"frame": true,
"position": "center",
"fullscreen": false,
"resizable": false,
"width": 400,
"height": 600,
"min_width": 400,
"min_height": 600
},
"node-remote": "&lt;local&gt;"
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-26">26</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-28">28</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd1fec128141789-30">30</div><div class="crayon-num" data-line="crayon-5a10fb8fd1fec128141789-31">31</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"chatter"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"version"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"0.0.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"private"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"main"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"index.html"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"dependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"express"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~3.4.8"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"cookie-parser"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~1.0.1"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"body-parser"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~1.0.0"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"ejs"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.8.5"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"debug"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"~0.7.4"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"devDependencies"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"gulp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^3.8.7"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"gulp-shell"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.2.9"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"node-webkit-builder"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"^0.1.1"</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"window"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"title"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Chatter"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"toolbar"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"frame"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"position"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"center"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"fullscreen"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"resizable"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"width"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">400</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"height"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">600</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"min_width"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">400</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"min_height"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">600</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd1fec128141789-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"node-remote"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"&lt;local&gt;"</span></div><div class="crayon-line" id="crayon-5a10fb8fd1fec128141789-31"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0118 seconds] -->
<p>The scaffolded project does not have a bower dependency management integrated. We will add that now. Before going further make sure that bower is installed globally (
<span id="crayon-5a10fb8fd1ff4492472170" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">npm </span><span class="crayon-e">install </span><span class="crayon-v">bower</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">g</span></span></span> ).</p>
<p>From the root of the project run</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd1ffa066438614" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">bower </span><span class="crayon-v">init</span></span></span></p>
<p>Fill in with the default options. Next, create a new file named <em>.bowerrc</em> at the root of the project and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd2001188166064" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">.bowerrc</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"directory" : "public/libs"
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd2001188166064-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2001188166064-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd2001188166064-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd2001188166064-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2001188166064-2"><span class="crayon-h">	</span><span class="crayon-s">"directory"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"public/libs"</span></div><div class="crayon-line" id="crayon-5a10fb8fd2001188166064-3"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>The above file tells bower where to dump the dependencies. Finally, delete <i>public/lib</i> folder.</p>
<p>To install dependencies, run</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd2007422717473" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">bower </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">save</span> <span class="crayon-i">firebase</span> <span class="crayon-i">angularfire</span> <span class="crayon-i">ionic</span> <span class="crayon-v">firebase</span><span class="crayon-o">-</span><span class="crayon-v">simple</span><span class="crayon-o">-</span><span class="crayon-v">login</span></span></span></p>
<p>When prompted</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd200d429585908" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">select firebase#~2.0.3</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Unable to find a suitable version for firebase, please choose one:
1) firebase#1.0.x which resolved to 1.0.24 and is required by angularfire#0.8.2, firebase-simple-login#1.6.4 
2) firebase#~2.0.3 which resolved to 2.0.3Prefix the choice with ! to persist it to bower.json</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd200d429585908-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd200d429585908-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd200d429585908-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd200d429585908-1"><span class="crayon-e">Unable </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-i">find</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">suitable </span><span class="crayon-e">version </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">firebase</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">please </span><span class="crayon-e">choose </span><span class="crayon-v">one</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd200d429585908-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">firebase</span><span class="crayon-p">#1.0.x which resolved to 1.0.24 and is required by angularfire#0.8.2, firebase-simple-login#1.6.4 </span></div><div class="crayon-line" id="crayon-5a10fb8fd200d429585908-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">firebase</span><span class="crayon-p">#~2.0.3 which resolved to 2.0.3Prefix the choice with ! to persist it to bower.json</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Select firebase#~2.0.3.</p>
<p>The above step will download a bunch of dependencies and dump it inside the <em>public/libs</em> folder.</p>
<h3>Setup Firebase</h3>
<p>Next, we need to setup a new Firebase App. Follow the Firebase post mentioned in the prerequisites. Once you have created your Firebase App, we need to enable the Email &amp; Password Authentication so that our users can login via Firebase.</p>
<p>Once you are inside the app&#8217;s Forge, click on the Login &amp; Auth tab and Enable the Email &amp; Password Authentication checkbox.</p>
<p><a href="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-5.33.44-pm.png" data-rel="lightbox-2" title=""><img class="size-medium wp-image-2484 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-5.33.44-pm.png?resize=414%2C300" alt="Screen Shot 2014-11-15 at 5.33.44 pm" data-recalc-dims="1" /><noscript><img class="size-medium wp-image-2484 aligncenter" src="http://i0.wp.com/thejackalofjavascript.com/wp-content/uploads/2014/11/Screen-Shot-2014-11-15-at-5.33.44-pm.png?resize=414%2C300" alt="Screen Shot 2014-11-15 at 5.33.44 pm" data-recalc-dims="1" /></noscript></a></p>
<h2>Continue Development</h2>
<p>Now that the base project is setup, we will work on the actual app development.</p>
<p>First, we will update the splash screen. Open <em>index.html </em>present in the root folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd2016120933373" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">index.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;!-- loading animation :: Used as a splash screen--&gt;
&lt;!-- http://codepen.io/obomemo/pen/cfdGr --&gt;
&lt;style type="text/css"&gt;
body {
background-color: #333;
}
.loading {
display: block;
position: absolute;
top: 50%;
left: 50%;
width: 100px;
height: 100px;
margin-top: -50px;
margin-left: -50px;
}
.loading:before {
content: "";
display: block;
position: absolute;
top: 50%;
left: 50%;
width: 0;
height: 0;
-webkit-animation: loading 0.5s linear 0s infinite normal;
}
@-webkit-keyframes loading {
0% {
box-shadow: -10px -10px 1px 2px white, -10px 0px 1px 2px white, -10px 10px 1px 2px white, 0px -10px 1px 2px white, 0px 0px 1px 2px white, 0px 10px 1px 2px white, 10px -10px 1px 2px white, 10px 0px 1px 2px white, 10px 10px 1px 2px white;
}
25% {
box-shadow: -10px -10px 1px 2px white, -10px 0px 1px 4px white, -10px 10px 1px 2px white, 0px -10px 1px 4px white, 0px 0px 1px 2px white, 0px 10px 1px 2px white, 10px -10px 1px 2px white, 10px 0px 1px 2px white, 10px 10px 1px 2px white;
}
50% {
box-shadow: -10px -10px 1px 2px white, -10px 0px 1px 2px white, -10px 10px 1px 4px white, 0px -10px 1px 2px white, 0px 0px 1px 4px white, 0px 10px 1px 2px white, 10px -10px 1px 4px white, 10px 0px 1px 2px white, 10px 10px 1px 2px white;
}
75% {
box-shadow: -10px -10px 1px 2px white, -10px 0px 1px 2px white, -10px 10px 1px 2px white, 0px -10px 1px 2px white, 0px 0px 1px 2px white, 0px 10px 1px 4px white, 10px -10px 1px 2px white, 10px 0px 1px 4px white, 10px 10px 1px 2px white;
}
100% {
box-shadow: -10px -10px 1px 4px white, -10px 0px 1px 2px white, -10px 10px 1px 2px white, 0px -10px 1px 2px white, 0px 0px 1px 2px white, 0px 10px 1px 2px white, 10px -10px 1px 2px white, 10px 0px 1px 2px white, 10px 10px 1px 4px white;
}
}
&lt;/style&gt;
&lt;script&gt;
function init() {
require('./app.js');
setTimeout(function() {
window.location.assign('http://localhost:3000');
}, 2999);
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="init()"&gt;
&lt;span class="loading"&gt;&lt;/span&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-26">26</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-28">28</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-30">30</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-32">32</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-34">34</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-36">36</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-38">38</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-40">40</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-42">42</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-44">44</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-46">46</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-48">48</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-50">50</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-52">52</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-54">54</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-56">56</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-58">58</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-60">60</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-62">62</div><div class="crayon-num" data-line="crayon-5a10fb8fd2016120933373-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2016120933373-64">64</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-2"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-v">animation</span><span class="crayon-h"> </span><span class="crayon-o">::</span><span class="crayon-h"> </span><span class="crayon-e">Used </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">splash </span><span class="crayon-v">screen</span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//codepen.io/obomemo/pen/cfdGr --&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;style </span><span class="crayon-e">type</span><span class="crayon-k">="text/css"&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-8"><span class="crayon-k">&nbsp;&nbsp;body </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">background-color</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">#333</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-k">.loading </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">block</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">absolute</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">left</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">100px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">100px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">margin-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-50px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">margin-left</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-50px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-k">.loading:before </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">content</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">display</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">block</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">position</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">absolute</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">left</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">50%</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">width</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">height</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">-webkit-animation</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">loading</span><span class="crayon-h"> </span><span class="crayon-i">0.5s</span><span class="crayon-h"> </span><span class="crayon-i">linear</span><span class="crayon-h"> </span><span class="crayon-i">0s</span><span class="crayon-h"> </span><span class="crayon-i">infinite</span><span class="crayon-h"> </span><span class="crayon-i">normal</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-n">@-webkit-keyframes loading {</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-32"><span class="crayon-n">&nbsp;&nbsp;&nbsp;&nbsp;0% {</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-33"><span class="crayon-n">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;box-shadow: -10px -10px 1px 2px white, -10px 0px 1px 2px white, -10px 10px 1px 2px white, 0px -10px 1px 2px white, 0px 0px 1px 2px white, 0px 10px 1px 2px white, 10px -10px 1px 2px white, 10px 0px 1px 2px white, 10px 10px 1px 2px white;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k">25% </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k">50% </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k">75% </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k">100% </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">box-shadow</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">-10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">2px</span><span class="crayon-h"> </span><span class="crayon-i">white,</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">10px</span><span class="crayon-h"> </span><span class="crayon-i">1px</span><span class="crayon-h"> </span><span class="crayon-i">4px</span><span class="crayon-h"> </span><span class="crayon-i">white</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/style&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'./app.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">assign</span><span class="crayon-sy">(</span><span class="crayon-s">'http://localhost:3000'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2999</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-55"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-57"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-58">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-59"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-v">onload</span><span class="crayon-o">=</span><span class="crayon-s">"init()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-60">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"loading"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-62"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2016120933373-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2016120933373-64"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0402 seconds] -->
<p>Next, we will update the app&#8217;s base page. Open <i>views/index.ejs</i> and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd2021955621851" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">views/index.ejs</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!DOCTYPE html&gt;
&lt;html ng-app="chatter"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"&gt;
&lt;title&gt;&lt;/title&gt;
&lt;link href="libs/ionic/release/css/ionic.min.css" rel="stylesheet"&gt;
&lt;link href="css/app.css" rel="stylesheet"&gt;
&lt;!-- ionic/angularjs js --&gt;
&lt;script src="libs/ionic/release/js/ionic.bundle.js"&gt;&lt;/script&gt;
&lt;!-- firebase --&gt;
&lt;script src="libs/firebase/firebase.js"&gt;&lt;/script&gt;
&lt;script src="libs/angularfire/dist/angularfire.min.js"&gt;&lt;/script&gt;
&lt;script src="libs/firebase-simple-login/firebase-simple-login.js"&gt;&lt;/script&gt;
&lt;!-- your app's js --&gt;
&lt;script src="js/app.js"&gt;&lt;/script&gt;
&lt;script src="js/controllers.js"&gt;&lt;/script&gt;
&lt;script src="js/factory.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body animation="slide-left-right-ios7"&gt;
&lt;div class="bar bar-header bar-dark"&gt;
&lt;h1 class="title"&gt;Chatter&lt;/h1&gt;
&lt;/div&gt;
&lt;ion-nav-view&gt;&lt;/ion-nav-view&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-26">26</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-28">28</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-30">30</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2021955621851-32">32</div><div class="crayon-num" data-line="crayon-5a10fb8fd2021955621851-33">33</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">DOCTYPE </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-2"><span class="crayon-o">&lt;</span><span class="crayon-e">html </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">app</span><span class="crayon-o">=</span><span class="crayon-s">"chatter"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-4"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-8">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"libs/ionic/release/css/ionic.min.css"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"css/app.css"</span><span class="crayon-h"> </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">ionic</span><span class="crayon-o">/</span><span class="crayon-e">angularjs</span><span class="crayon-h"> </span><span class="crayon-e">js</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"libs/ionic/release/js/ionic.bundle.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-14">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">firebase</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"libs/firebase/firebase.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"libs/angularfire/dist/angularfire.min.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"libs/firebase-simple-login/firebase-simple-login.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-i">app</span>'<span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-e">js</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/app.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/controllers.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"js/factory.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-24"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-26"><span class="crayon-o">&lt;</span><span class="crayon-e">body </span><span class="crayon-v">animation</span><span class="crayon-o">=</span><span class="crayon-s">"slide-left-right-ios7"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar bar-header bar-dark"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"title"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Chatter</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">nav</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-31"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2021955621851-32">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd2021955621851-33"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0221 seconds] -->
<p>The above file consists of the updated dependencies we have downloaded earlier.</p>
<p>Now, we will update the <em>app.js</em>. The <em>public/js/app.js</em> will consist of the Angular/Ionic init code. Here we will configure a few helper functions and define a few routes. Update <em>app.js </em>as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd202a583742358" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/app.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
chatterApp = angular.module('chatter', ['ionic', 'firebase'])
.run(function($rootScope, $firebaseSimpleLogin, $window, $ionicLoading) {
$rootScope.baseUrl = 'https://chatterio.firebaseio.com/';
var authRef = new Firebase($rootScope.baseUrl);
$rootScope.auth = $firebaseSimpleLogin(authRef);
$rootScope.openchats = [];
$rootScope.show = function(text) {
this.modal = $ionicLoading.show({
content: text ? text : 'Loading..',
animation: 'fade-in',
showBackdrop: true,
maxWidth: 200,
showDelay: 0
});
};
$rootScope.hide = function() {
this.modal.hide();
};
$rootScope.notify = function(text) {
$rootScope.show(text);
$window.setTimeout(function() {
$rootScope.hide();
}, 1999);
};
$rootScope.logout = function() {
$rootScope.auth.$logout();
$rootScope.offlineUser();
$rootScope.checkSession();
};
$rootScope.checkSession = function() {
var auth = new FirebaseSimpleLogin(authRef, function(error, user) {
if (error) {
// no action yet.. redirect to default route
$rootScope.userEmail = null;
$window.location.href = '#/';
} else if (user) {
// user authenticated with Firebase
$rootScope.userEmail = user.email;
$window.location.href = ('#/home');
} else {
// user is logged out
$rootScope.userEmail = null;
$window.location.href = '#/';
}
});
}
// $rootScope.checkSession();
// globals
$rootScope.chatToUser = [];
$rootScope.userEmail = '';
$rootScope.escapeEmailAddress = function(email) {
if (!email) return false
// Replace '.' (not allowed in a Firebase key) with ','
email = email.toLowerCase();
email = email.replace(/\./g, ',');
return email.trim();
}
$rootScope.getHash = function(chatToUser, loggedInUser) {
var hash = '';
if (chatToUser &gt; loggedInUser) {
hash = this.escapeEmailAddress(chatToUser) + '_' + this.escapeEmailAddress(loggedInUser);
} else {
hash = this.escapeEmailAddress(loggedInUser) + '_' + this.escapeEmailAddress(chatToUser);
}
return hash;
}
}).config(function($stateProvider, $urlRouterProvider) {
$stateProvider
.state('login', {
url: '/',
templateUrl: 'partials/login.html'
}).state('signup', {
url: '/signup',
templateUrl: 'partials/signup.html'
}).state('home', {
url: '/home',
templateUrl: 'partials/home.html'
}).state('chat', {
url: '/chat/:chatToUser/:loggedInUser',
templateUrl: 'partials/chat.html'
});
$urlRouterProvider.otherwise('/');
});</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-26">26</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-28">28</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-30">30</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-32">32</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-34">34</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-36">36</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-38">38</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-40">40</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-42">42</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-44">44</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-46">46</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-48">48</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-50">50</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-52">52</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-54">54</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-56">56</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-58">58</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-60">60</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-62">62</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-64">64</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-66">66</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-68">68</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-70">70</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-72">72</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-74">74</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-76">76</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-78">78</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-80">80</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-82">82</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-84">84</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-86">86</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-88">88</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-90">90</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-92">92</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-94">94</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-96">96</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-98">98</div><div class="crayon-num" data-line="crayon-5a10fb8fd202a583742358-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd202a583742358-100">100</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-1"><span class="crayon-v">chatterApp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">angular</span><span class="crayon-sy">.</span><span class="crayon-e">module</span><span class="crayon-sy">(</span><span class="crayon-s">'chatter'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ionic'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'firebase'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-2">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-3"><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">firebaseSimpleLogin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">window</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-4">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https://chatterio.firebaseio.com/'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">authRef</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Firebase</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">baseUrl</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">auth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">firebaseSimpleLogin</span><span class="crayon-sy">(</span><span class="crayon-v">authRef</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-8">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-10">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">show</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">modal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicLoading</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">text</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-v">text</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Loading..'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animation</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'fade-in'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">showBackdrop</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">maxWidth</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">showDelay</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-20">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">hide</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">modal</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-24">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">notify</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1999</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">logout</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">auth</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">logout</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">offlineUser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">checkSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">checkSession</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">auth</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">FirebaseSimpleLogin</span><span class="crayon-sy">(</span><span class="crayon-v">authRef</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// no action yet.. redirect to default route</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'#/'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// user authenticated with Firebase</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-v">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'#/home'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// user is logged out</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">window</span><span class="crayon-sy">.</span><span class="crayon-v">location</span><span class="crayon-sy">.</span><span class="crayon-e">href</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'#/'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-55"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-56">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// $rootScope.checkSession();</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-58">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// globals</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-60"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">chatToUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-62"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">escapeEmailAddress</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Replace '.' (not allowed in a Firebase key) with ','</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">toLowerCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-c">/\./g</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">','</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-68"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-70"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">getHash</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">hash</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">hash</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'_'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">hash</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'_'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">hash</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-78"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-80">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-81"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">config</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">stateProvider</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">urlRouterProvider</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-82">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-83"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-i">stateProvider</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'login'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'partials/login.html'</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'signup'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/signup'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'partials/signup.html'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'home'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/home'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'partials/home.html'</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">state</span><span class="crayon-sy">(</span><span class="crayon-s">'chat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'/chat/:chatToUser/:loggedInUser'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">templateUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'partials/chat.html'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-98"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">urlRouterProvider</span><span class="crayon-sy">.</span><span class="crayon-e">otherwise</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd202a583742358-99">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd202a583742358-100"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0241 seconds] -->
<p><strong>Things to notice</strong></p>
<p>Line 1 : We Init a new Angular module, passing in Ionic and Firebase as dependencies.</p>
<p>Line 5 : This is the base Firebase URL for your app. Update it as per your account.</p>
<p>Line 6,7 : Init Firebase simple login</p>
<p>Line 9 : 
<span id="crayon-5a10fb8fd2036944013646" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">openchats</span></span></span> will consist of the all the chat windows that are open. This will help us when we receive a new incoming message, to check if there is already a conversation window between the incoming user and the current user.</p>
<p>Line 11 : Shows a Modal Dialog</p>
<p>Line 21 : Hides Modal Dialog</p>
<p>Line 25 : Shows a Modal Dialog for 2 seconds and hides it</p>
<p>Line 32 : The logout function. Here we log the user out from the application. And then invoke 
<span id="crayon-5a10fb8fd203d578986904" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">offlineUser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span>. Finally we call the 
<span id="crayon-5a10fb8fd2043902148303" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">checkSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> that will take care of redirecting the user.</p>
<p>Line 38 : We Check the state of the User&#8217;s auth status and redirect the user appropriately.</p>
<p>Line 62 : 
<span id="crayon-5a10fb8fd2049371042912" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> will be used, when we want to make an Email Address Firebase safe, while naming a sub-collection for our chats.</p>
<p>Line 70 : 
<span id="crayon-5a10fb8fd204f951818354" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">getHash</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> is one of the <em>key</em> functions in our application logic while communicating between users. This function takes in 2 email address, i.e. current logged in user and the user you would like to chat with and return a string that is a constant whenever the above to users are involved. This is the common end point in Firebase chats collection, whenever the above 2 users are involved.</p>
<p>Line 83 : The app routes</p>
<p>Now that the basic app is setup, we will work on our factory. Create a new file named <em>factory.js</em> inside <em>public/js</em> folder. This file will hold 2 factories. Update it as</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd2056805683796" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/factory.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
chatterApp.factory('GUI', function() {
return require('nw.gui');
}).factory('GUIWin', ['GUI',
function(gui) {
return gui.Window.get();
}
]);</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd2056805683796-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2056805683796-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd2056805683796-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2056805683796-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd2056805683796-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd2056805683796-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd2056805683796-7">7</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd2056805683796-1"><span class="crayon-v">chatterApp</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'GUI'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2056805683796-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'nw.gui'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd2056805683796-3"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">factory</span><span class="crayon-sy">(</span><span class="crayon-s">'GUIWin'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'GUI'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2056805683796-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">gui</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd2056805683796-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">gui</span><span class="crayon-sy">.</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd2056805683796-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd2056805683796-7"><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0018 seconds] -->
<p>The GUI service and the Window Service will be used to spawn child windows.</p>
<p>Finally the <em>controllers.js</em>. Create a new file named <em>controllers.js</em> inside <em>public/js</em> folder. This file will consist of the application logic.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd205c311559452" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/js/controllers.js</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
chatterApp.controller('LoginCtrl', ['$rootScope', '$scope', '$state', function($rootScope, $scope, $state) {
$scope.login = {
email: 'a@a.com',
password: 'a'
};
$scope.loginUser = function() {
$rootScope.show('Please wait.. Authenticating');
var email = this.login.email;
var password = this.login.password;
$rootScope.auth.$login('password', {
email: email,
password: password
}).then(function(user) {
$rootScope.hide();
$rootScope.userEmail = user.email;
$state.go("home");
}, function(error) {
$rootScope.hide();
if (error.code == 'INVALID_EMAIL') {
$rootScope.notify('Invalid Email Address');
} else if (error.code == 'INVALID_PASSWORD') {
$rootScope.notify('Invalid Password');
} else if (error.code == 'INVALID_USER') {
$rootScope.notify('Invalid User');
} else {
$rootScope.notify('Oops something went wrong. Please try again later');
}
});
}
}]).controller('SignupCtrl', ['$rootScope', '$scope', '$state', function($rootScope, $scope, $state) {
$scope.signup = {
email: 'a@a.com',
password: 'a'
};
$scope.signupUser = function() {
var email = this.signup.email;
var password = this.signup.password;
$rootScope.show('Please wait.. Registering');
$scope.auth.$createUser(email, password)
.then(function(user) {
$rootScope.hide();
$rootScope.userEmail = user.email;
$state.go("home");
}, function(error) {
$rootScope.hide();
if (error.code == 'INVALID_EMAIL') {
$rootScope.notify('Invalid Email Address');
} else if (error.code == 'EMAIL_TAKEN') {
$rootScope.notify('Email Address already taken');
} else {
$rootScope.notify('Oops something went wrong. Please try again later');
}
});
}
}]).controller('HomeCtrl', ['$rootScope', '$scope', '$firebase', 'GUI', 'GUIWin', function($rootScope, $scope, $firebase, gui, win) {
$scope.users = [];
var olUsersRef = new Firebase($rootScope.baseUrl + 'onlineUsers');
var olUserSync = $firebase(olUsersRef);
$scope.users = olUserSync.$asArray();
// broadcast the user's presence 
olUserSync.$push({
user: $rootScope.userEmail,
login: Date.now()
}).then(function(data) {
$rootScope.presenceID = data.name();
})
$scope.triggerChat = function(chatToUser) {
$rootScope.chatToUser.push(chatToUser);
spawnner(chatToUser.user);
}
function spawnner(user) { // other user
var x = gui.Window.open('chat/' + user + '/' + $rootScope.userEmail, {
width: 300,
height: 450,
toolbar: false
});
x.on('loaded', function() {
$rootScope.openchats.push("win_" + $rootScope.escapeEmailAddress(user));
});
x.on('close', function() {
for (var i = $rootScope.openchats.length - 1; i &gt;= 0; i--) {
if ($rootScope.openchats[i] === "win_" + $rootScope.escapeEmailAddress(user)) {
$rootScope.openchats.splice(i, 1);
return;
}
}
this.close(true);
});
}
// broadcast the user's presence 
$rootScope.offlineUser = function() {
olUserSync.$remove($rootScope.presenceID);
}
// on window close broadcast the user's presence 
win.on('close', function() {
$rootScope.offlineUser();
this.close(true);
});
// register for other's user to chat
var triggerChatRef = new Firebase($rootScope.baseUrl + 'chats');
obj = $firebase(triggerChatRef).$asArray();
var unwatch = obj.$watch(function(snap) {
if (snap.event == 'child_added' || snap.event == 'child_changed') {
if (snap.key.indexOf($rootScope.escapeEmailAddress($rootScope.userEmail)) &gt;= 0) {
// check and spawn
var otherUser = snap.key.replace(/_/g, '').replace('chat', '').replace($rootScope.escapeEmailAddress($rootScope.userEmail), '');
if ($rootScope.openchats.join('').indexOf($rootScope.escapeEmailAddress(otherUser)) &lt; 0) {
spawnner(otherUser);
}
}
}
});
}]).controller('ChatCtrl', ['$rootScope', '$scope', '$stateParams', '$timeout', '$ionicScrollDelegate', '$firebase', function($rootScope, $scope, $stateParams, $timeout, $ionicScrollDelegate, $firebase) {
$scope.chatToUser = $stateParams.chatToUser;
$scope.loggedInUser = $stateParams.loggedInUser;
var chatRef = new Firebase($rootScope.baseUrl + 'chats/chat_' + $rootScope.getHash($scope.chatToUser, $scope.loggedInUser));
var sync = $firebase(chatRef);
$scope.messages = sync.$asArray();
$scope.sendMessage = function(chatMsg) {
var d = new Date();
d = d.toLocaleTimeString().replace(/:\d+ /, ' ');
sync.$push({
content: '&lt;p&gt;' + $scope.loggedInUser + ' says : &lt;br/&gt;' + chatMsg + '&lt;/p&gt; &lt;hr/&gt;',
time: d
});
$scope.chatMsg = chatMsg = '';
$ionicScrollDelegate.scrollBottom(true);
}
}])</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-26">26</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-28">28</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-30">30</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-32">32</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-34">34</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-36">36</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-38">38</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-40">40</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-42">42</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-44">44</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-46">46</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-48">48</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-50">50</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-52">52</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-54">54</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-56">56</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-58">58</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-60">60</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-62">62</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-64">64</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-66">66</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-68">68</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-70">70</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-72">72</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-74">74</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-76">76</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-78">78</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-80">80</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-82">82</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-84">84</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-86">86</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-88">88</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-90">90</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-92">92</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-94">94</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-96">96</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-98">98</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-100">100</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-102">102</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-104">104</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-106">106</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-108">108</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-110">110</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-112">112</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-114">114</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-116">116</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-118">118</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-120">120</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-122">122</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-124">124</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-126">126</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-128">128</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-130">130</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-132">132</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-134">134</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-136">136</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-138">138</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-140">140</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-142">142</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-144">144</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-146">146</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-148">148</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-150">150</div><div class="crayon-num" data-line="crayon-5a10fb8fd205c311559452-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd205c311559452-152">152</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-1"><span class="crayon-v">chatterApp</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'LoginCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$state'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">state</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-2">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">login</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0e6f4e6f206d6163">[email&#160;protected]</a>'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">loginUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Please wait.. Authenticating'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-10">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">login</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">login</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">auth</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">login</span><span class="crayon-sy">(</span><span class="crayon-s">'password'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">password</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-e">go</span><span class="crayon-sy">(</span><span class="crayon-s">"home"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'INVALID_EMAIL'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Invalid Email Address'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'INVALID_PASSWORD'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Invalid Password'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'INVALID_USER'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Invalid User'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Oops something went wrong. Please try again later'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-34">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-36"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'SignupCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$state'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">state</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">signup</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a6c7e6c788c5c9cb">[email&#160;protected]</a>'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">password</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-42">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">signupUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-44">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">signup</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">signup</span><span class="crayon-sy">.</span><span class="crayon-v">password</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-s">'Please wait.. Registering'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-48">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">auth</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">createUser</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">password</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">email</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-e">go</span><span class="crayon-sy">(</span><span class="crayon-s">"home"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">hide</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'INVALID_EMAIL'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Invalid Email Address'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-v">code</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'EMAIL_TAKEN'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Email Address already taken'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">notify</span><span class="crayon-sy">(</span><span class="crayon-s">'Oops something went wrong. Please try again later'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-64">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-65"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-66">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-67"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'HomeCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$firebase'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'GUI'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'GUIWin'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">firebase</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gui</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">win</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-68"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-70"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">olUsersRef</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Firebase</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'onlineUsers'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-71"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">olUserSync</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">firebase</span><span class="crayon-sy">(</span><span class="crayon-v">olUsersRef</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-72"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">olUserSync</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">asArray</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-74"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// broadcast the user's presence </span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-75"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">olUserSync</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">user</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">login</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Date</span><span class="crayon-sy">.</span><span class="crayon-e">now</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-78"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-st">then</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">presenceID</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-e">name</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-81">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-82"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">triggerChat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">spawnner</span><span class="crayon-sy">(</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-85"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-86">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-87"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">spawnner</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// other user</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">gui</span><span class="crayon-sy">.</span><span class="crayon-v">Window</span><span class="crayon-sy">.</span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-s">'chat/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">width</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">300</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">height</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">450</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">toolbar</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-93">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'loaded'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-s">"win_"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'close'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">--</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">"win_"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-sy">.</span><span class="crayon-e">splice</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-107"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-108"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-109"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// broadcast the user's presence </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-110"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">offlineUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">olUserSync</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">remove</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">presenceID</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// on window close broadcast the user's presence </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-114"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">win</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'close'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">offlineUser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-117"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-118">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-119"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// register for other's user to chat</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-120"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">triggerChatRef</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Firebase</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'chats'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-121"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">obj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">firebase</span><span class="crayon-sy">(</span><span class="crayon-v">triggerChatRef</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">asArray</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-122"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-r">unwatch</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-r">watch</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">snap</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">snap</span><span class="crayon-sy">.</span><span class="crayon-v">event</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'child_added'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">snap</span><span class="crayon-sy">.</span><span class="crayon-v">event</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'child_changed'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">snap</span><span class="crayon-sy">.</span><span class="crayon-v">key</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-125"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// check and spawn</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">otherUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">snap</span><span class="crayon-sy">.</span><span class="crayon-v">key</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-c">/_/g</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'chat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">userEmail</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">openchats</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">escapeEmailAddress</span><span class="crayon-sy">(</span><span class="crayon-v">otherUser</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">spawnner</span><span class="crayon-sy">(</span><span class="crayon-v">otherUser</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-132"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-133">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-134"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">controller</span><span class="crayon-sy">(</span><span class="crayon-s">'ChatCtrl'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'$rootScope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$scope'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$stateParams'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$timeout'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$ionicScrollDelegate'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'$firebase'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">stateParams</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">timeout</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ionicScrollDelegate</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">firebase</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-135"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">chatToUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">stateParams</span><span class="crayon-sy">.</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-136"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">loggedInUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">stateParams</span><span class="crayon-sy">.</span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-137"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">chatRef</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Firebase</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-v">baseUrl</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'chats/chat_'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">rootScope</span><span class="crayon-sy">.</span><span class="crayon-e">getHash</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">chatToUser</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">loggedInUser</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-138"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sync</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">firebase</span><span class="crayon-sy">(</span><span class="crayon-v">chatRef</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-139"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">messages</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sync</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">asArray</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-140">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-141"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">sendMessage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">chatMsg</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">toLocaleTimeString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">d</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">' '</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sync</span><span class="crayon-sy">.</span><span class="crayon-sy">$</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;p&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">loggedInUser</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' says : &lt;br/&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">chatMsg</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;/p&gt; &lt;hr/&gt;'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">time</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">d</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-148">&nbsp;</div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">scope</span><span class="crayon-sy">.</span><span class="crayon-v">chatMsg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">chatMsg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">ionicScrollDelegate</span><span class="crayon-sy">.</span><span class="crayon-e">scrollBottom</span><span class="crayon-sy">(</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd205c311559452-151"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd205c311559452-152"><span class="crayon-sy">}</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0507 seconds] -->
<p>Quite a lot of things are happening here.  We have 4 controllers in total. Signup, Login, Home and Chat. As the name suggest, each controller performs one specific task.</p>
<p>Line 1 : Login controller. Responsible for registered user login</p>
<p>Line 36 : Signup controller. Responsible for new user signup</p>
<p>Line 67 : Home controller. Once the user is logged in, s/he will be redirected to the home page where he will see a set of users who are online.</p>
<p>Line 70 : We create a new Firebase instance to the onlineUsers collection.</p>
<p>Line 72  : We sync the data in onlineUsers collection to a local scope variable. This variable will be used to iterate and show a list of users who are online.</p>
<p>Line 75 :  Now, that we have an instance of onlineUsers, we will broadcast our presence so that other users can see us online.</p>
<p>Line 82 : 
<span id="crayon-5a10fb8fd206e270901481" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">triggerChat</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> gets invoked when the current logged in user wants to chat with another user who is online. Here we set the 
<span id="crayon-5a10fb8fd2075776604876" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">chatToUser</span></span></span>  to be the user, the current logged in user wants to chat to. And then we call the 
<span id="crayon-5a10fb8fd207b406580719" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">spawnner</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span></p>
<p>Line 87 : 
<span id="crayon-5a10fb8fd2081693597409" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">spawnner</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></span></span> is responsible for opening a new chat window between the current logged in user and the user you wish to chat with.</p>
<p>Line 88 : Spawn a new child window. The URL of the child window consists of the user you would like to chat with</p>
<p>Line 94 : Once the chat window is successfully loaded, we add the same to the 
<span id="crayon-5a10fb8fd2087184710387" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">openchats</span></span></span> .</p>
<p>Line 98 : Once the chat window is closed, we need to update  
<span id="crayon-5a10fb8fd208d803390907" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">openchats</span></span></span> so that if a new chat comes from the same user, we spawn a new chat window again.</p>
<p>Line 110 : When a user logs off, we remove their presence</p>
<p>Line 114 : When a user closes the application window, we remove their presence and close the window. This app does not run in the background</p>
<p>Line 120 : So far we have seen the logic where the current logged in user spawns a new chat. But what if a remote user spawns a chat. How do we update the current user about the intentions of the remote user? &#8211; This is how we do it.</p>
<p>We listen to chats collection and watch it for changes.</p>
<p>Line 123 : We watch for 2 events <em>child_added</em> and <em>child_changed</em>. Once we get a notification, we will check if the key variable inside it consists of the logged in user.</p>
<p>Line 124 : If yes, we will get the other user and check if they are already in a conversation with the current user.</p>
<p>Line 128 : If no, we will spawn a new chat window and call the chat controller to take over things.</p>
<p>Line 134 : Chat controller. This controller works with 2 variables. 
<span id="crayon-5a10fb8fd2094458746250" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">chatToUser</span></span></span> and 
<span id="crayon-5a10fb8fd209a273254973" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">loggedInUser</span></span></span>.</p>
<p>Line 137 : We create a new Firebase reference to the chats sub collection between the 2 users</p>
<p>Line 138,139 : We sync the values from server and assign it to a scope variable</p>
<p>Line 141 : When a user sends a message, we push it to the same collection.</p>
<p>If needed, spend some time here to understand how the connection between the 2 users happen.</p>
<p>With this we complete the logic part. We will be creating the required partials now.</p>
<p>First delete the <em>head.html</em> from <em>public/partials</em> folder. Create a new file named <em>login.html</em> and inside <em>public/partials</em> folder and update it as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd20a1235310111" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/login.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-view title="Login"&gt;
&lt;ion-content padding="true" class="has-header"&gt;
&lt;form ng-controller="LoginCtrl"&gt;
&lt;ion-list&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Username&lt;/span&gt;
&lt;input type="email" placeholder="Email Address" ng-model="login.email"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Password&lt;/span&gt;
&lt;input type="password" placeholder="Password" ng-model="login.password"&gt;
&lt;/label&gt;
&lt;/ion-list&gt;
&lt;div class="spacer" style="height: 40px;"&gt;&lt;/div&gt;
&lt;button class="button button-dark button-block" ng-disabled="!(login.email &amp;&amp; login.password)" ng-click="loginUser()"&gt;Log in&lt;/button&gt;
&lt;a href="#/signup" class="button button-positive button-clear button-block"&gt;Or create an account&lt;/a&gt;
&lt;/form&gt;
&lt;/ion-content&gt;
&lt;/ion-view&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a1235310111-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a1235310111-19">19</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Login"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">form </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"LoginCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Username</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"email"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Email Address"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"login.email"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Password</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"password"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Password"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"login.password"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"spacer"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"height: 40px;"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-dark button-block"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">disabled</span><span class="crayon-o">=</span><span class="crayon-s">"!(login.email &amp;&amp; login.password)"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"loginUser()"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Log </span><span class="crayon-st">in</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/signup"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-positive button-clear button-block"</span><span class="crayon-o">&gt;</span><span class="crayon-st">Or</span><span class="crayon-h"> </span><span class="crayon-e">create </span><span class="crayon-e">an </span><span class="crayon-v">account</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">form</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a1235310111-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a1235310111-19"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0066 seconds] -->
<p>Next comes the <em>signup.html</em>. Create and update as below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd20a9553079755" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/signup.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-view title="Signup"&gt;
&lt;ion-content padding="true" scroll="false" class="has-header"&gt;
&lt;form ng-controller="SignupCtrl"&gt;
&lt;ion-list&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Username&lt;/span&gt;
&lt;input type="email" placeholder="Email Address" ng-model="signup.email"&gt;
&lt;/label&gt;
&lt;label class="item item-input"&gt;
&lt;span class="input-label"&gt;Password&lt;/span&gt;
&lt;input type="text" placeholder="Password" ng-model="signup.password"&gt;
&lt;/label&gt;
&lt;/ion-list&gt;
&lt;button class="button button-dark button-block" ng-disabled="!(signup.email &amp;&amp; signup.password)" ng-click="signupUser()"&gt;Sign up&lt;/button&gt;
&lt;a href="#/" class="button button-positive button-clear button-block"&gt;Or Login&lt;/a&gt;
&lt;/form&gt;
&lt;/ion-content&gt;
&lt;/ion-view&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd20a9553079755-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20a9553079755-18">18</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Signup"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">scroll</span><span class="crayon-o">=</span><span class="crayon-s">"false"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">form </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"SignupCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Username</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"email"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Email Address"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"signup.email"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"input-label"</span><span class="crayon-o">&gt;</span><span class="crayon-v">Password</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Password"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"signup.password"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">list</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-dark button-block"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">disabled</span><span class="crayon-o">=</span><span class="crayon-s">"!(signup.email &amp;&amp; signup.password)"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"signupUser()"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Sign </span><span class="crayon-v">up</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#/"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-positive button-clear button-block"</span><span class="crayon-o">&gt;</span><span class="crayon-st">Or</span><span class="crayon-h"> </span><span class="crayon-v">Login</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">form</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20a9553079755-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20a9553079755-18"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0063 seconds] -->
<p>The main home page. <em>home.html</em></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd20b1605554262" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/home.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-view title="Home"&gt;
&lt;ion-content padding="true" scroll="true" class="has-header"&gt;
&lt;h4 class="pull-right"&gt;Welcome {{userEmail}}&lt;/h4&gt;
&lt;div class="clear"&gt;&lt;/div&gt;
&lt;h4&gt;Online Users
&lt;button class="button button-clear button-dark pull-right" ng-click="logout()"&gt;
Logout
&lt;/button&gt;
&lt;/h4&gt;
&lt;hr/&gt;
&lt;div class="list" ng-controller="HomeCtrl"&gt;
&lt;label class="item item-input" ng-hide="users.length == 1"&gt;
&lt;input type="text" placeholder="Search Users" ng-model="search.user"&gt;
&lt;/label&gt;
&lt;span class="item item-button-right" ng-repeat="u in users | filter:search:user" ng-if="u.user != userEmail"&gt;
&lt;i class="icon ion-ionic"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; {{u.user}}
&lt;button class="button button-dark" ng-click="triggerChat(u)"&gt;
&lt;i class="icon ion-chatbubbles"&gt;&lt;/i&gt;
&lt;/button&gt;
&lt;/span&gt;
&lt;span class="item" ng-show="users.length == 1"&gt;
&lt;i class="icon ion-alert"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; No Users Online
&lt;/span&gt;
&lt;div class="list"&gt;
&lt;/ion-content&gt;
&lt;/ion-view&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-20">20</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-22">22</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-24">24</div><div class="crayon-num" data-line="crayon-5a10fb8fd20b1605554262-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20b1605554262-26">26</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Home"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-v">padding</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-v">scroll</span><span class="crayon-o">=</span><span class="crayon-s">"true"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h4 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pull-right"</span><span class="crayon-o">&gt;</span><span class="crayon-e">Welcome</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">userEmail</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h4</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"clear"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h4</span><span class="crayon-o">&gt;</span><span class="crayon-e">Online </span><span class="crayon-v">Users</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-clear button-dark pull-right"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"logout()"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Logout</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h4</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">hr</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"HomeCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">label </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-input"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">hide</span><span class="crayon-o">=</span><span class="crayon-s">"users.length == 1"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Search Users"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"search.user"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">label</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item item-button-right"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"u in users | filter:search:user"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-st">if</span><span class="crayon-o">=</span><span class="crayon-s">"u.user != userEmail"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"icon ion-ionic"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">u</span><span class="crayon-sy">.</span><span class="crayon-v">user</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-dark"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"triggerChat(u)"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"icon ion-chatbubbles"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"item"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">show</span><span class="crayon-o">=</span><span class="crayon-s">"users.length == 1"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"icon ion-alert"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">No </span><span class="crayon-e">Users </span><span class="crayon-v">Online</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"list"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20b1605554262-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20b1605554262-26"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0091 seconds] -->
<p>Finally the chat page &#8211; <em>chat.html</em></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd20ba653301438" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/partials/chat.html</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;ion-view title="Chat"&gt;
&lt;ion-pane ng-controller="ChatCtrl"&gt;
&lt;ion-content class="has-header padding"&gt;
&lt;ol class="messages"&gt;
&lt;li ng-repeat="message in messages" ng-class="" ng-bind-html="message.content"&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/ion-content&gt;
&lt;ion-footer-bar class="bar-frosted"&gt;
&lt;input type="text" placeholder="Enter Message" ng-model="chatMsg"&gt;
&lt;button class="button button-dark  icon-left ion-paper-airplane" ng-click="sendMessage(chatMsg); chatMsg = '';"&gt;&lt;/button&gt;
&lt;/ion-footer-bar&gt;
&lt;/ion-pane&gt;
&lt;/ion-view&gt;</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-10">10</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-12">12</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-14">14</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-16">16</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-18">18</div><div class="crayon-num" data-line="crayon-5a10fb8fd20ba653301438-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20ba653301438-20">20</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-1"><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">view </span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Chat"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">pane </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-s">"ChatCtrl"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-e">content </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"has-header padding"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">ol </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"messages"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">li </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">repeat</span><span class="crayon-o">=</span><span class="crayon-s">"message in messages"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">bind</span><span class="crayon-o">-</span><span class="crayon-v">html</span><span class="crayon-o">=</span><span class="crayon-s">"message.content"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">li</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ol</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">br</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">content</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">footer</span><span class="crayon-o">-</span><span class="crayon-e">bar </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"bar-frosted"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"Enter Message"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">model</span><span class="crayon-o">=</span><span class="crayon-s">"chatMsg"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">button </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"button button-dark&nbsp;&nbsp;icon-left ion-paper-airplane"</span><span class="crayon-h"> </span><span class="crayon-v">ng</span><span class="crayon-o">-</span><span class="crayon-v">click</span><span class="crayon-o">=</span><span class="crayon-s">"sendMessage(chatMsg); chatMsg = '';"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">button</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">footer</span><span class="crayon-o">-</span><span class="crayon-v">bar</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20ba653301438-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">pane</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20ba653301438-20"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">ion</span><span class="crayon-o">-</span><span class="crayon-v">view</span><span class="crayon-o">&gt;</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0058 seconds] -->
<p>To clean up some styles, replace the contents of <em>public/css/app.css</em> with below</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd20c1991477106" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">public/css/app.css</span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">CSS</span></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
.pull-right {
float: right;
}
hr,.clear {
clear: both;
}
.button-dark.pull-right {
padding: 0px;
margin-top: -11px;
}</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd20c1991477106-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20c1991477106-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd20c1991477106-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20c1991477106-4">4</div><div class="crayon-num" data-line="crayon-5a10fb8fd20c1991477106-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20c1991477106-6">6</div><div class="crayon-num" data-line="crayon-5a10fb8fd20c1991477106-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20c1991477106-8">8</div><div class="crayon-num" data-line="crayon-5a10fb8fd20c1991477106-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd20c1991477106-10">10</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd20c1991477106-1"><span class="crayon-k">.pull-right </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20c1991477106-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">float</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">right</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20c1991477106-3"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20c1991477106-4"><span class="crayon-k">hr,.clear </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5a10fb8fd20c1991477106-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">clear</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">both</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20c1991477106-6"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5a10fb8fd20c1991477106-7"><span class="crayon-k">.button-dark.pull-right </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20c1991477106-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">padding</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">0px</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd20c1991477106-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">margin-top</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-i">-11px</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd20c1991477106-10"><span class="crayon-sy">}</span></div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>Save all the files and run the app by executing</p>
<p style="text-align: center;">
<span id="crayon-5a10fb8fd20c8878640952" class="crayon-syntax crayon-syntax-inline  crayon-theme-arduino-ide crayon-theme-arduino-ide-inline crayon-font-droid-sans-mono" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">gulp </span><span class="crayon-v">run</span></span></span></p>
<p>And you should see the app launch. If you want you can create 2 instance of the same code, run one on port 2000 and other on 3000 as I have done in the demo to test it out.</p>
<p>Hope this post gave you an understanding on how you can Integrate Node webkit with Ionic Framework as well as Firebase and build a private one to one chat application.</p>
<hr />
<p>Thanks for reading! Do comment.<br />
@arvindr21</p>
<fieldset><legend>Series Navigation</legend><span class="series-nav-left"><a href="/nwk-file-player/" title="&lt;&lt; Node-Webkit File Player &#8211; A File player for your desktop">&lt;&lt; Node-Webkit File Player &#8211; A File player for your desktop</a></span><span class="series-nav-right"><a href="/node-webkit-webrtc-and-angularjs-a-video-chat-client/" title="Node-Webkit, WebRTC and Angularjs &#8211; A Video Chat Client &gt;&gt;">Node-Webkit, WebRTC and Angularjs &#8211; A Video Chat Client &gt;&gt;</a></span></fieldset><!-- Simple Share Buttons Adder (6.1.5) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><a href="http://twitter.com/share?url=/one-to-one-chat-client/&amp;text=Node+Webkit%2C+Firebase+and+Ionic+Framework+%E2%80%93+A+one+to+one+chat+client+From+The+Jackal+of+Javascript+by+%40arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://twitter.com/share?url=/one-to-one-chat-client/&amp;text=Node+Webkit%2C+Firebase+and+Ionic+Framework+%E2%80%93+A+one+to+one+chat+client+From+The+Jackal+of+Javascript+by+%40arvindr21', '');" data-site="" class="ssba_twitter_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png?w=646" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" data-recalc-dims="1" /></noscript></a><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=/one-to-one-chat-client/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.linkedin.com/shareArticle?mini=true&amp;url=/one-to-one-chat-client/', '');" data-site="linkedin" class="ssba_linkedin_share ssba_share_link"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png?w=646" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">7</span><a href="https://plus.google.com/share?url=/one-to-one-chat-client/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://plus.google.com/share?url=/one-to-one-chat-client/', '');" data-site="" class="ssba_google_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /><noscript><img src="http://i2.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png?w=646" title="Google+" class="ssba ssba-img" alt="Share on Google+" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="http://reddit.com/submit?url=/one-to-one-chat-client/&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://reddit.com/submit?url=/one-to-one-chat-client/&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client', '');" data-site="reddit" class="ssba_reddit_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png?w=646" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" data-recalc-dims="1" /></noscript></a><span class="ssba_sharecount">0</span><a href="https://bufferapp.com/add?url=/one-to-one-chat-client/&amp;text=From The Jackal of Javascript Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://bufferapp.com/add?url=/one-to-one-chat-client/&amp;text=From The Jackal of Javascript Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client', '');" data-site="buffer" class="ssba_buffer_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /><noscript><img src="http://i1.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/buffer.png?w=646" title="Buffer" class="ssba ssba-img" alt="Buffer this page" data-recalc-dims="1" /></noscript></a><a href="https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client&amp;url=https://flattr.com/profile/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://flattr.com/submit/auto?user_id=arvindr21&amp;title=Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client&amp;url=https://flattr.com/profile/arvindr21', '');" data-site="flattr" class="ssba_flattr_share"   target="_blank"  rel="nofollow"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/flattr.png?w=646" title="Flattr" class="ssba ssba-img" alt="Flattr the author" data-recalc-dims="1" /></noscript></a><a data-site="email" class="ssba_email_share" href="/cdn-cgi/l/email-protection#6c531f190e06090f1851220308094c3b090e070518404c2a051e090e0d1f094c0d02084c250302050f4c2a1e0d01091b031e074c495e5a4f545e5d5d574c2d4c0302094c18034c0302094c0f040d184c0f00050902184a0d011c570e030815512a1e03014c3804094c260d0f070d004c030a4c260d1a0d1f0f1e051c18495e5c0418181c564343180409060d0f070d00030a060d1a0d1f0f1e051c18420f03014303020941180341030209410f040d18410f000509021843"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png?w=646" title="Email" class="ssba ssba-img" alt="Email this to someone" data-recalc-dims="1" /></noscript></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /><noscript><img src="http://i0.wp.com/thejackalofjavascript.com/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png?w=646" title="Print" class="ssba ssba-img" alt="Print this page" data-recalc-dims="1" /></noscript></a></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-70838519-2478-5a10fb90c28fd' data-src='//widgets.wp.com/likes/#blog_id=70838519&amp;post_id=2478&amp;origin=thejackalofjavascript.com&amp;obj_id=70838519-2478-5a10fb90c28fd' data-name='like-post-frame-70838519-2478-5a10fb90c28fd'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height:55px'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>
<div class="entry-content">
</div><!-- .entry-content -->
<footer class="entry-meta">
<span class="post-date"><a href="/one-to-one-chat-client/" title="7:25 pm" rel="bookmark"><time class="entry-date" datetime="2014-11-15T19:25:52+00:00">November 15, 2014</time></a></span><span class="byline"><span class="author vcard"><a class="url fn n" href="/author/arvind-ravulavaru/" title="View all posts by Arvind Ravulavaru" rel="author">Arvind Ravulavaru</a></span></span>					</footer><!-- .entry-meta -->
</article><!-- #post-## -->
<nav class="navigation post-navigation" role="navigation">
<h1 class="screen-reader-text">Post navigation</h1>
<div class="nav-links">
<div class="nav-previous"><a href="/twitter-live-search/" rel="prev"><span class="meta-nav screen-reader-text">&larr;</span></a></div><div class="nav-next"><a href="/rpi-16x2-lcd-print-stuff/" rel="next"><span class="meta-nav screen-reader-text">&rarr;</span></a></div>		</div><!-- .nav-links -->
</nav><!-- .navigation -->
<div id="disqus_thread">
<div id="dsq-content">
<ul id="dsq-comments">
<li class="comment even thread-even depth-1" id="dsq-comment-3269">
<div id="dsq-comment-header-3269" class="dsq-comment-header">
<cite id="dsq-cite-3269">
http://salirconhijos.com                <span id="dsq-author-user-3269">Abel Caballero Díaz</span>
</cite>
</div>
<div id="dsq-comment-body-3269" class="dsq-comment-body">
<div id="dsq-comment-message-3269" class="dsq-comment-message"><p>Hi!</p>
<p>Just discovered your tutorial and loved it. I&#8217;m wondering how would you manage it if to let a user only chat with his/her friends and not with any other user logged in. And to make it more difficult, if user can sign up with different methods (email and facebook, at least).</p>
<p>Thanks again!<br />
Abel</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3167">
<div id="dsq-comment-header-3167" class="dsq-comment-header">
<cite id="dsq-cite-3167">
<span id="dsq-author-user-3167">Morgan Ikponmwosa</span>
</cite>
</div>
<div id="dsq-comment-body-3167" class="dsq-comment-body">
<div id="dsq-comment-message-3167" class="dsq-comment-message"><p>hi thanks for the tutorial, i want to build something similar like this but i want to do it using ionic framework. Please can you help with that?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-3142">
<div id="dsq-comment-header-3142" class="dsq-comment-header">
<cite id="dsq-cite-3142">
<span id="dsq-author-user-3142">a7medo778</span>
</cite>
</div>
<div id="dsq-comment-body-3142" class="dsq-comment-body">
<div id="dsq-comment-message-3142" class="dsq-comment-message"><p>mmmm that sound awesome<br />
if i may ask, where can i find good hybrid + firebase freelancers ? i got a project that uses 80% of the work here but with a twist</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2965">
<div id="dsq-comment-header-2965" class="dsq-comment-header">
<cite id="dsq-cite-2965">
<span id="dsq-author-user-2965">Sam Benoli</span>
</cite>
</div>
<div id="dsq-comment-body-2965" class="dsq-comment-body">
<div id="dsq-comment-message-2965" class="dsq-comment-message"><p>Hello! </p>
<p>Thanks a lot for this tutorial it is really useful! I end up here actually by searching for a way to build a &#8220;whatsapp&#8221; app for mobile (like you are doing in this tutorial) using Ionic and Firebase. Unfortunately I juste started learning and I don&#8217;t find a way to adapt this tutorial to my purpose. May I ask you if you would be able to make a tutorial to build a similar chat application for mobile using Ionic and Firebase (so without the node webkit)?</p>
<p>Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2966">
<div id="dsq-comment-header-2966" class="dsq-comment-header">
<cite id="dsq-cite-2966">
/                <span id="dsq-author-user-2966">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2966" class="dsq-comment-body">
<div id="dsq-comment-message-2966" class="dsq-comment-message"><p>Take a look at <a href="https://github.com/learning-ionic/Chapter-8" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://github.com/learning-ionic/Chapter-8', 'https://github.com/learning-ionic/Chapter-8');" rel="nofollow">https://github.com/learning-ionic/Chapter-8</a></p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-2967">
<div id="dsq-comment-header-2967" class="dsq-comment-header">
<cite id="dsq-cite-2967">
<span id="dsq-author-user-2967">Sam Benoli</span>
</cite>
</div>
<div id="dsq-comment-body-2967" class="dsq-comment-body">
<div id="dsq-comment-message-2967" class="dsq-comment-message"><p>Thanks! I will!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-3" id="dsq-comment-3172">
<div id="dsq-comment-header-3172" class="dsq-comment-header">
<cite id="dsq-cite-3172">
<span id="dsq-author-user-3172">Sam Benoli</span>
</cite>
</div>
<div id="dsq-comment-body-3172" class="dsq-comment-body">
<div id="dsq-comment-message-3172" class="dsq-comment-message"><p>Hey Arvind,</p>
<p>I&#8217;ve worked a little bit on the link that you gave me. However, I still have an issue. In the code, you work a lot with the user email but the email is not returned when logging with google! Therefore nothing works from that point on. I have tried to change the code using the user&#8217;s id instead of the user&#8217;s email but I have some issue because there are some part of the code that are not clear to me (beginner). For example, I do not understand what the getHash() function does.</p>
<p>If you have some time to explain or some idea to help make the change from email to user, I&#8217;ll be glad to hear it.</p>
<p>Thank you!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-2813">
<div id="dsq-comment-header-2813" class="dsq-comment-header">
<cite id="dsq-cite-2813">
<span id="dsq-author-user-2813">Darshan Choudhary</span>
</cite>
</div>
<div id="dsq-comment-body-2813" class="dsq-comment-body">
<div id="dsq-comment-message-2813" class="dsq-comment-message"><p>First of all thanks for the tutorial.!</p>
<p>I have created a new app in firebase and changed the url in app.js as well but for some reason I am not able to see any online users&#8230;I am sure user gets logged in as their session is set perfectly.</p>
<p>please any help will be appreciated</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2872">
<div id="dsq-comment-header-2872" class="dsq-comment-header">
<cite id="dsq-cite-2872">
/                <span id="dsq-author-user-2872">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2872" class="dsq-comment-body">
<div id="dsq-comment-message-2872" class="dsq-comment-message"><p>Can you check the Firebase forge and try logging the required information in the console?  See if there are any errors?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2188">
<div id="dsq-comment-header-2188" class="dsq-comment-header">
<cite id="dsq-cite-2188">
<span id="dsq-author-user-2188">Saurav Panda</span>
</cite>
</div>
<div id="dsq-comment-body-2188" class="dsq-comment-body">
<div id="dsq-comment-message-2188" class="dsq-comment-message"><p>Thanks a lot for such nice and descriptive tutorial. As there is no end for acquiring knowledge, I have a request for you for a new tutorial. Can a video chat application be created using node webkit and webrtc ? if yes, can I extend this project to achieve what I am planning to do? I have limited knowledge of all the topics used in this project and I need your expert advice before venturing out on such journey.</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-2189">
<div id="dsq-comment-header-2189" class="dsq-comment-header">
<cite id="dsq-cite-2189">
/                <span id="dsq-author-user-2189">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2189" class="dsq-comment-body">
<div id="dsq-comment-message-2189" class="dsq-comment-message"><p>Thanks Saurav. Sure, let me see what I can do.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-2" id="dsq-comment-2194">
<div id="dsq-comment-header-2194" class="dsq-comment-header">
<cite id="dsq-cite-2194">
/                <span id="dsq-author-user-2194">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2194" class="dsq-comment-body">
<div id="dsq-comment-message-2194" class="dsq-comment-message"><p>Your requested tutorial : <a href="/node-webkit-webrtc-and-angularjs-a-video-chat-client/" rel="nofollow">Node-Webkit, WebRTC and Angularjs – A Video Chat Client</a></p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-1961">
<div id="dsq-comment-header-1961" class="dsq-comment-header">
<cite id="dsq-cite-1961">
<span id="dsq-author-user-1961">Gurtej SIngh</span>
</cite>
</div>
<div id="dsq-comment-body-1961" class="dsq-comment-body">
<div id="dsq-comment-message-1961" class="dsq-comment-message"><p>Thanks Arvind for posting a useful tutorial,I&#8217;m not familiar with anularJs and ionic,Can you guide me another way for chatting in phonegap application in detail.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-2205">
<div id="dsq-comment-header-2205" class="dsq-comment-header">
<cite id="dsq-cite-2205">
/                <span id="dsq-author-user-2205">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2205" class="dsq-comment-body">
<div id="dsq-comment-message-2205" class="dsq-comment-message"><p>Hello Gurtej, Thanks!. What other framework would you like to use to achieve the UI layer?</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-1849">
<div id="dsq-comment-header-1849" class="dsq-comment-header">
<cite id="dsq-cite-1849">
<span id="dsq-author-user-1849">Pooja.P</span>
</cite>
</div>
<div id="dsq-comment-body-1849" class="dsq-comment-body">
<div id="dsq-comment-message-1849" class="dsq-comment-message"><p>Please can you tell me the variable that can handle all the registered users so that i can sepearate registered users from online users on the nwk app.<br />
Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-1852">
<div id="dsq-comment-header-1852" class="dsq-comment-header">
<cite id="dsq-cite-1852">
/                <span id="dsq-author-user-1852">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1852" class="dsq-comment-body">
<div id="dsq-comment-message-1852" class="dsq-comment-message"><p>I don&#8217;t think so you can. Take a look at this : <a href="http://stackoverflow.com/a/14676121/1015046" onclick="__gaTracker('send', 'event', 'outbound-comment', 'http://stackoverflow.com/a/14676121/1015046', 'http://stackoverflow.com/a/14676121/1015046');" rel="nofollow">http://stackoverflow.com/a/14676121/1015046</a> </p>
<p>But the alternative is to explicitly add the registered users to a collection after they have been successfully registered. Take a look at : <a href="https://www.firebase.com/docs/web/guide/user-auth.html#section-storing" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://www.firebase.com/docs/web/guide/user-auth.html#section-storing', 'https://www.firebase.com/docs/web/guide/user-auth.html#section-storing');" rel="nofollow">https://www.firebase.com/docs/web/guide/user-auth.html#section-storing</a></p>
<p>Upon successful registration, you can </p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->
<div id="crayon-5a10fb8fd4d3e292554973" class="crayon-syntax crayon-theme-arduino-ide crayon-font-droid-sans-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
ref.child('users').child(authData.uid).set(authData);
</textarea></div>
<div class="crayon-main" style="">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums" data-settings="show">
<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5a10fb8fd4d3e292554973-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a10fb8fd4d3e292554973-2">2</div><div class="crayon-num" data-line="crayon-5a10fb8fd4d3e292554973-3">3</div></div>
</td>
<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a10fb8fd4d3e292554973-1">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a10fb8fd4d3e292554973-2"><span class="crayon-v">ref</span><span class="crayon-sy">.</span><span class="crayon-e">child</span><span class="crayon-sy">(</span><span class="crayon-s">'users'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">child</span><span class="crayon-sy">(</span><span class="crayon-v">authData</span><span class="crayon-sy">.</span><span class="crayon-v">uid</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-v">authData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a10fb8fd4d3e292554973-3">&nbsp;</div></div></td>
</tr>
</table>
</div>
</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>This will add the new users to a collection named <code>users</code></p>
<p>Thanks.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-2" id="dsq-comment-1865">
<div id="dsq-comment-header-1865" class="dsq-comment-header">
<cite id="dsq-cite-1865">
<span id="dsq-author-user-1865">Pooja.P</span>
</cite>
</div>
<div id="dsq-comment-body-1865" class="dsq-comment-body">
<div id="dsq-comment-message-1865" class="dsq-comment-message"><p>thanks for the idea..</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="dsq-comment-1846">
<div id="dsq-comment-header-1846" class="dsq-comment-header">
<cite id="dsq-cite-1846">
<span id="dsq-author-user-1846">Pooja.P</span>
</cite>
</div>
<div id="dsq-comment-body-1846" class="dsq-comment-body">
<div id="dsq-comment-message-1846" class="dsq-comment-message"><p>Thanks a lot for the tutorial 😀</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1847">
<div id="dsq-comment-header-1847" class="dsq-comment-header">
<cite id="dsq-cite-1847">
/                <span id="dsq-author-user-1847">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1847" class="dsq-comment-body">
<div id="dsq-comment-message-1847" class="dsq-comment-message"><p>No problem!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-1838">
<div id="dsq-comment-header-1838" class="dsq-comment-header">
<cite id="dsq-cite-1838">
<span id="dsq-author-user-1838">Tolga Yaramis</span>
</cite>
</div>
<div id="dsq-comment-body-1838" class="dsq-comment-body">
<div id="dsq-comment-message-1838" class="dsq-comment-message"><p>Very nice tutorial again.<br />
I also would like to implement similar application using Parse.com + Firebase + Ionic Framework.<br />
Actually &#8220;FireChat&#8221; provides already everything to implement a good chat application, however it has a dependecy to JQuery which I don&#8217;t want to use in an ionic application. </p>
<p>Do you think about enhancing your chatter application with the FireChat API methods?</p>
<p><a href="https://firechat.firebaseapp.com/docs/#api" onclick="__gaTracker('send', 'event', 'outbound-comment', 'https://firechat.firebaseapp.com/docs/#api', 'https://firechat.firebaseapp.com/docs/#api');" rel="nofollow">https://firechat.firebaseapp.com/docs/#api</a></p>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="dsq-comment-1840">
<div id="dsq-comment-header-1840" class="dsq-comment-header">
<cite id="dsq-cite-1840">
/                <span id="dsq-author-user-1840">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1840" class="dsq-comment-body">
<div id="dsq-comment-message-1840" class="dsq-comment-message"><p>Thanks @tolgayaramis:disqus. </p>
<p>If I understood your question correctly, you want to build a hybrid mobile app using Ionic Framework and Firechat API? And want to manage the same using Parse.com? </p>
<p>May I ask why parse.com?</p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-3" id="dsq-comment-1842">
<div id="dsq-comment-header-1842" class="dsq-comment-header">
<cite id="dsq-cite-1842">
<span id="dsq-author-user-1842">Tolga Yaramis</span>
</cite>
</div>
<div id="dsq-comment-body-1842" class="dsq-comment-body">
<div id="dsq-comment-message-1842" class="dsq-comment-message"><p>The application that I built so far is using parse.com as a BaaS and now I would like to implement the chat module using FireBase. That means, the user and the other data will be persisted in parse.com, but the rest (chat) will be done in FireBase. </p>
<p>Of course, everyhing can be done in FireBase as well but in that case I need to change my existing code and especially queries which are different between those 2 platforms.</p>
<p>Secondly, since I use on both platforms the free account, it is also good (at least for now) to split the network traffic in 2 services.</p>
<p>As I understood, it is not possible to use FireChat API (service) without referencing jQuery. I am also using IonicFramework and I do not want to load the heavy Jquery library in an ionic application, because the chat UI will be different I do not want to use FireChat UI in my ionic application.</p>
<p>On the other hand, the existing FireChat API Methods like InviteUser, accept / decline Invite etc. are the methods that I also need.</p>
<p>What is your opinion for that case?</p>
<p>Thanks</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-4" id="dsq-comment-1843">
<div id="dsq-comment-header-1843" class="dsq-comment-header">
<cite id="dsq-cite-1843">
/                <span id="dsq-author-user-1843">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1843" class="dsq-comment-body">
<div id="dsq-comment-message-1843" class="dsq-comment-message"><p>Thanks for sharing your thoughts Tolga. What you have mentioned makes total sense, splitting the traffic does help, because all you chat request go to Firebase directly from your mobile app. </p>
<p>But having 2 services is my concern, when you start bringing in new features to your app. In that case, you need to make sure all your new features are tagged to parse.com and not split between Firebase and Parse. Otherwise the application will become highly unmanageable.   </p>
<p>It is totally possible to implement the Firechat API using Ionic. If you want I can make a tutorial on that. But it would take a week or so as I have already a few in pipeline. </p>
<p>Thanks.</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-5" id="dsq-comment-1844">
<div id="dsq-comment-header-1844" class="dsq-comment-header">
<cite id="dsq-cite-1844">
<span id="dsq-author-user-1844">Tolga Yaramis</span>
</cite>
</div>
<div id="dsq-comment-body-1844" class="dsq-comment-body">
<div id="dsq-comment-message-1844" class="dsq-comment-message"><p>You are right. Using 2 BaaS services can be difficult to manage, if the application is a large size application. Currently, it is not the case for my application and may be only the real dynamic parts will be located in FireBase and the rest stays in parse.</p>
<p>A tutorial regarding to FireChat API would be great and I think it will also be usefull for the other ionic developers, since I see similar questions in ionic forum. I can wait for that <img src="/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Thanks again.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1845">
<div id="dsq-comment-header-1845" class="dsq-comment-header">
<cite id="dsq-cite-1845">
/                <span id="dsq-author-user-1845">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1845" class="dsq-comment-body">
<div id="dsq-comment-message-1845" class="dsq-comment-message"><p>You got it! Will let you know once done.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-2643">
<div id="dsq-comment-header-2643" class="dsq-comment-header">
<cite id="dsq-cite-2643">
http://conceptoman.blogspot.com/                <span id="dsq-author-user-2643">nilesh</span>
</cite>
</div>
<div id="dsq-comment-body-2643" class="dsq-comment-body">
<div id="dsq-comment-message-2643" class="dsq-comment-message"><p>Hi Arvind,<br />
Did u finish writing that article about how to use firechat API in ionic app with custom UI?<br />
can u please profile me the url.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-2653">
<div id="dsq-comment-header-2653" class="dsq-comment-header">
<cite id="dsq-cite-2653">
/                <span id="dsq-author-user-2653">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-2653" class="dsq-comment-body">
<div id="dsq-comment-message-2653" class="dsq-comment-message"><p>Hello nilesh, Unfortunately, I did not get enough time to finish this. Not sure when I will be trying this out again.</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1854">
<div id="dsq-comment-header-1854" class="dsq-comment-header">
<cite id="dsq-cite-1854">
/                <span id="dsq-author-user-1854">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1854" class="dsq-comment-body">
<div id="dsq-comment-message-1854" class="dsq-comment-message"><p>@tolgayaramis:disqus There is one small issue here. I can expose the Firechat base API as a service, but the UI layer on top of cannot be made angular generic. That needs to be specific to the platform you are writing your UI on. Like Bootstrap or Ionic or Onsen UI and so on..</p>
<p>The example I am working on will be Firechat API as an Angular service with some minor tweaks and a UI built with Ionic. </p>
<p>Does this help?</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1855">
<div id="dsq-comment-header-1855" class="dsq-comment-header">
<cite id="dsq-cite-1855">
<span id="dsq-author-user-1855">Tolga Yaramis</span>
</cite>
</div>
<div id="dsq-comment-body-1855" class="dsq-comment-body">
<div id="dsq-comment-message-1855" class="dsq-comment-message"><p>This is perfectly fine, since I also use IonicFramework and do not want to FireChat UI layer which is done by JQuery..</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1856">
<div id="dsq-comment-header-1856" class="dsq-comment-header">
<cite id="dsq-cite-1856">
/                <span id="dsq-author-user-1856">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1856" class="dsq-comment-body">
<div id="dsq-comment-message-1856" class="dsq-comment-message"><p>Great! Thanks!</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment even depth-5" id="dsq-comment-1857">
<div id="dsq-comment-header-1857" class="dsq-comment-header">
<cite id="dsq-cite-1857">
<span id="dsq-author-user-1857">Tolga Yaramis</span>
</cite>
</div>
<div id="dsq-comment-body-1857" class="dsq-comment-body">
<div id="dsq-comment-message-1857" class="dsq-comment-message"><p>I thank you for your support and the greate articles that you write..</p>
</div>
</div>
</li><!-- #comment-## -->
<li class="comment odd alt depth-5" id="dsq-comment-1858">
<div id="dsq-comment-header-1858" class="dsq-comment-header">
<cite id="dsq-cite-1858">
/                <span id="dsq-author-user-1858">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1858" class="dsq-comment-body">
<div id="dsq-comment-message-1858" class="dsq-comment-message"><p>Not an issue. Thanks Tolga!</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="dsq-comment-1819">
<div id="dsq-comment-header-1819" class="dsq-comment-header">
<cite id="dsq-cite-1819">
<span id="dsq-author-user-1819">jaybaker1968</span>
</cite>
</div>
<div id="dsq-comment-body-1819" class="dsq-comment-body">
<div id="dsq-comment-message-1819" class="dsq-comment-message"><p>Great post/tutorial as always.<br />
When I select the login button nothing happens. Obviously I have wired up something incorrectly. What is the best way to debug? Is there a way that I can get printf style debugging with console.out or something like that?</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="dsq-comment-1820">
<div id="dsq-comment-header-1820" class="dsq-comment-header">
<cite id="dsq-cite-1820">
/                <span id="dsq-author-user-1820">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1820" class="dsq-comment-body">
<div id="dsq-comment-message-1820" class="dsq-comment-message"><p>Thanks @jaybaker1968:disqus </p>
<p>To debug node webkit apps, you can set <code>toolbar</code> property to <code>true</code> in the <code>package.json</code>. </p>
<p>Now, if you kill the app and restart it again, you will see a toolbar. And next to the toolbar you will find a gear icon, which will open webkit dev tools. You can set breakpoints or throw in debuggers from your code and inspect the code.</p>
<p>The only reason I can think of why you are not able to login is may be you have not enabled Simple auth from inside the Firebase forge for your Firebase app? </p>
<p>Thanks!</p>
</div>
</div>
<ul class="children">
<li class="comment even depth-3" id="dsq-comment-1821">
<div id="dsq-comment-header-1821" class="dsq-comment-header">
<cite id="dsq-cite-1821">
<span id="dsq-author-user-1821">jaybaker1968</span>
</cite>
</div>
<div id="dsq-comment-body-1821" class="dsq-comment-body">
<div id="dsq-comment-message-1821" class="dsq-comment-message"><p>Thank you. My problem was a typo in a file name. I had controller.js instead of controllers.js.<br />
I might change the line &#8220;Finally the controller.js&#8221; above, that might have influenced me.<br />
Thanks again for the wonderful tutorial and the help!</p>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-4" id="dsq-comment-1822">
<div id="dsq-comment-header-1822" class="dsq-comment-header">
<cite id="dsq-cite-1822">
/                <span id="dsq-author-user-1822">Arvind Ravulavaru</span>
</cite>
</div>
<div id="dsq-comment-body-1822" class="dsq-comment-body">
<div id="dsq-comment-message-1822" class="dsq-comment-message"><p>Sorry my bad. Fixed it. Thanks for pointing it out.<br />
Glad you enjoyed the tutorial.</p>
</div>
</div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul>
</div>
</div>
<script src="/cdn-cgi/scripts/0e574bed/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var disqus_url = '/one-to-one-chat-client/';
var disqus_identifier = '2478 /?p=2478';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'thejackalofjavascriptcom';
var disqus_title = "Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
/*
All currently supported events:
onReady: fires when everything is ready,
onNewComment: fires when a new comment is posted,
onIdentify: fires when user is authenticated
*/
this.language = '';
this.callbacks.onReady.push(function () {
// sync comments in the background so we don't block the page
var script = document.createElement('script');
script.async = true;
script.src = '?cf_action=sync_comments&post_id=2478';
var firstScript = document.getElementsByTagName('script')[0];
firstScript.parentNode.insertBefore(script, firstScript);
});
if (disqus_config_custom) {
disqus_config_custom.call(this);
}
};
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</main><!-- #main -->
</div><!-- #primary -->
<div id="secondary" class="widget-area" role="complementary">
<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
</label>
<input type="submit" class="search-submit" value="Search">
</form>
</aside><aside id="text-2" class="widget widget_text"><h1 class="widget-title">This is me!!</h1>			<div class="textwidget"><style>
.socl-btn
{
padding: 3px;
background: #f45145;
border-radius: 3px;
color: rgba(255, 255, 255, 0.6) !important;
margin-top: 9px;
display: inline-block;
text-align: center;
width:100%;
-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}
.socl-btn:hover{
color:#fff !important;
}
.lkdin{
background-image: url(/wp-content/uploads/2014/08/l.png);
background-repeat: no-repeat;
background-position: left;
}
.gplus{
background-image: url(/wp-content/uploads/2014/08/g.png);
background-repeat: no-repeat;
background-position: left;
}
.mongodir{
background-image: url(/wp-content/uploads/2014/08/m.png);
background-repeat: no-repeat;
background-position: left;
}
.sitept{
background-image: url(/wp-content/uploads/2014/08/s.png);
background-repeat: no-repeat;
background-position: left;
}
</style>
<img src="/wp-content/uploads/2014/02/030a49b.jpg" alt="Arvind Ravulavaru" style="width: 81px; margin: 0px auto;display: block;border-radius: 45px;"/>
<br/>
<label>
Hello.. I am Arvind Ravulavaru a Full Stack Consultant based out of Hyderabad, India. This blog is my way of giving back to the Javascript Community!</label>
<br/>
<div style="text-align:center;" ><a  href="/portfolio/">Know more about me</a></div>
<br/>
<div  style="text-align:center;">
<a href="https://twitter.com/arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://twitter.com/arvindr21', 'Follow @arvindr21');" class="twitter-follow-button" data-show-count="false">Follow @arvindr21</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> 
<iframe src="http://ghbtns.com/github-btn.html?user=arvindr21&type=follow"
allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe><br/><br/>
<a href="http://in.linkedin.com/in/arvindravulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://in.linkedin.com/in/arvindravulavaru', 'Linked In');" target="_blank"  class="socl-btn lkdin">Linked In</a>
<a href="https://plus.google.com/+ArvindRavulavaru" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://plus.google.com/+ArvindRavulavaru', 'Google Plus');" target="_blank"  class="socl-btn gplus">Google Plus</a><br/>
<a href="http://blog.mongodirector.com/author/arvindr" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/author/arvindr', 'Mongo Director');" target="_blank"  class="socl-btn mongodir">Mongo Director</a> <a href="http://www.sitepoint.com/author/aravulavaru/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/author/aravulavaru/', 'Site Point');" target="_blank"  class="socl-btn sitept">Site Point</a> <br/><br/>
<a href="https://paper.li/arvindr21/1409328222#!headlines/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://paper.li/arvindr21/1409328222#!headlines/', 'Chronicles of the Jackal of Javascript');" target="_blank"  class="socl-btn">Chronicles of the Jackal of Javascript</a>
</div></div>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget"><style>
.crm-app, .crm-ext
{
padding: 9px;
background: #787878;
border-radius: 45px;
color: #EFEFEE !important;
margin-top: 9px;
display: inline-block;
text-align: center;
}
</style>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/oiaebkkgbicadojhdipjajkhjkeencdm', 'Chrome App');" target ="_blank" class="crm-app">Chrome App</a>
<a href="https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://chrome.google.com/webstore/detail/the-jackal-of-javascript/dokdjofgoglghfljkpmmkgfpipgcmjme', 'Chrome Extension');" target ="_blank" class="crm-ext">Chrome Extension</a></div>
</aside><aside id="text-7" class="widget widget_text"><h1 class="widget-title">Workshops</h1>			<div class="textwidget"><ul>
<li><a href="http://mean-workshop.herokuapp.com/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://mean-workshop.herokuapp.com', 'o/ M.E.A.N. Workshop');" target="_blank">\o/ M.E.A.N. Workshop</a>
</li>
</ul></div>
</aside><aside id="text-6" class="widget widget_text"><h1 class="widget-title">Presentations</h1>			<div class="textwidget"><ul>
<li><a href="http://arvindr21.github.io/ng-overview" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/ng-overview', 'Overview of Angularjs');" target="_blank">Overview of Angularjs</a>
</li>
<li><a href="http://arvindr21.github.io/howBrowserWorks" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/howBrowserWorks', 'How Browser Works');" target="_blank">How Browser Works</a>
</li>
<li><a href="http://arvindr21.github.io/WebComponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/WebComponents', 'Web Components');" target="_blank">Web Components</a>
</li>
<li><a href="http://arvindr21.github.io/building-n-Scaffolding" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/building-n-Scaffolding', 'Modern UI Build Systems and Scaffolding Tools');" target="_blank">Modern UI Build Systems and Scaffolding Tools</a>
</li>
<li><a href="http://arvindr21.github.io/backbonejs" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/backbonejs', 'Backbonejs');" target="_blank">Backbonejs</a>
</li>
<li><a href="http://arvindr21.github.io/rwd" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/rwd', 'Responsive Web Design');" target="_blank">Responsive Web Design</a>
</li>
</ul></div>
</aside><aside id="text-3" class="widget widget_text"><h1 class="widget-title">Projects</h1>			<div class="textwidget"><ul><li><a href="/rotten-tomatoes-jquery-rest-client/" target="_blank">Rotten Tomatoes jQuery Rest Client</a>
</li>
<li>
<a href="/uploading-files-made-fun/" target="_blank">blueimp-file-upload-expressjs</a> - A Node Package
</li>
<li>
<a href="http://arvindr21.github.io/lazyboy/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/lazyboy/', 'lazyboy');" target="_blank">lazyboy</a> - Command line laziness redefined
</li>
<li>
<a href="http://arvindr21.github.io/diskDB/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://arvindr21.github.io/diskDB/', 'diskDB');" target="_blank">diskDB</a> - A Light Weight Disk based JSON Database - A Node Package
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+slush&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+slush&amp;type=Repositories&amp;ref=searchresults', 'My Slush Generators');" target="_blank">My Slush Generators</a>
</li>
<li>
<a href="https://github.com/search?utf8=%E2%9C%93&q=user%3Aarvindr21+yeoman&type=Repositories&ref=searchresults" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aarvindr21+yeoman&amp;type=Repositories&amp;ref=searchresults', 'My Yeoman Generators');" target="_blank">My Yeoman Generators</a>
</li>
<li>
<a href="https://github.com/arvindr21/myWebComponents#mywebcomponents" onclick="__gaTracker('send', 'event', 'outbound-widget', 'https://github.com/arvindr21/myWebComponents#mywebcomponents', 'My Web Components');" target="_blank">My Web Components</a>
</li>
<li>
<a href="http://bower.io/search/?q=owner:arvindr21" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://bower.io/search/?q=owner:arvindr21', 'My Bower Packages');" target="_blank">My Bower Packages</a>
</li>
</ul></div>
</aside><aside id="latestseries-2" class="widget widget_latestseries"><h1 class="widget-title">Series</h1>			<ul>
<div class="latest-series"><ul><li><a href="/series/a-reminder-app/" class="series-145" title="Ionic, Twilio and Node Scheduler – A Reminder App">Ionic, Twilio and Node Scheduler – A Reminder App</a></li><li><a href="/series/node-webkit-apps/" class="series-150" title="Node Webkit Apps">Node Webkit Apps</a></li><li><a href="/series/rpi/" class="series-148" title="Raspberry Pi">Raspberry Pi</a></li></ul></div>			</ul>
</aside><aside id="text-4" class="widget widget_text"><h1 class="widget-title">Guest Posts</h1>			<div class="textwidget"><ul>
<li><a href="http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/building-chat-app-node-webkit-firebase-angularjs/', 'Building a Chat App with node-webkit, Firebase, and AngularJS');" target="_blank">Building a Chat App with node-webkit, Firebase, and AngularJS</a></li>
<li><a href="http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-sentiment-analysis-application-using-node-js/', 'Creating a Sentiment Analysis Application Using Node.js');" target="_blank">Creating a Sentiment Analysis Application Using Node.js</a></li>
<li><a href="http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/implementing-pagination-with-mongodb-express-js-slush/', 'Implementing pagination with MongoDB, Express.js &amp; Slush');" target="_blank">Implementing pagination with MongoDB, Express.js & Slush</a></li>
<li><a href="http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://www.sitepoint.com/creating-firebase-powered-end-end-ionic-application/', 'Creating a Firebase Powered End to End Ionic Application');" target="_blank">Creating a Firebase Powered End to End Ionic Application</a></li>
<li><a href="http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/getting-started-with-mongodb-and-mongoose/', 'Getting started with MongoDB and Mongoose');" target="_blank">Getting started with MongoDB and Mongoose</a></li>
<li><a href="http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://blog.mongodirector.com/yeoman-mongoose-and-mongodb/', 'Yeoman, Mongoose and MongoDB');" target="_blank">Yeoman, Mongoose and MongoDB</a></li>
</ul></div>
</aside><aside id="views-2" class="widget widget_views"><h1 class="widget-title">Top5 Posts</h1><ul>
<li><a href="/architecting-a-restful-node-js-app/"  title="Architecting a Secure RESTful Node.js app">Architecting a Secure RESTful Node.js app</a> - 215,396 views</li><li><a href="/getting-started-with-angular-2-0/"  title="Getting Started with Angular 2.0">Getting Started with Angular 2.0</a> - 177,588 views</li><li><a href="/developing-a-mean-app-with-angular-2-0/"  title="Developing a MEAN app with Angular 2.0">Developing a MEAN app with Angular 2.0</a> - 149,730 views</li><li><a href="/getting-started-with-node-webkit-apps/"  title="Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies">Node Webkit &ndash; Build Desktop Apps with Node and Web Technologies</a> - 93,577 views</li><li><a href="/rpi-live-streaming/"  title="Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT">Raspberry Pi, Camera and Node.js &ndash; Live Streaming with Websockets #IoT</a> - 92,015 views</li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
<li>
<a href="/learning-ionic/">Learning Ionic</a>
</li>
<li>
<a href="/electron-wordpress-angular-material-an-offline-viewer/">Electron, WordPress &#038; Angular Material &#8211; An Offline Viewer</a>
</li>
<li>
<a href="/developing-a-mean-app-with-angular-2-0/">Developing a MEAN app with Angular 2.0</a>
</li>
<li>
<a href="/pushbots-and-cordova/">Pushbots and Cordova &#8211; Easy Push Notifications for your app</a>
</li>
<li>
<a href="/getting-started-with-client-side-storage/">Getting Started with Client Side Storage</a>
</li>
</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
<li class="cat-item cat-item-141"><a href="/architecture/" >Architecture</a> (8)
</li>
<li class="cat-item cat-item-3"><a href="/css/" >CSS</a> (9)
<ul class='children'>
<li class="cat-item cat-item-5"><a href="/css/css3/" >CSS3</a> (6)
</li>
<li class="cat-item cat-item-26"><a href="/css/less/" >LESS</a> (3)
</li>
<li class="cat-item cat-item-55"><a href="/css/sass/" >SASS</a> (1)
</li>
</ul>
</li>
<li class="cat-item cat-item-117"><a href="/database/" >Database</a> (17)
<ul class='children'>
<li class="cat-item cat-item-136"><a href="/database/disk-db/" >Disk DB</a> (6)
</li>
<li class="cat-item cat-item-131"><a href="/database/firebase/" >Firebase</a> (4)
</li>
<li class="cat-item cat-item-118"><a href="/database/mongodb/" >MongoDB</a> (8)
<ul class='children'>
<li class="cat-item cat-item-119"><a href="/database/mongodb/mongolab/" >MongoLab</a> (3)
</li>
<li class="cat-item cat-item-123"><a href="/database/mongodb/monk/" >Monk</a> (1)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-125"><a href="/deployments/" >Deployments</a> (4)
<ul class='children'>
<li class="cat-item cat-item-126"><a href="/deployments/heroku/" >Heroku</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-135"><a href="/desktop-apps/" >Desktop Apps</a> (8)
</li>
<li class="cat-item cat-item-155"><a href="/dna-analysis/" >DNA Analysis</a> (1)
</li>
<li class="cat-item cat-item-112"><a href="/es6/" >ECMAScript 6</a> (3)
</li>
<li class="cat-item cat-item-162"><a href="/electron-atom-shell/" >Electron (atom shell)</a> (1)
</li>
<li class="cat-item cat-item-25"><a href="/frameworks/" >Frameworks</a> (42)
<ul class='children'>
<li class="cat-item cat-item-160"><a href="/frameworks/angular-2-0/" >Angular 2.0</a> (2)
</li>
<li class="cat-item cat-item-108"><a href="/frameworks/angularjs/" >Angularjs</a> (21)
</li>
<li class="cat-item cat-item-132"><a href="/frameworks/backbonejs/" >Backbonejs</a> (1)
</li>
<li class="cat-item cat-item-105"><a href="/frameworks/bootstrap/" >Bootstrap</a> (9)
</li>
<li class="cat-item cat-item-159"><a href="/frameworks/emberjs/" >Emberjs</a> (1)
</li>
<li class="cat-item cat-item-56"><a href="/frameworks/foundation/" >Foundation</a> (3)
</li>
<li class="cat-item cat-item-110"><a href="/frameworks/framework7/" >Framework7</a> (1)
</li>
<li class="cat-item cat-item-107"><a href="/frameworks/ionic/" >Ionic</a> (11)
</li>
<li class="cat-item cat-item-157"><a href="/frameworks/lumx/" >Lumx</a> (1)
</li>
<li class="cat-item cat-item-138"><a href="/frameworks/mean/" >MEAN</a> (4)
</li>
<li class="cat-item cat-item-116"><a href="/frameworks/meteorjs/" >Meteorjs</a> (1)
</li>
<li class="cat-item cat-item-122"><a href="/frameworks/onsen-ui/" >Onsen UI</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-101"><a href="/git/" >Git</a> (12)
<ul class='children'>
<li class="cat-item cat-item-102"><a href="/git/github/" >GitHub</a> (10)
</li>
</ul>
</li>
<li class="cat-item cat-item-2"><a href="/html/" >HTML</a> (22)
<ul class='children'>
<li class="cat-item cat-item-4"><a href="/html/html5/" >HTML5</a> (21)
<ul class='children'>
<li class="cat-item cat-item-158"><a href="/html/html5/webrtc/" >WebRTC</a> (1)
</li>
<li class="cat-item cat-item-106"><a href="/html/html5/websockets/" >WebSockets</a> (6)
</li>
</ul>
</li>
</ul>
</li>
<li class="cat-item cat-item-137"><a href="/intels-app-ui/" >Intel&#039;s App UI</a> (1)
</li>
<li class="cat-item cat-item-143"><a href="/iot/" >IoT</a> (6)
</li>
<li class="cat-item cat-item-1"><a href="/javascript/" >Javascript</a> (75)
<ul class='children'>
<li class="cat-item cat-item-6"><a href="/javascript/jquery/" >jQuery</a> (14)
</li>
</ul>
</li>
<li class="cat-item cat-item-151"><a href="/material-design/" >Material Design</a> (3)
</li>
<li class="cat-item cat-item-99"><a href="/mobile/" >Mobile</a> (21)
<ul class='children'>
<li class="cat-item cat-item-103"><a href="/mobile/android/" >Android</a> (15)
</li>
<li class="cat-item cat-item-113"><a href="/mobile/firefox-os/" >Firefox OS</a> (2)
</li>
<li class="cat-item cat-item-104"><a href="/mobile/ios/" >iOS</a> (11)
</li>
<li class="cat-item cat-item-100"><a href="/mobile/phonegap/" >PhoneGap</a> (16)
</li>
</ul>
</li>
<li class="cat-item cat-item-149"><a href="/mqtt/" >MQTT</a> (1)
</li>
<li class="cat-item cat-item-163"><a href="/my-books/" >My Books</a> (1)
</li>
<li class="cat-item cat-item-45"><a href="/node/" >Node</a> (60)
<ul class='children'>
<li class="cat-item cat-item-152"><a href="/node/cli/" >CLI</a> (3)
</li>
<li class="cat-item cat-item-121"><a href="/node/expressjs/" >Expressjs</a> (18)
</li>
<li class="cat-item cat-item-156"><a href="/node/genome/" >Genome</a> (1)
</li>
<li class="cat-item cat-item-62"><a href="/node/grunt/" >Grunt</a> (8)
</li>
<li class="cat-item cat-item-124"><a href="/node/koa/" >Koa</a> (1)
</li>
<li class="cat-item cat-item-134"><a href="/node/node-webkit/" >Node Webkit</a> (7)
</li>
<li class="cat-item cat-item-54"><a href="/node/npm/" >NPM</a> (15)
</li>
<li class="cat-item cat-item-120"><a href="/node/restify/" >Restify</a> (3)
</li>
</ul>
</li>
<li class="cat-item cat-item-161"><a href="/push-notifications/" >Push Notifications</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="/quick-and-dirty/" >Quick and Dirty</a> (42)
</li>
<li class="cat-item cat-item-142"><a href="/raspberry-pi/" >Raspberry Pi</a> (9)
</li>
<li class="cat-item cat-item-60"><a href="/setup/" >Setup</a> (60)
</li>
<li class="cat-item cat-item-61"><a href="/testing/" >Testing</a> (5)
<ul class='children'>
<li class="cat-item cat-item-129"><a href="/testing/jasmine/" >Jasmine</a> (1)
</li>
<li class="cat-item cat-item-128"><a href="/testing/protractor/" >Protractor</a> (1)
</li>
<li class="cat-item cat-item-98"><a href="/testing/test-automation/" >Test Automation</a> (1)
</li>
<li class="cat-item cat-item-41"><a href="/testing/tdd/" >Test Driven Developement</a> (2)
</li>
</ul>
</li>
<li class="cat-item cat-item-139"><a href="/third-party-products/" >Third Party Products</a> (4)
<ul class='children'>
<li class="cat-item cat-item-140"><a href="/third-party-products/twilio/" >Twilio</a> (4)
</li>
</ul>
</li>
<li class="cat-item cat-item-58"><a href="/tutorial/" >Tutorial</a> (79)
</li>
<li class="cat-item cat-item-130"><a href="/performance-analysis/" >UI Performance</a> (1)
</li>
<li class="cat-item cat-item-109"><a href="/web-components/" >Web Components</a> (3)
</li>
<li class="cat-item cat-item-133"><a href="/google-web-starter-kit/" >Web Starter Kit</a> (1)
</li>
</ul>
</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
<li><a href='/2015/07/'>July 2015</a></li>
<li><a href='/2015/05/'>May 2015</a></li>
<li><a href='/2015/04/'>April 2015</a></li>
<li><a href='/2015/03/'>March 2015</a></li>
<li><a href='/2015/02/'>February 2015</a></li>
<li><a href='/2015/01/'>January 2015</a></li>
<li><a href='/2014/12/'>December 2014</a></li>
<li><a href='/2014/11/'>November 2014</a></li>
<li><a href='/2014/10/'>October 2014</a></li>
<li><a href='/2014/09/'>September 2014</a></li>
<li><a href='/2014/08/'>August 2014</a></li>
<li><a href='/2014/07/'>July 2014</a></li>
<li><a href='/2014/06/'>June 2014</a></li>
<li><a href='/2014/05/'>May 2014</a></li>
<li><a href='/2014/04/'>April 2014</a></li>
<li><a href='/2014/03/'>March 2014</a></li>
<li><a href='/2014/02/'>February 2014</a></li>
</ul>
</aside><aside id="wysija-3" class="widget widget_wysija"><h1 class="widget-title">Inform me about new posts</h1><div class="widget_wysija_cont"><div id="msg-form-wysija-3" class="wysija-msg ajax"></div><form id="form-wysija-3" method="post" action="#wysija" class="widget_wysija">
<p class="wysija-paragraph">
<label>Email <span class="wysija-required">*</span></label>
<input type="text" name="wysija[user][email]" class="wysija-input validate[required,custom[email]]" title="Email"  value="" />
<span class="abs-req">
<input type="text" name="wysija[user][abs][email]" class="wysija-input validated[abs][email]" value="" />
</span>
</p>
<input class="wysija-submit wysija-submit-field" type="submit" value="Subscribe!" />
<input type="hidden" name="form_id" value="1" />
<input type="hidden" name="action" value="save" />
<input type="hidden" name="controller" value="subscribers" />
<input type="hidden" value="1" name="wysija-page" />
<input type="hidden" name="wysija[user_list][list_ids]" value="3" />
</form></div></aside>	</div><!-- #secondary -->
	<script>
var _prum = [['id', '544090ababe53d0e3e76d6ce'],
['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
var s = document.getElementsByTagName('script')[0]
, p = document.createElement('script');
p.async = 'async';
p.src = '//rum-static.pingdom.net/prum.min.js';
s.parentNode.insertBefore(p, s);
})();
</script>
</div><!-- #content -->
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="site-info">
All Rights Reserved
<span class="sep"> | </span>
The Jackal of Javascript
</div><!-- .site-info -->
<div class="rnd-circle" style="background: black;width: 10px;height: 10px;border-radius: 50%;"></div>
</footer><!-- #colophon -->
</div><!-- #page -->
<script type='text/javascript'><!--
var seriesdropdown = document.getElementById("orgseries_dropdown");
if (seriesdropdown) {
function onSeriesChange() {
if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
location.href = "/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
}
}
seriesdropdown.onchange = onSeriesChange;
}
--></script>
<script type="text/javascript">
// <![CDATA[
var disqus_shortname = 'thejackalofjavascriptcom';
(function () {
var nodes = document.getElementsByTagName('span');
for (var i = 0, url; i < nodes.length; i++) {
if (nodes[i].className.indexOf('dsq-postid') != -1) {
nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
url = nodes[i].parentNode.href.split('#', 1);
if (url.length == 1) { url = url[0]; }
else { url = url[1]; }
nodes[i].parentNode.href = url + '#disqus_thread';
}
}
var s = document.createElement('script'); 
s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
// ]]>
</script>
<div class="scroll-back-to-top-wrapper">
<span class="scroll-back-to-top-inner">
<i class="fa fa-2x fa-arrow-circle-up"></i>
</span>
</div>
<style type="text/css">
#wpfront-notification-bar 
{
background: #242d36;
background: -moz-linear-gradient(top, #242d36 0%, #242d36 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#242d36), color-stop(100%,#242d36));
background: -webkit-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -o-linear-gradient(top, #242d36 0%,#242d36 100%);
background: -ms-linear-gradient(top, #242d36 0%,#242d36 100%);
background: linear-gradient(to bottom, #242d36 0%, #242d36 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#242d36', endColorstr='#242d36',GradientType=0 );
}
#wpfront-notification-bar div.wpfront-message
{
color: #ffffff;
}
#wpfront-notification-bar a.wpfront-button
{
background: #f45145;
background: -moz-linear-gradient(top, #f45145 0%, #f45145 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f45145), color-stop(100%,#f45145));
background: -webkit-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -o-linear-gradient(top, #f45145 0%,#f45145 100%);
background: -ms-linear-gradient(top, #f45145 0%,#f45145 100%);
background: linear-gradient(to bottom, #f45145 0%, #f45145 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f45145', endColorstr='#f45145',GradientType=0 );
color: #ffffff;
}
#wpfront-notification-bar-open-button
{
background-color: #00b7ea;
}
#wpfront-notification-bar  div.wpfront-close 
{
border: 1px solid #555555;
background-color: #555555;
color: #000000;
}
#wpfront-notification-bar  div.wpfront-close:hover 
{
border: 1px solid #aaaaaa;
background-color: #aaaaaa;
}
</style>
<div id="wpfront-notification-bar-spacer"  style="display: none;">
<div id="wpfront-notification-bar-open-button" class="top wpfront-bottom-shadow"></div>
<div id="wpfront-notification-bar" class="wpfront-fixed">
<div class="wpfront-close">X</div>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<div class="wpfront-message">
Interested in building IoT Solutions using only JavaScript?<br>Checkout my new book:                    </div>
<div>
<a class="wpfront-button" href="https://www.packtpub.com/hardware-and-creative/advanced-iot-javascript"  target="_blank" >Advanced IoT with JavaScript</a>
</div>
</td>
</tr>
</table>
</div>
</div>
<style type="text/css">
#wpfront-notification-bar  div{display:inline;}</style>
<script type="text/javascript">if(typeof wpfront_notification_bar == "function") wpfront_notification_bar({"position":1,"height":0,"fixed_position":"on","animate_delay":0.5,"close_button":true,"button_action_close_bar":false,"auto_close_after":0,"display_after":1,"is_admin_bar_showing":false,"display_open_button":false,"keep_closed":"on","keep_closed_for":1,"position_offset":0,"display_scroll":"on","display_scroll_offset":100});</script><script type='text/javascript' src='/wp-content/plugins/jetpack/modules/photon/photon.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script>
<script type='text/javascript' src='/wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"\/wp-admin\/admin-ajax.php","post_id":"2478"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/wp-postviews/postviews-cache.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js'></script>
<script type='text/javascript' src='/wp-content/themes/sorbet/js/menus.js'></script>
<script type='text/javascript' src='/wp-content/themes/sorbet/js/skip-link-focus-fix.js'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/lazy-load/js/jquery.sonar.min.js'></script>
<script type='text/javascript' src='/wp-content/plugins/lazy-load/js/lazy-load.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/postmessage.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/jquery.jetpack-resize.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/_inc/jquery.inview.js'></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/likes/queuehandler.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/validate/languages/jquery.validationEngine-en.js'></script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/validate/jquery.validationEngine.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":"\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
var wysijaAJAX = {"action":"wysija_ajax","controller":"subscribers","ajaxurl":"\/wp-admin\/admin-ajax.php","loadingTrans":"Loading...","is_rtl":""};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/wysija-newsletters/js/front-subscribers.js'></script>
<iframe src='http://widgets.wp.com/likes/master.html?ver=20141028#ver=20141028' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script type="text/javascript">
jQuery.noConflict();
(function( $ ) {
$(function() {
// More code using $ as alias to jQuery
$("area[href*=#],a[href*=#]:not([href=#]):not([href^='#tab']):not([href^='#quicktab']):not([href^='#pane'])").click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top - 20  
},900 ,'easeOutQuint');
return false;
}
}
});
});
})(jQuery);	
</script>				
<script type='text/javascript' src='http://stats.wp.com/e-201746.js' async defer></script>
<script type='text/javascript'>
_stq = window._stq || [];
_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'70838519',post:'2478',tz:'5.5',srv:'thejackalofjavascript.com'} ]);
_stq.push([ 'clickTrackerInit', '70838519', '2478' ]);
</script>
<div id="upprev_box"><h6>Read previous post:</h6><div class="upprev_excerpt"><h5><a href="/twitter-live-search/" rel="Node Webkit, Firebase and Ionic Framework &#8211; A one to one chat client">Angularjs, Material Design and Twitter Streams &#8211; A Twitter Live Search App</a></h5><p>Recently I have stumbled upon Angular Material an Angularjs implementation of the Material Design and wanted to take it for...</p></div><a id="upprev_close" href="#" rel="close">Close</a></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47881846-1', 'auto');
ga('send', 'pageview');
</script>
<a style="display:none;" href="http://www.alexa.com/siteinfo//"><script type="text/javascript" src="http://xslt.alexa.com/site_stats/js/t/a?url=/"></script></a>
</body>
</html><script>if(document.getElementById('to-contents') == null){ } else {var a = document.getElementById('to-contents').getElementsByTagName('a'); for(var i=0; i< a.length;i++){var b = a[i].getAttribute('href').split('#');if(b.length >=2)a[i].setAttribute('href', '#'+b[1]);}}</script>
<script>if(typeof jQuery == 'function'){jQuery('.widgetGuts.shortcode h3').html('Inform Me About New Posts')}</script><!-- WP Fastest Cache file was created in 5.10302591324 seconds, on 19-11-17 3:33:40 -->